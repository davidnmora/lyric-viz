/*! For license information please see main.64ff1c93.js.LICENSE.txt */
!function(){var e={24:function(e,t,n){"use strict";n.r(t),n.d(t,{Icon:function(){return x},default:function(){return k}});var r=n(462),i=n(942),a=n(791),o=n(554),u=n(454),s={light:"var(--ds-surface, #FFFFFF)",dark:"var(--ds-surface, #1B2638)"},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return s[e]},c="16px",f="24px",d="32px",h="48px",p={small:{width:c,height:c},medium:{width:f,height:f},large:{width:d,height:d},xlarge:{width:h,height:h}},v=((0,o.iv)(p.small),(0,o.iv)(p.medium),(0,o.iv)(p.large),(0,o.iv)(p.xlarge),function(e){var t=e.width,n=e.height,r=e.size;return t&&n?{width:t,height:n}:r?p[r]:void 0});function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(0,o.iv)({display:"inline-block",flexShrink:0,lineHeight:1,"> svg":y(y({},{overflow:"hidden",pointerEvents:"none",stop:{stopColor:"currentColor"}}),{},{maxWidth:"100%",maxHeight:"100%",color:"var(--icon-primary-color)",fill:"var(--icon-secondary-color)",verticalAlign:"bottom"})}),g=(0,o.iv)({"@media screen and (forced-colors: active)":{"> svg":{filter:"grayscale(1)","--icon-primary-color":"CanvasText","--icon-secondary-color":"Canvas"}}}),_=(0,o.iv)({"@media screen and (forced-colors: active)":{"> svg":{"--icon-primary-color":"Canvas"}}}),w=(0,o.iv)({"@media screen and (forced-colors: active)":{"> svg":{"--icon-secondary-color":"transparent"}}}),x=(0,a.memo)((function(e){var t=e,n=t.glyph,i=t.dangerouslySetGlyph,a=t.primaryColor,s=void 0===a?"currentColor":a,c=t.secondaryColor,f=t.size,d=t.testId,h=t.label,p=t.width,m=t.height,y=i?{dangerouslySetInnerHTML:{__html:i}}:{children:n?(0,o.tZ)(n,{role:"presentation"}):null},x=v({width:p,height:m,size:f}),k=(0,u.m)().mode;return(0,o.tZ)("span",(0,r.Z)({"data-testid":d,role:h?"img":"presentation","aria-label":h||void 0,"aria-hidden":!h||void 0,style:{"--icon-primary-color":s,"--icon-secondary-color":c||l(k)}},y,{css:[b,g,s===c&&_,"transparent"===c&&w,x&&(0,o.iv)({width:x.width,height:x.height,"> svg":x})]}))})),k=x},153:function(e,t,n){"use strict";t.Z=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r},a=n(24);var o=function(e){return i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.292 10.293a1.009 1.009 0 000 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 000-1.419.987.987 0 00-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 00-1.406 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};o.displayName="ChevronDownIcon";var u=o;t.Z=u},755:function(e,t,n){"use strict";t.Z=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r},a=n(24);var o=function(e){return i.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="9"/><path d="M16.155 14.493a1.174 1.174 0 11-1.662 1.663L12 13.662l-2.494 2.494a1.172 1.172 0 01-1.662 0 1.176 1.176 0 010-1.663L10.337 12 7.844 9.507a1.176 1.176 0 011.662-1.662L12 10.338l2.493-2.493a1.174 1.174 0 111.662 1.662L13.662 12l2.493 2.493z" fill="inherit"/></g></svg>'},e))};o.displayName="SelectClearIcon";var u=o;t.Z=u},454:function(e,t,n){"use strict";n.d(t,{m:function(){return u}});var r=n(925),i=n(791),a=["children"];var o=function(e){var t=function(e,t){return e(t)},n=(0,i.createContext)(e);function o(e){return((0,i.useContext)(n)||t)(e)}return{Consumer:function(e){var t=e.children,n=o((0,r.Z)(e,a));return i.createElement(i.Fragment,null,t(n))},Provider:function(e){var r=(0,i.useContext)(n),a=e.value||t,o=(0,i.useCallback)((function(e){return a(r,e)}),[r,a]);return i.createElement(n.Provider,{value:o},e.children)},useTheme:o}}((function(){return{mode:"light"}})),u=(o.Provider,o.Consumer,o.useTheme)},482:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function l(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function d(e){return e.length}function h(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,y=0,b=0,g=0,_="";function w(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:m,length:o,return:""}}function x(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function k(){return g=b>0?c(_,--b):0,m--,10===g&&(m=1,v--),g}function S(){return g=b<y?c(_,b++):0,m++,10===g&&(m=1,v++),g}function O(){return c(_,b)}function A(){return b}function E(e,t){return f(_,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C(e){return v=m=1,y=d(_=e),b=0,[]}function T(e){return _="",e}function M(e){return u(E(b-1,z(91===e?e+2:40===e?e+1:e)))}function D(e){for(;(g=O())&&g<33;)S();return I(e)>2||I(g)>3?"":" "}function j(e,t){for(;--t&&S()&&!(g<48||g>102||g>57&&g<65||g>70&&g<97););return E(e,A()+(t<6&&32==O()&&32==S()))}function z(e){for(;S();)switch(g){case e:return b;case 34:case 39:34!==e&&39!==e&&z(g);break;case 40:41===e&&z(e);break;case 92:S()}return b}function N(e,t){for(;S()&&e+g!==57&&(e+g!==84||47!==O()););return"/*"+E(t,b-1)+"*"+a(47===e?e:S())}function P(e){for(;!I(O());)S();return E(e,b)}var F="-ms-",L="-moz-",B="-webkit-",R="comm",V="rule",U="decl",H="@keyframes";function W(e,t){for(var n="",r=h(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Z(e,t,n,r){switch(e.type){case"@import":case U:return e.return=e.return||e.value;case R:return"";case H:return e.return=e.value+"{"+W(e.children,r)+"}";case V:e.value=e.props.join(",")}return d(n=W(e.children,r))?e.return=e.value+"{"+n+"}":""}function Y(e){return T($("",null,null,null,[""],e=C(e),0,[0],e))}function $(e,t,n,r,i,o,u,f,h){for(var v=0,m=0,y=u,b=0,g=0,_=0,w=1,x=1,E=1,I=0,C="",T=i,z=o,F=r,L=C;x;)switch(_=I,I=S()){case 40:if(108!=_&&58==c(L,y-1)){-1!=l(L+=s(M(I),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:L+=M(I);break;case 9:case 10:case 13:case 32:L+=D(_);break;case 92:L+=j(A()-1,7);continue;case 47:switch(O()){case 42:case 47:p(q(N(S(),A()),t,n),h);break;default:L+="/"}break;case 123*w:f[v++]=d(L)*E;case 125*w:case 59:case 0:switch(I){case 0:case 125:x=0;case 59+m:g>0&&d(L)-y&&p(g>32?X(L+";",r,n,y-1):X(s(L," ","")+";",r,n,y-2),h);break;case 59:L+=";";default:if(p(F=G(L,t,n,v,m,i,f,C,T=[],z=[],y),o),123===I)if(0===m)$(L,t,F,F,T,o,y,f,z);else switch(99===b&&110===c(L,3)?100:b){case 100:case 109:case 115:$(e,F,F,r&&p(G(e,F,F,0,0,i,f,C,i,T=[],y),z),i,z,y,f,r?T:z);break;default:$(L,F,F,F,[""],z,0,f,z)}}v=m=g=0,w=E=1,C=L="",y=u;break;case 58:y=1+d(L),g=_;default:if(w<1)if(123==I)--w;else if(125==I&&0==w++&&125==k())continue;switch(L+=a(I),I*w){case 38:E=m>0?1:(L+="\f",-1);break;case 44:f[v++]=(d(L)-1)*E,E=1;break;case 64:45===O()&&(L+=M(S())),b=O(),m=y=d(C=L+=P(A())),I++;break;case 45:45===_&&2==d(L)&&(w=0)}}return o}function G(e,t,n,r,a,o,l,c,d,p,v){for(var m=a-1,y=0===a?o:[""],b=h(y),g=0,_=0,x=0;g<r;++g)for(var k=0,S=f(e,m+1,m=i(_=l[g])),O=e;k<b;++k)(O=u(_>0?y[k]+" "+S:s(S,/&\f/g,y[k])))&&(d[x++]=O);return w(e,t,n,0===a?V:c,d,p,v)}function q(e,t,n){return w(e,t,n,R,a(g),f(e,2,-2),0)}function X(e,t,n,r){return w(e,t,n,U,f(e,0,r),f(e,r+1,-1),r)}var Q=function(e,t,n){for(var r=0,i=0;r=i,i=O(),38===r&&12===i&&(t[n]=1),!I(i);)S();return E(e,b)},K=function(e,t){return T(function(e,t){var n=-1,r=44;do{switch(I(r)){case 0:38===r&&12===O()&&(t[n]=1),e[n]+=Q(b-1,t,n);break;case 2:e[n]+=M(r);break;case 4:if(44===r){e[++n]=58===O()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=S());return e}(C(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],a=K(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var l=0;l<o.length;l++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[l]):o[l]+" "+a[u]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return"-webkit-print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return B+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return B+e+L+e+F+e+e;case 6828:case 4268:return B+e+F+e+e;case 6165:return B+e+F+"flex-"+e+e;case 5187:return B+e+s(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return B+e+F+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return B+e+F+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return B+e+F+s(e,"shrink","negative")+e;case 5292:return B+e+F+s(e,"basis","preferred-size")+e;case 6060:return"-webkit-box-"+s(e,"-grow","")+B+e+F+s(e,"grow","positive")+e;case 4554:return B+s(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+B+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,"-webkit-$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~l(e,"stretch")?ne(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,d(e)-3-(~l(e,"!important")&&10))){case 107:return s(e,":",":-webkit-")+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===c(e,14)?"inline-":"")+"box$3$1"+"-webkit-$2$3$1"+"-ms-$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return B+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return B+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return B+e+F+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return B+e+F+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case U:e.return=ne(e.value,e.length);break;case H:return W([x(e,{value:s(e.value,"@","@-webkit-")})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([x(e,{props:[s(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return W([x(e,{props:[s(t,/:(plac\w+)/,":-webkit-input-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var l,c,f=[Z,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=h(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([ee,te].concat(i,f));o=function(e,t,n,r){l=n,W(Y(e?e+"{"+t.styles+"}":t.styles),d),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return p.sheet.hydrate(s),p}},886:function(e,t,n){"use strict";n.d(t,{C:function(){return c},E:function(){return m},T:function(){return d},c:function(){return p},h:function(){return s},w:function(){return f}});var r=n(791),i=n(482),a=n(836),o=n(508),u=n(561),s={}.hasOwnProperty,l=(0,r.createContext)("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null);var c=l.Provider,f=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(l);return e(t,i,n)}))},d=(0,r.createContext)({});var h="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",p=function(e,t){var n={};for(var r in t)s.call(t,r)&&(n[r]=t[r]);return n[h]=e,n},v=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,a.hC)(t,n,r);(0,u.L)((function(){return(0,a.My)(t,n,r)}));return null},m=f((function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var u=e[h],l=[i],c="";"string"===typeof e.className?c=(0,a.fp)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var f=(0,o.O)(l,void 0,(0,r.useContext)(d));c+=t.key+"-"+f.name;var p={};for(var m in e)s.call(e,m)&&"css"!==m&&m!==h&&(p[m]=e[m]);return p.ref=n,p.className=c,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(v,{cache:t,serialized:f,isStringTag:"string"===typeof u}),(0,r.createElement)(u,p))}))},554:function(e,t,n){"use strict";n.d(t,{F4:function(){return c},iv:function(){return l},ms:function(){return p},tZ:function(){return s}});var r=n(791),i=(n(482),n(886)),a=(n(110),n(836)),o=n(508),u=n(561),s=function(e,t){var n=arguments;if(null==t||!i.h.call(t,"css"))return r.createElement.apply(void 0,n);var a=n.length,o=new Array(a);o[0]=i.E,o[1]=(0,i.c)(e,t);for(var u=2;u<a;u++)o[u]=n[u];return r.createElement.apply(null,o)};function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.O)(t)}var c=function(){var e=l.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},f=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var a=t[r];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else for(var u in o="",a)a[u]&&u&&(o&&(o+=" "),o+=u);break;default:o=a}o&&(i&&(i+=" "),i+=o)}}return i};function d(e,t,n){var r=[],i=(0,a.fp)(e,r,n);return r.length<2?n:i+t(r)}var h=function(e){var t=e.cache,n=e.serializedArr;(0,u.L)((function(){for(var e=0;e<n.length;e++)(0,a.My)(t,n[e],!1)}));return null},p=(0,i.w)((function(e,t){var n=[],u=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var u=(0,o.O)(r,t.registered);return n.push(u),(0,a.hC)(t,u,!1),t.key+"-"+u.name},s={css:u,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return d(t.registered,u,f(n))},theme:(0,r.useContext)(i.T)},l=e.children(s);return!0,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(h,{cache:t,serializedArr:n}),l)}))},508:function(e,t,n){"use strict";n.d(t,{O:function(){return p}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var a=/[A-Z]|^ms/g,o=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},s=function(e){return null!=e&&"boolean"!==typeof e},l=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return u(e)?e:e.replace(a,"-$&").toLowerCase()})),c=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(o,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||u(e)||"number"!==typeof t||0===t?t:t+"px"};function f(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=f(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":s(o)&&(r+=l(a)+":"+c(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=f(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var d=0;d<o.length;d++)s(o[d])&&(r+=l(a)+":"+c(a,o[d])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,f(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,h=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var p=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=f(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=f(n,t,e[u]),i&&(a+=o[u]);h.lastIndex=0;for(var s,l="";null!==(s=h.exec(a));)l+="-"+s[1];return{name:r(a)+l,styles:a,next:d}}},836:function(e,t,n){"use strict";n.d(t,{My:function(){return a},fp:function(){return r},hC:function(){return i}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},a=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},561:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return o}});var i=n(791),a=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,o=a||function(e){return e()};a||i.useLayoutEffect},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var b=d(n,y);try{l(t,y,b)}catch(g){}}}}return t}},263:function(e,t,n){"use strict";var r=n(861).default,i=n(424).default,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=u(n(791));n(921),n(290);t.default=s.default.memo((0,s.forwardRef)((function(e,t){var n=void 0===e.ruler||null===e.ruler||e.ruler,a=void 0===e.label||null===e.label||e.label,o=void 0!==e.subSteps&&null!==e.subSteps&&e.subSteps,u=void 0!==e.stepOnly&&null!==e.stepOnly&&e.stepOnly,l=void 0!==e.preventWheel&&null!==e.preventWheel&&e.preventWheel,c=(0,s.useRef)(null),f=+(e.min||0),d=+(e.max||100),h=+(e.step||5),p=0,v=Math.floor((+d-+f)/+h),m=e.labels||[];0===m.length?((m=[]).push(f.toString()),m.push(d.toString())):v=m.length-1,"string"===typeof a&&(a="true"===a),"string"===typeof n&&(n="true"===n),"string"===typeof l&&(l="true"===l),h.toString().includes(".")&&(p=2);var y=e.minValue;null!==y&&void 0!==y||(y=25),y=+y;var b=e.maxValue;null!==b&&void 0!==b||(b=75),y<f&&(y=f),y>d&&(y=d),(b=+b)<y&&(b=+y+ +h),b>d&&(b=d),b<f&&(b=f);var g=(0,s.useState)(+y),_=i(g,2),w=_[0],x=_[1],k=(0,s.useState)(+b),S=i(k,2),O=S[0],A=S[1],E=(0,s.useState)((w-f)/(d-f)*100),I=i(E,2),C=I[0],T=I[1],M=(0,s.useState)((d-O)/(d-f)*100),D=i(M,2),j=D[0],z=D[1],N=(0,s.useState)(""),P=i(N,2),F=P[0],L=P[1],B=(0,s.useState)(""),R=i(B,2),V=R[0],U=R[1],H=(0,s.useState)(!0),W=i(H,2),Z=W[0],Y=W[1];return(0,s.useEffect)((function(){c&&c.current&&c.current.parentNode.addEventListener("wheel",(function(e){(e.shiftKey||e.ctrlKey)&&e.preventDefault()}))}),[c]),(0,s.useEffect)((function(){if(O<w)throw new Error("maxValue is less than minValue");L(e.minCaption||w.toFixed(p)),U(e.maxCaption||O.toFixed(p)),T((w-f)/(d-f)*100),z((d-O)/(d-f)*100),window.setTimeout((function(){var t={min:f,max:d,minValue:w,maxValue:O};Z&&e.onChange&&e.onChange(t),e.onInput&&e.onInput(t)}))}),[w,O,f,d,p,e,Z]),(0,s.useEffect)((function(){var t=e.minValue;null!==t&&void 0!==t||(t=25),(t=+t)<f&&(t=f),t>d&&(t=d),x(+t)}),[e.minValue,f,d]),(0,s.useEffect)((function(){var t=e.maxValue;null!==t&&void 0!==t||(t=75),(t=+t)>d&&(t=d),t<f&&(t=f),A(+t)}),[e.maxValue,f,d,h]),s.default.createElement("div",{ref:t,className:(e.baseClassName||"multi-range-slider")+" "+(e.className||""),style:e.style,onWheel:function(e){if(!0!==l&&(e.shiftKey||e.ctrlKey)){var t=(d-f)/100;t>1&&(t=1),e.deltaY<0&&(t=-t);var n=w,r=O;e.shiftKey&&e.ctrlKey?n+t>=f&&r+t<=d&&(n+=t,r+=t):e.ctrlKey?((t=r+t)<n+h?t=n+h:t>d&&(t=d),r=t):e.shiftKey&&((t=n+t)<f?t=f:t>r-h&&(t=r-h),n=t),A(r),x(n)}}},s.default.createElement("div",{className:"bar",ref:c},s.default.createElement("div",{className:"bar-left",style:{width:C+"%",backgroundColor:e.barLeftColor},onClick:function(e){var t=w-h;t<f&&(t=f),x(t)}}),s.default.createElement("input",{className:"input-type-range input-type-range-min",type:"range",min:f,max:d,step:h,value:w,onInput:function(e){var t=parseFloat(e.target.value);t>O-h&&(t=O-h),x(t)}}),s.default.createElement("div",{className:"thumb thumb-left",style:{backgroundColor:e.thumbLeftColor},onMouseDown:function(e){var t=e.clientX,n=e.target.parentNode.getBoundingClientRect(),r=w;Y(!1);var i=function(e){var i=(e.clientX-t)/n.width,a=r+(d-f)*i;u&&(a=Math.round(a/h)*h),(a=parseFloat(a.toFixed(p)))<f?a=f:a>O-h&&(a=O-h),x(a)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(t){Y(!0),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}))},onTouchStart:function(e){var t=e.touches[0].clientX,n=e.target.parentNode.getBoundingClientRect(),r=w;Y(!1);var i=function(e){var i=(e.touches[0].clientX-t)/n.width,a=r+(d-f)*i;u&&(a=Math.round(a/h)*h),(a=parseFloat(a.toFixed(p)))<f?a=f:a>O-h&&(a=O-h),x(a)};document.addEventListener("touchmove",i),document.addEventListener("touchend",(function e(t){Y(!0),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",e)}))}},s.default.createElement("div",{className:"caption"},s.default.createElement("span",{className:"min-caption"},F))),s.default.createElement("div",{className:"bar-inner",style:{backgroundColor:e.barInnerColor}},s.default.createElement("div",{className:"bar-inner-left",onClick:function(e){var t=w+h;t>O-h&&(t=O-h),x(t)}}),s.default.createElement("div",{className:"bar-inner-right",onClick:function(e){var t=O-h;t<w+h&&(t=w+h),A(t)}})),s.default.createElement("input",{className:"input-type-range input-type-range-max",type:"range",min:f,max:d,step:h,value:O,onInput:function(e){var t=parseFloat(e.target.value);t<w+h&&(t=w+h),A(t)}}),s.default.createElement("div",{className:"thumb thumb-right",style:{backgroundColor:e.thumbRightColor},onMouseDown:function(e){var t=e.clientX,n=e.target.parentNode.getBoundingClientRect(),r=O;Y(!1);var i=function(e){var i=(e.clientX-t)/n.width,a=r+(d-f)*i;u&&(a=Math.round(a/h)*h),(a=parseFloat(a.toFixed(p)))<w+h?a=w+h:a>d&&(a=d),A(a)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(t){Y(!0),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}))},onTouchStart:function(e){var t=e.touches[0].clientX,n=e.target.parentNode.getBoundingClientRect(),r=O;Y(!1);var i=function(e){var i=(e.touches[0].clientX-t)/n.width,a=r+(d-f)*i;u&&(a=Math.round(a/h)*h),(a=parseFloat(a.toFixed(p)))<w+h?a=w+h:a>d&&(a=d),A(a)};document.addEventListener("touchmove",i),document.addEventListener("touchend",(function e(t){Y(!0),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",e)}))}},s.default.createElement("div",{className:"caption"},s.default.createElement("span",{className:"max-caption"},V))),s.default.createElement("div",{className:"bar-right",style:{width:j+"%",backgroundColor:e.barRightColor},onClick:function(e){var t=O+h;t>d&&(t=d),A(t)}})),n&&s.default.createElement("div",{className:"ruler"},r(Array(v)).map((function(e,t){return s.default.createElement("div",{key:t,className:"ruler-rule"},o&&r(Array(10)).map((function(e,t){return s.default.createElement("div",{key:t,className:"ruler-sub-rule"})})))}))),a&&s.default.createElement("div",{className:"labels"},m.map((function(e){return s.default.createElement("div",{key:e.toString(),className:"label"},e)}))))})))},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function g(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),E=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var P,F=Object.assign;function L(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var B=!1;function R(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function V(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case O:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&g(e,"checked",t,!1)}function K(e,t){Q(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ge(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Se=null;function Oe(e){if(e=gi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ae(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ee(){if(ke){var e=ke,t=Se;if(Se=ke=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Ie(e,t){return e(t)}function Ce(){}var Te=!1;function Me(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ie(e,t,n)}finally{Te=!1,(null!==ke||null!==Se)&&(Ce(),Ee())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var je=!1;if(c)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){je=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ce){je=!1}function Ne(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Pe=!1,Fe=null,Le=!1,Be=null,Re={onError:function(e){Pe=!0,Fe=e}};function Ve(e,t,n,r,i,a,o,u,s){Pe=!1,Fe=null,Ne.apply(Re,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(a(188))}function Ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Qe=i.unstable_now,Ke=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,kt,St,Ot,At=!1,Et=[],It=null,Ct=null,Tt=null,Mt=new Map,Dt=new Map,jt=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Pt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=gi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=bi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ot(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Bt(e,t,n){Lt(e)&&n.delete(t)}function Rt(){At=!1,null!==It&&Lt(It)&&(It=null),null!==Ct&&Lt(Ct)&&(Ct=null),null!==Tt&&Lt(Tt)&&(Tt=null),Mt.forEach(Bt),Dt.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Rt)))}function Ut(e){function t(t){return Vt(t,e)}if(0<Et.length){Vt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Ct&&Vt(Ct,e),null!==Tt&&Vt(Tt,e),Mt.forEach(t),Dt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Ft(n),null===n.blockedOn&&jt.shift()}var Ht=_.ReactCurrentBatchConfig,Wt=!0;function Zt(e,t,n,r){var i=gt,a=Ht.transition;Ht.transition=null;try{gt=1,$t(e,t,n,r)}finally{gt=i,Ht.transition=a}}function Yt(e,t,n,r){var i=gt,a=Ht.transition;Ht.transition=null;try{gt=4,$t(e,t,n,r)}finally{gt=i,Ht.transition=a}}function $t(e,t,n,r){if(Wt){var i=qt(e,t,n,r);if(null===i)Wr(e,t,r,Gt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Pt(It,e,t,n,r,i),!0;case"dragenter":return Ct=Pt(Ct,e,t,n,r,i),!0;case"mouseover":return Tt=Pt(Tt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Mt.set(a,Pt(Mt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Pt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<zt.indexOf(e)){for(;null!==i;){var a=gi(i);if(null!==a&&wt(a),null===(a=qt(e,t,n,r))&&Wr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function qt(e,t,n,r){if(Gt=null,null!==(e=bi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Kt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Kt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=F({},ln,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gn=an(bn),_n=an(F({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function On(){return Sn}var An=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(An),In=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Tn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Mn),jn=[9,13,27,32],zn=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var Pn=c&&"TextEvent"in window&&!Nn,Fn=c&&(!zn||Nn&&8<Nn&&11>=Nn),Ln=String.fromCharCode(32),Bn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Zn(e,t,n,r){Ae(r),0<(t=Yr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Gn(e){Lr(e,0)}function qn(e){if($(_i(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Kn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Kn=Jn}else Kn=!1;Qn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),$n=Yn=null)}function nr(e){if("value"===e.propertyName&&qn($n)){var t=[];Zn(t,$n,e,we(e)),Me(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn($n)}function ar(e,t){if("click"===e)return qn(t)}function or(e,t){if("input"===e||"change"===e)return qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,br=null,gr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;gr||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&sr(br,r)||(br=r,0<(r=Yr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Sr={};function Or(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ar=Or("animationend"),Er=Or("animationiteration"),Ir=Or("animationstart"),Cr=Or("transitionend"),Tr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Tr.set(e,t),s(t,[e])}for(var jr=0;jr<Mr.length;jr++){var zr=Mr[jr];Dr(zr.toLowerCase(),"on"+(zr[0].toUpperCase()+zr.slice(1)))}Dr(Ar,"onAnimationEnd"),Dr(Er,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(Ve.apply(this,arguments),Pe){if(!Pe)throw Error(a(198));var c=Fe;Pe=!1,Fe=null,Le||(Le=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,l),a=s}}}if(Le)throw e=Be,Le=!1,Be=null,e}function Br(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Rr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Rr(t,!1,e),Rr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Rr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=Zt;break;case 4:i=Yt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=bi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Me((function(){var r=a,i=we(n),o=[];e:{var u=Tr.get(e);if(void 0!==u){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=En;break;case"focusin":l="focus",s=mn;break;case"focusout":l="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Ar:case Er:case Ir:s=yn;break;case Cr:s=Tn;break;case"scroll":s=dn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=gn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==u?u+"Capture":null:u;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=De(p,d))&&c.push(Zr(p,v,h)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!bi(l)&&!l[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?bi(l):null)&&(l!==(f=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:_i(s),h=null==l?u:_i(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,bi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(d=l,p=0,h=c=s;h;h=$r(h))p++;for(h=0,v=d;v;v=$r(v))h++;for(;0<p-h;)c=$r(c),p--;for(;0<h-p;)d=$r(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=$r(c),d=$r(d)}c=null}else c=null;null!==s&&Gr(o,u,s,c,!1),null!==l&&null!==f&&Gr(o,f,l,c,!0)}if("select"===(s=(u=r?_i(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Wn(u))if(Qn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Zn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?_i(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,br=null);break;case"focusout":br=yr=mr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,_r(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(o,n,i)}var b;if(zn)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Un?Rn(e,n)&&(g="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(g="onCompositionStart");g&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==g?"onCompositionEnd"===g&&Un&&(b=en()):(Kt="value"in(Qt=i)?Qt.value:Qt.textContent,Un=!0)),0<(y=Yr(r,g)).length&&(g=new _n(g,e,null,n,i),o.push({event:g,listeners:y}),b?g.data=b:null!==(b=Vn(n))&&(g.data=b))),(b=Pn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!zn&&Rn(e,t)?(e=en(),Jt=Kt=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=b))}Lr(o,t)}))}function Zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Zr(e,a,i)),null!=(a=De(e,t))&&r.push(Zr(e,a,i))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=De(n,a))&&o.unshift(Zr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Zr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Xr,"")}function Kr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function bi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],ki=-1;function Si(e){return{current:e}}function Oi(e){0>ki||(e.current=xi[ki],xi[ki]=null,ki--)}function Ai(e,t){ki++,xi[ki]=e.current,e.current=t}var Ei={},Ii=Si(Ei),Ci=Si(!1),Ti=Ei;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){Oi(Ci),Oi(Ii)}function zi(e,t,n){if(Ii.current!==Ei)throw Error(a(168));Ai(Ii,t),Ai(Ci,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return F({},n,r)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ti=Ii.current,Ai(Ii,e),Ai(Ci,Ci.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ni(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,Oi(Ci),Oi(Ii),Ai(Ii,e)):Oi(Ci),Ai(Ci,n)}var Li=null,Bi=!1,Ri=!1;function Vi(e){null===Li?Li=[e]:Li.push(e)}function Ui(){if(!Ri&&null!==Li){Ri=!0;var e=0,t=gt;try{var n=Li;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Bi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),$e(Je,Ui),i}finally{gt=t,Ri=!1}}return null}var Hi=[],Wi=0,Zi=null,Yi=0,$i=[],Gi=0,qi=null,Xi=1,Qi="";function Ki(e,t){Hi[Wi++]=Yi,Hi[Wi++]=Zi,Zi=e,Yi=t}function Ji(e,t,n){$i[Gi++]=Xi,$i[Gi++]=Qi,$i[Gi++]=qi,qi=e;var r=Xi;e=Qi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Qi=a+e}else Xi=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&(Ki(e,1),Ji(e,1,0))}function ta(e){for(;e===Zi;)Zi=Hi[--Wi],Hi[Wi]=null,Yi=Hi[--Wi],Hi[Wi]=null;for(;e===qi;)qi=$i[--Gi],$i[Gi]=null,Qi=$i[--Gi],$i[Gi]=null,Xi=$i[--Gi],$i[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ml(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qi?{id:Xi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ml(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=li(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=_.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ba=null,ga=null,_a=null;function wa(){_a=ga=ba=null}function xa(e){var t=ya.current;Oi(ya),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ba=e,_a=ga=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_u=!0),e.firstContext=null)}function Oa(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===ga){if(null===ba)throw Error(a(308));ga=e,ba.dependencies={lanes:0,firstContext:e}}else ga=ga.next=e;return t}var Aa=null;function Ea(e){null===Aa?Aa=[e]:Aa.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ea(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ta=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ja(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Is)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ea(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Na(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Pa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=h,s=f):c=c.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ps|=o,e.lanes=o,e.memoizedState=f}}function La(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ba=(new r.Component).refs;function Ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=ja(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=za(e,a,i))&&(nl(t,e,i,r),Na(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=ja(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=za(e,a,i))&&(nl(t,e,i,r),Na(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=ja(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=za(e,i,r))&&(nl(t,e,r,n),Na(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ha(e,t,n){var r=!1,i=Ei,a=t.contextType;return"object"===typeof a&&null!==a?a=Oa(a):(i=Di(t)?Ti:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Ei),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Za(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ba,Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Oa(a):(a=Di(t)?Ti:Ii.current,i.context=Mi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ra(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ba&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function $a(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===k?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Ya(e,t,n),r.return=e,r):((r=zl(n.type,n.key,n.props,null,e.mode,r)).ref=Ya(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ll(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Nl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=zl(t.type,t.key,t.props,null,e.mode,n)).ref=Ya(e,null,t),n.return=e,n;case x:return(t=Ll(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nl(t,e.mode,n,null)).return=e,t;$a(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case D:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:f(e,t,n,r,null);$a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return f(t,e=e.get(n)||null,r,i,null);$a(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===u.length)return n(i,f),ia&&Ki(i,v),l;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ki(i,v),l}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ki(i,v),l}function m(i,u,s,l){var c=N(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,v=u,m=u=0,y=null,b=s.next();null!==v&&!b.done;m++,b=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var g=h(i,v,b.value,l);if(null===g){null===v&&(v=y);break}e&&v&&null===g.alternate&&t(i,v),u=o(g,u,m),null===f?c=g:f.sibling=g,f=g,v=y}if(b.done)return n(i,v),ia&&Ki(i,m),c;if(null===v){for(;!b.done;m++,b=s.next())null!==(b=d(i,b.value,l))&&(u=o(b,u,m),null===f?c=b:f.sibling=b,f=b);return ia&&Ki(i,m),c}for(v=r(i,v);!b.done;m++,b=s.next())null!==(b=p(v,i,m,b.value,l))&&(e&&null!==b.alternate&&v.delete(null===b.key?m:b.key),u=o(b,u,m),null===f?c=b:f.sibling=b,f=b);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ki(i,m),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===k){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===D&&Ga(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ya(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((a=Nl(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=zl(o.type,o.key,o.props,null,r.mode,s)).ref=Ya(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ll(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(N(o))return m(r,a,o,s);$a(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fl(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=qa(!0),Qa=qa(!1),Ka={},Ja=Si(Ka),eo=Si(Ka),to=Si(Ka);function no(e){if(e===Ka)throw Error(a(174));return e}function ro(e,t){switch(Ai(to,t),Ai(eo,e),Ai(Ja,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Oi(Ja),Ai(Ja,t)}function io(){Oi(Ja),Oi(eo),Oi(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ai(eo,e),Ai(Ja,n))}function oo(e){eo.current===e&&(Oi(Ja),Oi(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=_.ReactCurrentDispatcher,ho=_.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,bo=!1,go=!1,_o=0,wo=0;function xo(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),go){o=0;do{if(go=!1,_o=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=lu,e=n(r,i)}while(go)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,bo=!1,t)throw Error(a(300));return e}function Oo(){var e=0!==_o;return _o=0,e}function Ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Eo(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=d,u=r):l=l.next=d,vo.lanes|=f,Ps|=f}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,ur(r,t.memoizedState)||(_u=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ps|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(_u=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mo(){}function Do(e,t){var n=vo,r=Eo(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,_u=!0),r=r.queue,Wo(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Bo(9,zo.bind(null,n,r,i,t),void 0,null),null===Cs)throw Error(a(349));0!==(30&po)||jo(n,t,i)}return i}function jo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function zo(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Fo(e)}function No(e,t,n){return n((function(){Po(t)&&Fo(e)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Ca(e,1);null!==t&&nl(t,e,1,-1)}function Lo(e){var t=Ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return Eo().memoizedState}function Vo(e,t,n,r){var i=Ao();vo.flags|=e,i.memoizedState=Bo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Bo(t,n,a,r))}vo.flags|=e,i.memoizedState=Bo(1|t,n,a,r)}function Ho(e,t){return Vo(8390656,8,e,t)}function Wo(e,t){return Uo(2048,8,e,t)}function Zo(e,t){return Uo(4,2,e,t)}function Yo(e,t){return Uo(4,4,e,t)}function $o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,$o.bind(null,t,e),n)}function qo(){}function Xo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,_u=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ps|=n,e.baseState=!0),t)}function Jo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{gt=n,ho.transition=r}}function eu(){return Eo().memoizedState}function tu(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ia(e,t,n,r))){nl(n,e,r,el()),au(n,t,r)}}function nu(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ea(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(nl(n,e,r,i=el()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){go=bo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var ou={readContext:Oa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Oa,useCallback:function(e,t){return Ao().memoizedState=[e,void 0===t?null:t],e},useContext:Oa,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,$o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ao().memoizedState=e},useState:Lo,useDebugValue:qo,useDeferredValue:function(e){return Ao().memoizedState=e},useTransition:function(){var e=Lo(!1),t=e[0];return e=Jo.bind(null,e[1]),Ao().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Ao();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cs)throw Error(a(349));0!==(30&po)||jo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(No.bind(null,r,o,e),[e]),r.flags|=2048,Bo(9,zo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ao(),t=Cs.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Oa,useCallback:Xo,useContext:Oa,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Zo,useLayoutEffect:Yo,useMemo:Qo,useReducer:Co,useRef:Ro,useState:function(){return Co(Io)},useDebugValue:qo,useDeferredValue:function(e){return Ko(Eo(),mo.memoizedState,e)},useTransition:function(){return[Co(Io)[0],Eo().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},lu={readContext:Oa,useCallback:Xo,useContext:Oa,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Zo,useLayoutEffect:Yo,useMemo:Qo,useReducer:To,useRef:Ro,useState:function(){return To(Io)},useDebugValue:qo,useDeferredValue:function(e){var t=Eo();return null===mo?t.memoizedState=e:Ko(t,mo.memoizedState,e)},useTransition:function(){return[To(Io)[0],Eo().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=ja(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Zs=r),du(0,t)},n}function vu(e,t,n){(n=ja(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ol.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ja(-1,1)).tag=2,za(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var gu=_.ReactCurrentOwner,_u=!1;function wu(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Xa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Oo(),null===e||_u?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function ku(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=jl(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(_u=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(_u=!0)}}return Eu(e,t,n,r,i)}function Ou(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(js,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(js,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(js,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(js,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Au(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eu(e,t,n,r,i){var a=Di(n)?Ti:Ii.current;return a=Mi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Oo(),null===e||_u?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Iu(e,t,n,r,i){if(Di(n)){var a=!0;Pi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hu(e,t),Ha(t,n,r),Za(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Oa(l):l=Mi(t,l=Di(n)?Ti:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Wa(t,o,r,l),Ta=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ci.current||Ta?("function"===typeof c&&(Ra(t,n,c,r),s=t.memoizedState),(u=Ta||Ua(t,n,u,r,d,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ma(t.type,u),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Oa(s):s=Mi(t,s=Di(n)?Ti:Ii.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Wa(t,o,r,s),Ta=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ci.current||Ta?("function"===typeof h&&(Ra(t,n,h,r),p=t.memoizedState),(l=Ta||Ua(t,n,l,r,d,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,a,i)}function Cu(e,t,n,r,i,a){Au(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,gu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?zi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&zi(0,t.context,!1),ro(e,t.containerInfo)}function Mu(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,ju,zu,Nu={dehydrated:null,treeContext:null,retryLane:0};function Pu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ai(uo,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Pl(s,i,0,null),e=Nl(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Pu(n),t.memoizedState=Nu,e):Lu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Bu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Pl({mode:"visible",children:r.children},i,0,null),(o=Nl(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Pu(u),t.memoizedState=Nu,o);if(0===(1&t.mode))return Bu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Bu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),_u||s){if(null!==(r=Cs)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),nl(r,e,i,-1))}return vl(),Bu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=El.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&($i[Gi++]=Xi,$i[Gi++]=Qi,$i[Gi++]=qi,Xi=e.id,Qi=e.overflow,qi=t),(t=Lu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=jl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=jl(r,u):(u=Nl(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Pu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i}return e=(u=e.child).sibling,i=jl(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Lu(e,t){return(t=Pl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Lu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ru(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Uu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ru(e,n,t);else if(19===e.tag)Ru(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ps|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=jl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $u(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yu(t),null;case 1:case 17:return Di(t.type)&&ji(),Yu(t),null;case 3:return r=t.stateNode,io(),Oi(Ci),Oi(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Yu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)ju(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Yu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Br(Nr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":X(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ie(r,o),Br("invalid",r)}for(var s in be(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Br("scroll",r)}switch(n){case"input":Y(r),J(r,o,!0);break;case"textarea":Y(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Du(e,t),t.stateNode=e;e:{switch(s=ge(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Br(Nr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":X(e,r),i=q(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(o in be(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Br("scroll",e):null!=c&&g(e,o,c,s))}switch(n){case"input":Y(e),J(e,r,!1);break;case"textarea":Y(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yu(t),null;case 6:if(e&&null!=t.stateNode)zu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Yu(t),null;case 13:if(Oi(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yu(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===zs&&(zs=3):vl())),null!==t.updateQueue&&(t.flags|=4),Yu(t),null);case 4:return io(),null===e&&Ur(t.stateNode.containerInfo),Yu(t),null;case 10:return xa(t.type._context),Yu(t),null;case 19:if(Oi(uo),null===(o=t.memoizedState))return Yu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Zu(o,!1);else{if(0!==zs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Zu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Us&&(t.flags|=128,r=!0,Zu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Zu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Yu(t),null}else 2*Qe()-o.renderingStartTime>Us&&1073741824!==n&&(t.flags|=128,r=!0,Zu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=uo.current,Ai(uo,r?1&n|2:1&n),t):(Yu(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Yu(t),6&t.subtreeFlags&&(t.flags|=8192)):Yu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Oi(Ci),Oi(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Oi(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Oi(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ju=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=q(e,i),r=q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in be(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Br("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},zu=function(e,t,n,r){n!==r&&(t.flags|=4)};var qu=!1,Xu=!1,Qu="function"===typeof WeakSet?WeakSet:Set,Ku=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var cs=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||Ju(n,t);case 6:var r=cs,i=fs;cs=null,ds(e,t,n),fs=i,null!==(cs=r)&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Ut(e)):si(cs,n.stateNode));break;case 4:r=cs,i=fs,cs=n.stateNode.containerInfo,fs=!0,ds(e,t,n),cs=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(Ju(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sl(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,fs=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===cs)throw Error(a(160));hs(o,u,i),cs=null,fs=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Sl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sl(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sl(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Sl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&Q(i,o),ge(s,u);var c=ge(s,o);for(u=0;u<l.length;u+=2){var f=l[u],d=l[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):g(i,f,d,c)}switch(s){case"input":K(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Sl(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sl(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Sl(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Qe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(c=Xu)||f,vs(t,e),Xu=c):vs(t,e),ys(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Ku=e,f=e.child;null!==f;){for(d=Ku=f;null!==Ku;){switch(p=(h=Ku).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Ju(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sl(r,n,m)}}break;case 5:Ju(h,h.return);break;case 22:if(null!==h.memoizedState){ws(d);continue}}null!==p?(p.return=h,Ku=p):ws(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ve("display",u))}catch(m){Sl(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Sl(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ls(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sl(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Ku=e,gs(e,t,n)}function gs(e,t,n){for(var r=0!==(1&e.mode);null!==Ku;){var i=Ku,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=qu;var l=Xu;if(qu=o,(Xu=s)&&!l)for(Ku=i;null!==Ku;)s=(o=Ku).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ku=s):xs(i);for(;null!==a;)Ku=a,gs(a,t,n),a=a.sibling;Ku=i,qu=u,Xu=l}_s(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ku=a):_s(e)}}function _s(e){for(;null!==Ku;){var t=Ku;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&La(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}La(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&is(t)}catch(h){Sl(t,t.return,h)}}if(t===e){Ku=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ku=n;break}Ku=t.return}}function ws(e){for(;null!==Ku;){var t=Ku;if(t===e){Ku=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ku=n;break}Ku=t.return}}function xs(e){for(;null!==Ku;){var t=Ku;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sl(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sl(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sl(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sl(t,o,s)}}}catch(s){Sl(t,t.return,s)}if(t===e){Ku=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ku=u;break}Ku=t.return}}var ks,Ss=Math.ceil,Os=_.ReactCurrentDispatcher,As=_.ReactCurrentOwner,Es=_.ReactCurrentBatchConfig,Is=0,Cs=null,Ts=null,Ms=0,Ds=0,js=Si(0),zs=0,Ns=null,Ps=0,Fs=0,Ls=0,Bs=null,Rs=null,Vs=0,Us=1/0,Hs=null,Ws=!1,Zs=null,Ys=null,$s=!1,Gs=null,qs=0,Xs=0,Qs=null,Ks=-1,Js=0;function el(){return 0!==(6&Is)?Qe():-1!==Ks?Ks:Ks=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==Ms?Ms&-Ms:null!==va.transition?(0===Js&&(Js=vt()),Js):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nl(e,t,n,r){if(50<Xs)throw Xs=0,Qs=null,Error(a(185));yt(e,n,r),0!==(2&Is)&&e===Cs||(e===Cs&&(0===(2&Is)&&(Fs|=n),4===zs&&ul(e,Ms)),rl(e,r),1===n&&0===Is&&0===(1&t.mode)&&(Us=Qe()+500,Bi&&Ui()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Cs?Ms:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(sl.bind(null,e)):Vi(sl.bind(null,e)),oi((function(){0===(6&Is)&&Ui()})),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ks=-1,Js=0,0!==(6&Is))throw Error(a(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=dt(e,e===Cs?Ms:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Is;Is|=2;var o=pl();for(Cs===e&&Ms===t||(Hs=null,Us=Qe()+500,dl(e,t));;)try{bl();break}catch(s){hl(e,s)}wa(),Os.current=o,Is=i,null!==Ts?t=0:(Cs=null,Ms=0,t=zs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Ns,dl(e,0),ul(e,r),rl(e,Qe()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Ns,dl(e,0),ul(e,r),rl(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Rs,Hs);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Vs+500-Qe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Rs,Hs),t);break}wl(e,Rs,Hs);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Rs,Hs),r);break}wl(e,Rs,Hs);break;default:throw Error(a(329))}}}return rl(e,Qe()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Rs,Rs=n,null!==t&&ol(t)),e}function ol(e){null===Rs?Rs=e:Rs.push.apply(Rs,e)}function ul(e,t){for(t&=~Ls,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sl(e){if(0!==(6&Is))throw Error(a(327));xl();var t=dt(e,0);if(0===(1&t))return rl(e,Qe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Ns,dl(e,0),ul(e,t),rl(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Rs,Hs),rl(e,Qe()),null}function ll(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Us=Qe()+500,Bi&&Ui())}}function cl(e){null!==Gs&&0===Gs.tag&&0===(6&Is)&&xl();var t=Is;Is|=1;var n=Es.transition,r=gt;try{if(Es.transition=null,gt=1,e)return e()}finally{gt=r,Es.transition=n,0===(6&(Is=t))&&Ui()}}function fl(){Ds=js.current,Oi(js)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:io(),Oi(Ci),Oi(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Oi(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Cs=e,Ts=e=jl(e.current,null),Ms=Ds=t,zs=0,Ns=null,Ls=Fs=Ps=0,Rs=Bs=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Aa=null}return e}function hl(e,t){for(;;){var n=Ts;try{if(wa(),fo.current=ou,bo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}bo=!1}if(po=0,yo=mo=vo=null,go=!1,_o=0,As.current=null,null===n||null===n.return){zs=1,Ns=t,Ts=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=Ms,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,bu(p,u,s,0,t),1&p.mode&&mu(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){mu(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),bu(y,u,s,0,t),pa(cu(l,s));break e}}o=l=cu(l,s),4!==zs&&(zs=2),null===Bs?Bs=[o]:Bs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Pa(o,pu(0,l,t));break e;case 1:s=l;var b=o.type,g=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==g&&"function"===typeof g.componentDidCatch&&(null===Ys||!Ys.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t,Pa(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}_l(n)}catch(_){t=_,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function pl(){var e=Os.current;return Os.current=ou,null===e?ou:e}function vl(){0!==zs&&3!==zs&&2!==zs||(zs=4),null===Cs||0===(268435455&Ps)&&0===(268435455&Fs)||ul(Cs,Ms)}function ml(e,t){var n=Is;Is|=2;var r=pl();for(Cs===e&&Ms===t||(Hs=null,dl(e,t));;)try{yl();break}catch(i){hl(e,i)}if(wa(),Is=n,Os.current=r,null!==Ts)throw Error(a(261));return Cs=null,Ms=0,zs}function yl(){for(;null!==Ts;)gl(Ts)}function bl(){for(;null!==Ts&&!qe();)gl(Ts)}function gl(e){var t=ks(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?_l(e):Ts=t,As.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$u(n,t,Ds)))return void(Ts=n)}else{if(null!==(n=Gu(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return zs=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===zs&&(zs=5)}function wl(e,t,n){var r=gt,i=Es.transition;try{Es.transition=null,gt=1,function(e,t,n,r){do{xl()}while(null!==Gs);if(0!==(6&Is))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cs&&(Ts=Cs=null,Ms=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$s||($s=!0,Cl(tt,(function(){return xl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Es.transition,Es.transition=null;var u=gt;gt=1;var s=Is;Is|=4,As.current=null,function(e,t){if(ei=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(l=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(s=u),h===o&&++f===r&&(l=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ku=t;null!==Ku;)if(e=(t=Ku).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ku=e;else for(;null!==Ku;){t=Ku;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,b=t.stateNode,g=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(w){Sl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ku=e;break}Ku=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Xe(),Is=s,gt=u,Es.transition=o}else e.current=n;if($s&&($s=!1,Gs=e,qs=i),0===(o=e.pendingLanes)&&(Ys=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Zs,Zs=null,e;0!==(1&qs)&&0!==e.tag&&xl(),0!==(1&(o=e.pendingLanes))?e===Qs?Xs++:(Xs=0,Qs=e):Xs=0,Ui()}(e,t,n,r)}finally{Es.transition=i,gt=r}return null}function xl(){if(null!==Gs){var e=_t(qs),t=Es.transition,n=gt;try{if(Es.transition=null,gt=16>e?16:e,null===Gs)var r=!1;else{if(e=Gs,Gs=null,qs=0,0!==(6&Is))throw Error(a(331));var i=Is;for(Is|=4,Ku=e.current;null!==Ku;){var o=Ku,u=o.child;if(0!==(16&Ku.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Ku=c;null!==Ku;){var f=Ku;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ku=d;else for(;null!==Ku;){var h=(f=Ku).sibling,p=f.return;if(as(f),f===c){Ku=null;break}if(null!==h){h.return=p,Ku=h;break}Ku=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ku=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ku=u;else e:for(;null!==Ku;){if(0!==(2048&(o=Ku).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,Ku=b;break e}Ku=o.return}}var g=e.current;for(Ku=g;null!==Ku;){var _=(u=Ku).child;if(0!==(2064&u.subtreeFlags)&&null!==_)_.return=u,Ku=_;else e:for(u=g;null!==Ku;){if(0!==(2048&(s=Ku).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sl(s,s.return,x)}if(s===u){Ku=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ku=w;break e}Ku=s.return}}if(Is=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{gt=n,Es.transition=t}}return!1}function kl(e,t,n){e=za(e,t=pu(0,t=cu(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Sl(e,t,n){if(3===e.tag)kl(e,e,n);else for(;null!==t;){if(3===t.tag){kl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){t=za(t,e=vu(t,e=cu(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Ol(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Ms&n)===n&&(4===zs||3===zs&&(130023424&Ms)===Ms&&500>Qe()-Vs?dl(e,0):Ls|=n),rl(e,t)}function Al(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Ca(e,t))&&(yt(e,t,n),rl(e,n))}function El(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Al(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Al(e,n)}function Cl(e,t){return $e(e,t)}function Tl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Tl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case k:return Nl(n.children,i,o,t);case S:u=8,i|=8;break;case O:return(e=Ml(12,n,t,2|i)).elementType=O,e.lanes=o,e;case C:return(e=Ml(13,n,t,i)).elementType=C,e.lanes=o,e;case T:return(e=Ml(19,n,t,i)).elementType=T,e.lanes=o,e;case j:return Pl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:u=10;break e;case E:u=9;break e;case I:u=11;break e;case M:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ml(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Nl(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function Pl(e,t,n,r){return(e=Ml(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Ll(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rl(e,t,n,r,i,a,o,u,s){return e=new Bl(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ml(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Vl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ul(e){if(!e)return Ei;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Ni(e,n,t)}return t}function Hl(e,t,n,r,i,a,o,u,s){return(e=Rl(n,r,!0,e,0,a,0,u,s)).context=Ul(null),n=e.current,(a=ja(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,za(n,a,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function Wl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Ul(n),null===t.context?t.context=n:t.pendingContext=n,(t=ja(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=za(i,t,o))&&(nl(e,i,o,a),Na(e,i,o)),o}function Zl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $l(e,t){Yl(e,t),(e=e.alternate)&&Yl(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)_u=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _u=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),ha();break;case 5:ao(t);break;case 1:Di(t.type)&&Pi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ai(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ai(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Ou(e,t,n)}return Wu(e,t,n)}(e,t,n);_u=0!==(131072&e.flags)}else _u=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hu(e,t),e=t.pendingProps;var i=Mi(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Oo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Pi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ma(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Za(t,r,e,n),t=Cu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===M)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Eu(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=ku(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Tu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Mu(e,t,r,n,i=cu(Error(a(423)),t));break e}if(r!==i){t=Mu(e,t,r,n,i=cu(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Au(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&la(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ai(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ci.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=ja(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ka(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),ka(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Oa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),ku(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hu(e,t),t.tag=1,Di(r)?(e=!0,Pi(t)):e=!1,Sa(t,n),Ha(t,r,i),Za(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return Uu(e,t,n);case 22:return Ou(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}function Xl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Zl(o);u.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Zl(o);a.call(e)}}var o=Hl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[pi]=o.current,Ur(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Zl(s);u.call(e)}}var s=Rl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=s,e[pi]=s.current,Ur(8===e.nodeType?e.parentNode:e),cl((function(){Wl(t,s,n,r)})),s}(n,t,e,i,r);return Zl(o)}Xl.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wl(e,t,null,null)},Xl.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Wl(null,e,null,null)})),t[pi]=null}},Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(bt(t,1|n),rl(t,Qe()),0===(6&Is)&&(Us=Qe()+500,Ui()))}break;case 13:cl((function(){var t=Ca(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),$l(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)nl(t,e,134217728,el());$l(e,134217728)}},kt=function(e){if(13===e.tag){var t=tl(e),n=Ca(e,t);if(null!==n)nl(n,e,t,el());$l(e,t)}},St=function(){return gt},Ot=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},xe=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));$(r),K(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,Ce=cl;var tc={usingClientEntryPoint:!1,Events:[gi,_i,wi,Ae,Ee,ll]},nc={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(a(200));return Vl(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Rl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Kl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xl(t)},t.render=function(e,t,n){if(!Kl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Kl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var u,s,l,c;if(Array.isArray(e)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(c=e.entries();!(s=c.next()).done;)if(!o.has(s.value[0]))return!1;for(c=e.entries();!(s=c.next()).done;)if(!a(s.value[1],o.get(s.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(c=e.entries();!(s=c.next()).done;)if(!o.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(e[s]!==o[s])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((u=(l=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(s=u;0!==s--;)if(!Object.prototype.hasOwnProperty.call(o,l[s]))return!1;if(t&&e instanceof Element)return!1;for(s=u;0!==s--;)if(("_owner"!==l[s]&&"__v"!==l[s]&&"__o"!==l[s]||!e.$$typeof)&&!a(e[l[s]],o[l[s]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},75:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(791),o=s(a),u=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],f=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},d=!("undefined"===typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),h=function(){return d?"_"+Math.random().toString(36).substr(2,12):void 0},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"===typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||h(),prevId:e.id},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.id;return n!==t.prevId?{inputId:n||h(),prevId:n}:null}}]),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"===typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(f(e,this.sizer),this.placeHolderSizer&&f(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&"undefined"!==typeof this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return d&&e?o.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!==e&&void 0!==e?e:t})),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){c.forEach((function(t){return delete e[t]}))}(i),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=n,o.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),o.default.createElement("input",r({},i,{ref:this.inputRef})),o.default.createElement("div",{ref:this.sizerRef,style:l},e),this.props.placeholder?o.default.createElement("div",{ref:this.placeHolderSizerRef,style:l},this.props.placeholder):null)}}]),t}(a.Component);p.propTypes={className:u.default.string,defaultValue:u.default.any,extraWidth:u.default.oneOfType([u.default.number,u.default.string]),id:u.default.string,injectStyles:u.default.bool,inputClassName:u.default.string,inputRef:u.default.func,inputStyle:u.default.object,minWidth:u.default.oneOfType([u.default.number,u.default.string]),onAutosize:u.default.func,onChange:u.default.func,placeholder:u.default.string,placeholderIsMinWidth:u.default.bool,style:u.default.object,value:u.default.any},p.defaultProps={minWidth:1,injectStyles:!0},t.Z=p},821:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,g=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===c},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===g||e.$$typeof===_||e.$$typeof===y)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(821)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function b(){}function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var _=g.prototype=new b;_.constructor=g,v(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(u=e[l],l);s+=C(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=C(u=u.value,t,i,c=a+I(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function T(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},j={transition:null},z={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:j,ReactCurrentOwner:k};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=g,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)x.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,g="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,_(e),!v)if(null!==r(l))v=!0,j(x);else{var t=r(c);null!==t&&z(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,b(A),A=-1),p=!0;var a=h;try{for(_(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!C());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(l)&&i(l),_(n)}else i(l);d=r(l)}if(null!==d)var s=!0;else{var f=r(c);null!==f&&z(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,O=null,A=-1,E=5,I=-1;function C(){return!(t.unstable_now()-I<E)}function T(){if(null!==O){var e=t.unstable_now();I=e;var n=!0;try{n=O(!0,e)}finally{n?k():(S=!1,O=null)}}else S=!1}if("function"===typeof g)k=function(){g(T)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,D=M.port2;M.port1.onmessage=T,k=function(){D.postMessage(null)}}else k=function(){y(T,0)};function j(e){O=e,S||(S=!0,k())}function z(e,n){A=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,j(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(b(A),A=-1):m=!0,z(w,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,j(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},921:function(e,t,n){"use strict";n.r(t),t.default={}},290:function(e,t,n){"use strict";n.r(t),t.default={}},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},405:function(e,t,n){var r=n(897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},424:function(e,t,n){var r=n(372),i=n(872),a=n(116),o=n(218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(405),i=n(498),a=n(116),o=n(281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var r=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},925:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{ClearIndicator:function(){return xr},DropdownIndicator:function(){return kr},IndicatorSeparator:function(){return Ir},LoadingIndicator:function(){return Sr},MultiValueRemove:function(){return Er}});var t=n(791),r=n(250),i=n(942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(263),f=n.n(c),d=n(462),h=n(554);function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v=n(925);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var y=n(75);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}var k=n(164);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function I(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}var T=function(){};function M(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function D(e,t,n){var r=[n];if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&r.push("".concat(M(e,i)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var j=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===m(e)&&null!==e?[e]:[]},z=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,A({},(0,v.Z)(e,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]))};function N(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function P(e){return N(e)?window.pageYOffset:e.scrollTop}function F(e,t){N(e)?window.scrollTo(0,t):e.scrollTop=t}function L(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T,i=P(e),a=t-i,o=10,u=0;function s(){var t=L(u+=o,i,a,n);F(e,t),u<n?window.requestAnimationFrame(s):r(e)}s()}function R(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var V=!1,U={get passive(){return V=!0}},H="undefined"!==typeof window?window:{};H.addEventListener&&H.removeEventListener&&(H.addEventListener("p",T,U),H.removeEventListener("p",T,!1));var W=V;function Z(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,a=e.shouldScroll,o=e.isFixedPosition,u=e.theme.spacing,s=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===t.position)return i;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return a;return i}(n),l={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return l;var c=s.getBoundingClientRect().height,f=n.getBoundingClientRect(),d=f.bottom,h=f.height,p=f.top,v=n.offsetParent.getBoundingClientRect().top,m=window.innerHeight,y=P(s),b=parseInt(getComputedStyle(n).marginBottom,10),g=parseInt(getComputedStyle(n).marginTop,10),_=v-g,w=m-p,x=_+y,k=c-y-p,S=d-m+y+b,O=y+p-g,A=160;switch(i){case"auto":case"bottom":if(w>=h)return{placement:"bottom",maxHeight:t};if(k>=h&&!o)return a&&B(s,S,A),{placement:"bottom",maxHeight:t};if(!o&&k>=r||o&&w>=r)return a&&B(s,S,A),{placement:"bottom",maxHeight:o?w-b:k-b};if("auto"===i||o){var E=t,I=o?_:x;return I>=r&&(E=Math.min(I-b-u.controlHeight,t)),{placement:"top",maxHeight:E}}if("bottom"===i)return a&&F(s,S),{placement:"bottom",maxHeight:t};break;case"top":if(_>=h)return{placement:"top",maxHeight:t};if(x>=h&&!o)return a&&B(s,O,A),{placement:"top",maxHeight:t};if(!o&&x>=r||o&&_>=r){var C=t;return(!o&&x>=r||o&&_>=r)&&(C=o?_-g:x-g),a&&B(s,O,A),{placement:"top",maxHeight:C}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return l}var Y=function(e){return"auto"===e?"bottom":e},$=(0,t.createContext)({getPortalPlacement:null}),G=function(e){x(n,e);var t=C(n);function n(){var e;b(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,i=n.maxMenuHeight,a=n.menuPlacement,o=n.menuPosition,u=n.menuShouldScrollIntoView,s=n.theme;if(t){var l="fixed"===o,c=Z({maxHeight:i,menuEl:t,minHeight:r,placement:a,shouldScroll:u&&!l,isFixedPosition:l,theme:s}),f=e.context.getPortalPlacement;f&&f(c),e.setState(c)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||Y(t);return A(A({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return _(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(t.Component);G.contextType=$;var q=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},X=q,Q=q,K=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return(0,h.tZ)("div",(0,d.Z)({css:i("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},a),t)};K.defaultProps={children:"No options"};var J=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return(0,h.tZ)("div",(0,d.Z)({css:i("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},a),t)};J.defaultProps={children:"Loading..."};var ee,te=function(e){x(n,e);var t=C(n);function n(){var e;b(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==Y(e.props.menuPlacement)&&e.setState({placement:n})},e}return _(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.className,i=e.controlElement,a=e.cx,o=e.innerProps,u=e.menuPlacement,s=e.menuPosition,l=e.getStyles,c="fixed"===s;if(!t&&!c||!i)return null;var f=this.state.placement||Y(u),p=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),v=c?0:window.pageYOffset,m={offset:p[f]+v,position:s,rect:p},y=(0,h.tZ)("div",(0,d.Z)({css:l("menuPortal",m),className:a({"menu-portal":!0},r)},o),n);return(0,h.tZ)($.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?(0,k.createPortal)(y,t):y)}}]),n}(t.Component);var ne={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},re=function(e){var t=e.size,n=(0,v.Z)(e,["size"]);return(0,h.tZ)("svg",(0,d.Z)({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ne},n))},ie=function(e){return(0,h.tZ)(re,(0,d.Z)({size:20},e),(0,h.tZ)("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ae=function(e){return(0,h.tZ)(re,(0,d.Z)({size:20},e),(0,h.tZ)("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},oe=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},ue=oe,se=oe,le=(0,h.F4)(ee||(ee=p(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),ce=function(e){var t=e.delay,n=e.offset;return(0,h.tZ)("span",{css:(0,h.iv)({animation:"".concat(le," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},fe=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps,a=e.isRtl;return(0,h.tZ)("div",(0,d.Z)({css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},i),(0,h.tZ)(ce,{delay:0,offset:a}),(0,h.tZ)(ce,{delay:160,offset:!0}),(0,h.tZ)(ce,{delay:320,offset:!a}))};fe.defaultProps={size:4};var de=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},he=function(e){var t=e.children,n=e.innerProps;return(0,h.tZ)("div",n,t)},pe=he,ve=he;var me=function(e){var t=e.children,n=e.className,r=e.components,i=e.cx,a=e.data,o=e.getStyles,u=e.innerProps,s=e.isDisabled,l=e.removeProps,c=e.selectProps,f=r.Container,d=r.Label,p=r.Remove;return(0,h.tZ)(h.ms,null,(function(r){var v=r.css,m=r.cx;return(0,h.tZ)(f,{data:a,innerProps:A({className:m(v(o("multiValue",e)),i({"multi-value":!0,"multi-value--is-disabled":s},n))},u),selectProps:c},(0,h.tZ)(d,{data:a,innerProps:{className:m(v(o("multiValueLabel",e)),i({"multi-value__label":!0},n))},selectProps:c},t),(0,h.tZ)(p,{data:a,innerProps:A({className:m(v(o("multiValueRemove",e)),i({"multi-value__remove":!0},n))},l),selectProps:c}))}))};me.defaultProps={cropWithEllipsis:!0};var ye={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return(0,h.tZ)("div",(0,d.Z)({css:i("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)},a),t||(0,h.tZ)(ie,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.className,a=e.isDisabled,o=e.isFocused,u=e.innerRef,s=e.innerProps,l=e.menuIsOpen;return(0,h.tZ)("div",(0,d.Z)({ref:u,css:r("control",e),className:n({control:!0,"control--is-disabled":a,"control--is-focused":o,"control--menu-is-open":l},i)},s),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return(0,h.tZ)("div",(0,d.Z)({css:i("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)},a),t||(0,h.tZ)(ae,null))},DownChevron:ae,CrossIcon:ie,Group:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.Heading,o=e.headingProps,u=e.innerProps,s=e.label,l=e.theme,c=e.selectProps;return(0,h.tZ)("div",(0,d.Z)({css:i("group",e),className:r({group:!0},n)},u),(0,h.tZ)(a,(0,d.Z)({},o,{selectProps:c,theme:l,getStyles:i,cx:r}),s),(0,h.tZ)("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,r=e.className,i=z(e);i.data;var a=(0,v.Z)(i,["data"]);return(0,h.tZ)("div",(0,d.Z)({css:t("groupHeading",e),className:n({"group-heading":!0},r)},a))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,a=e.getStyles;return(0,h.tZ)("div",(0,d.Z)({css:a("indicatorsContainer",e),className:r({indicators:!0},n)},i),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps;return(0,h.tZ)("span",(0,d.Z)({},i,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=z(e),a=i.innerRef,o=i.isDisabled,u=i.isHidden,s=(0,v.Z)(i,["innerRef","isDisabled","isHidden"]);return(0,h.tZ)("div",{css:r("input",e)},(0,h.tZ)(y.Z,(0,d.Z)({className:n({input:!0},t),inputRef:a,inputStyle:de(u),disabled:o},s)))},LoadingIndicator:fe,Menu:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerRef,o=e.innerProps;return(0,h.tZ)("div",(0,d.Z)({css:i("menu",e),className:r({menu:!0},n),ref:a},o),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps,o=e.innerRef,u=e.isMulti;return(0,h.tZ)("div",(0,d.Z)({css:i("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":u},n),ref:o},a),t)},MenuPortal:te,LoadingMessage:J,NoOptionsMessage:K,MultiValue:me,MultiValueContainer:pe,MultiValueLabel:ve,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return(0,h.tZ)("div",n,t||(0,h.tZ)(ie,{size:14}))},Option:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.isDisabled,o=e.isFocused,u=e.isSelected,s=e.innerRef,l=e.innerProps;return(0,h.tZ)("div",(0,d.Z)({css:i("option",e),className:r({option:!0,"option--is-disabled":a,"option--is-focused":o,"option--is-selected":u},n),ref:s},l),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return(0,h.tZ)("div",(0,d.Z)({css:i("placeholder",e),className:r({placeholder:!0},n)},a),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps,o=e.isDisabled,u=e.isRtl;return(0,h.tZ)("div",(0,d.Z)({css:i("container",e),className:r({"--is-disabled":o,"--is-rtl":u},n)},a),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.isDisabled,o=e.innerProps;return(0,h.tZ)("div",(0,d.Z)({css:i("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":a},n)},o),t)},ValueContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,a=e.isMulti,o=e.getStyles,u=e.hasValue;return(0,h.tZ)("div",(0,d.Z)({css:o("valueContainer",e),className:r({"value-container":!0,"value-container--is-multi":a,"value-container--has-value":u},n)},i),t)}};function be(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ge=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function _e(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||ge(r)&&ge(i)))return!1;var r,i;return!0}var we=function(e,t){var n;void 0===t&&(t=_e);var r,i=[],a=!1;return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}};for(var xe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ke=function(e){return(0,h.tZ)("span",(0,d.Z)({css:xe},e))},Se={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,i=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"select-option":return"option ".concat(r,i?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=void 0===n?{}:n,i=e.options,a=e.label,o=void 0===a?"":a,u=e.selectValue,s=e.isDisabled,l=e.isSelected,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&u)return"value ".concat(o," focused, ").concat(c(u,r),".");if("menu"===t){var f=s?" disabled":"",d="".concat(l?"selected":"focused").concat(f);return"option ".concat(o," ").concat(d,", ").concat(c(i,r),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},Oe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,o=e.isFocused,u=e.selectValue,s=e.selectProps,l=s.ariaLiveMessages,c=s.getOptionLabel,f=s.inputValue,d=s.isMulti,p=s.isOptionDisabled,v=s.isSearchable,m=s.menuIsOpen,y=s.options,b=s.screenReaderStatus,g=s.tabSelectsValue,_=s["aria-label"],w=s["aria-live"],x=(0,t.useMemo)((function(){return A(A({},Se),l||{})}),[l]),k=(0,t.useMemo)((function(){var e,t="";if(n&&x.onChange){var r=n.option,i=n.removedValue,a=n.value,o=i||r||(e=a,Array.isArray(e)?null:e),u=A({isDisabled:o&&p(o),label:o?c(o):""},n);t=x.onChange(u)}return t}),[n,p,c,x]),S=(0,t.useMemo)((function(){var e="",t=r||i,n=!!(r&&u&&u.includes(r));if(t&&x.onFocus){var a={focused:t,label:c(t),isDisabled:p(t),isSelected:n,options:y,context:t===r?"menu":"value",selectValue:u};e=x.onFocus(a)}return e}),[r,i,c,p,x,y,u]),O=(0,t.useMemo)((function(){var e="";if(m&&y.length&&x.onFilter){var t=b({count:a.length});e=x.onFilter({inputValue:f,resultsMessage:t})}return e}),[a,f,m,x,y,b]),E=(0,t.useMemo)((function(){var e="";if(x.guidance){var t=i?"value":m?"menu":"input";e=x.guidance({"aria-label":_,context:t,isDisabled:r&&p(r),isMulti:d,isSearchable:v,tabSelectsValue:g})}return e}),[_,r,i,d,p,v,m,x,g]),I="".concat(S," ").concat(O," ").concat(E);return(0,h.tZ)(ke,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text"},o&&(0,h.tZ)(t.Fragment,null,(0,h.tZ)("span",{id:"aria-selection"},k),(0,h.tZ)("span",{id:"aria-context"},I)))},Ae=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],Ee=new RegExp("["+Ae.map((function(e){return e.letters})).join("")+"]","g"),Ie={},Ce=0;Ce<Ae.length;Ce++)for(var Te=Ae[Ce],Me=0;Me<Te.letters.length;Me++)Ie[Te.letters[Me]]=Te.base;var De=function(e){return e.replace(Ee,(function(e){return Ie[e]}))},je=we(De),ze=function(e){return e.replace(/^\s+|\s+$/g,"")},Ne=function(e){return"".concat(e.label," ").concat(e.value)};function Pe(e){e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef;e.emotion;var n=(0,v.Z)(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return(0,h.tZ)("input",(0,d.Z)({ref:t},n,{css:(0,h.iv)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var Fe=["boxSizing","height","overflow","paddingRight","position"],Le={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Be(e){e.preventDefault()}function Re(e){e.stopPropagation()}function Ve(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Ue(){return"ontouchstart"in window||navigator.maxTouchPoints}var He=!("undefined"===typeof window||!window.document||!window.document.createElement),We=0,Ze={capture:!1,passive:!1};var Ye=function(){return document.activeElement&&document.activeElement.blur()},$e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Ge(e){var n=e.children,r=e.lockEnabled,i=e.captureEnabled,a=function(e){var n=e.isEnabled,r=e.onBottomArrive,i=e.onBottomLeave,a=e.onTopArrive,o=e.onTopLeave,u=(0,t.useRef)(!1),s=(0,t.useRef)(!1),l=(0,t.useRef)(0),c=(0,t.useRef)(null),f=(0,t.useCallback)((function(e,t){if(null!==c.current){var n=c.current,l=n.scrollTop,f=n.scrollHeight,d=n.clientHeight,h=c.current,p=t>0,v=f-d-l,m=!1;v>t&&u.current&&(i&&i(e),u.current=!1),p&&s.current&&(o&&o(e),s.current=!1),p&&t>v?(r&&!u.current&&r(e),h.scrollTop=f,m=!0,u.current=!0):!p&&-t>l&&(a&&!s.current&&a(e),h.scrollTop=0,m=!0,s.current=!0),m&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[]),d=(0,t.useCallback)((function(e){f(e,e.deltaY)}),[f]),h=(0,t.useCallback)((function(e){l.current=e.changedTouches[0].clientY}),[]),p=(0,t.useCallback)((function(e){var t=l.current-e.changedTouches[0].clientY;f(e,t)}),[f]),v=(0,t.useCallback)((function(e){if(e){var t=!!W&&{passive:!1};"function"===typeof e.addEventListener&&e.addEventListener("wheel",d,t),"function"===typeof e.addEventListener&&e.addEventListener("touchstart",h,t),"function"===typeof e.addEventListener&&e.addEventListener("touchmove",p,t)}}),[p,h,d]),m=(0,t.useCallback)((function(e){e&&("function"===typeof e.removeEventListener&&e.removeEventListener("wheel",d,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchstart",h,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchmove",p,!1))}),[p,h,d]);return(0,t.useEffect)((function(){if(n){var e=c.current;return v(e),function(){m(e)}}}),[n,v,m]),function(e){c.current=e}}({isEnabled:void 0===i||i,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=function(e){var n=e.isEnabled,r=e.accountForScrollbars,i=void 0===r||r,a=(0,t.useRef)({}),o=(0,t.useRef)(null),u=(0,t.useCallback)((function(e){if(He){var t=document.body,n=t&&t.style;if(i&&Fe.forEach((function(e){var t=n&&n[e];a.current[e]=t})),i&&We<1){var r=parseInt(a.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,u=window.innerWidth-o+r||0;Object.keys(Le).forEach((function(e){var t=Le[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(u,"px"))}t&&Ue()&&(t.addEventListener("touchmove",Be,Ze),e&&(e.addEventListener("touchstart",Ve,Ze),e.addEventListener("touchmove",Re,Ze))),We+=1}}),[]),s=(0,t.useCallback)((function(e){if(He){var t=document.body,n=t&&t.style;We=Math.max(We-1,0),i&&We<1&&Fe.forEach((function(e){var t=a.current[e];n&&(n[e]=t)})),t&&Ue()&&(t.removeEventListener("touchmove",Be,Ze),e&&(e.removeEventListener("touchstart",Ve,Ze),e.removeEventListener("touchmove",Re,Ze)))}}),[]);return(0,t.useEffect)((function(){if(n){var e=o.current;return u(e),function(){s(e)}}}),[n,u,s]),function(e){o.current=e}}({isEnabled:r});return(0,h.tZ)(t.Fragment,null,r&&(0,h.tZ)("div",{onClick:Ye,css:$e}),n((function(e){a(e),o(e)})))}var qe={clearIndicator:se,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,a=r.borderRadius,o=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:ue,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:i.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,a=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*a,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:Q,menu:function(e){var t,n=e.placement,r=e.theme,a=r.borderRadius,o=r.spacing,u=r.colors;return t={label:"menu"},(0,i.Z)(t,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),(0,i.Z)(t,"backgroundColor",u.neutral0),(0,i.Z)(t,"borderRadius",a),(0,i.Z)(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),(0,i.Z)(t,"marginBottom",o.menuGutter),(0,i.Z)(t,"marginTop",o.menuGutter),(0,i.Z)(t,"position","absolute"),(0,i.Z)(t,"width","100%"),(0,i.Z)(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:X,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,a=i.spacing,o=i.colors;return{label:"option",backgroundColor:r?o.primary:n?o.primary25:"transparent",color:t?o.neutral20:r?o.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?o.primary:o.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=A({},e);return Object.keys(t).forEach((function(r){e[r]?n[r]=function(n,i){return t[r](e[r](n,i),i)}:n[r]=t[r]})),n}var Qe,Ke={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Je={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:R(),captureMenuScroll:!R(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=A({ignoreCase:!0,ignoreAccents:!0,stringify:Ne,trim:!0,matchFrom:"any"},Qe),r=n.ignoreCase,i=n.ignoreAccents,a=n.stringify,o=n.trim,u=n.matchFrom,s=o?ze(t):t,l=o?ze(a(e)):a(e);return r&&(s=s.toLowerCase(),l=l.toLowerCase()),i&&(s=je(s),l=De(l)),"start"===u?l.substr(0,s.length)===s:l.indexOf(s)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function et(e,t,n,r){return{type:"option",data:t,isDisabled:ot(e,t,n),isSelected:ut(e,t,n),label:it(e,t),value:at(e,t),index:r}}function tt(e,t){return e.options.map((function(n,r){if(n.options){var i=n.options.map((function(n,r){return et(e,n,t,r)})).filter((function(t){return rt(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=et(e,n,t,r);return rt(e,a)?a:void 0})).filter((function(e){return!!e}))}function nt(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,be(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function rt(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,a=t.isSelected,o=t.label,u=t.value;return(!lt(e)||!a)&&st(e,{label:o,value:u,data:i},r)}var it=function(e,t){return e.getOptionLabel(t)},at=function(e,t){return e.getOptionValue(t)};function ot(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function ut(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=at(e,t);return n.some((function(t){return at(e,t)===r}))}function st(e,t,n){return!e.filterOption||e.filterOption(t,n)}var lt=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},ct=1,ft=function(e){x(r,e);var n=C(r);function r(e){var t;return b(this,r),(t=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.instancePrefix="",t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,i=r.onChange,a=r.name;n.name=a,t.ariaOnChange(e,n),i(e,n)},t.setValue=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=arguments.length>2?arguments[2]:void 0,i=t.props,a=i.closeMenuOnSelect,o=i.isMulti;t.onInputChange("",{action:"set-value"}),a&&(t.setState({inputIsHiddenAfterUpdate:!o}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,i=n.isMulti,a=n.name,o=t.state.selectValue,u=i&&t.isOptionSelected(e,o),s=t.isOptionDisabled(e,o);if(u){var l=t.getOptionValue(e);t.setValue(o.filter((function(e){return t.getOptionValue(e)!==l})),"deselect-option",e)}else{if(s)return void t.ariaOnChange(e,{action:"select-option",name:a});i?t.setValue([].concat(be(o),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,i=t.getOptionValue(e),a=r.filter((function(e){return t.getOptionValue(e)!==i})),o=n?a:a[0]||null;t.onChange(o,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(t.props.isMulti?[]:null,{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],i=n.slice(0,n.length-1),a=e?i:i[0]||null;t.onChange(a,{action:"pop-value",removedValue:r})},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return D.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return it(t.props,e)},t.getOptionValue=function(e){return at(t.props,e)},t.getStyles=function(e,n){var r=qe[e](n);r.boxSizing="border-box";var i=t.props.styles[e];return i?i(r,n):r},t.getElementId=function(e){return"".concat(t.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,A(A({},ye),e.components);var e},t.buildCategorizedOptions=function(){return tt(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return nt(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:A({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,r=n.isMulti,i=n.menuIsOpen;t.focusInput(),i?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault(),e.stopPropagation()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.stopPropagation(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&N(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var i=Math.abs(r.clientX-t.initialTouchX),a=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=i>5||a>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(n,{action:"input-change"}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur"}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){t.blockOptionHover||t.state.focusedOption===e||t.setState({focusedOption:e})},t.shouldHideSelectedOptions=function(){return lt(t.props)},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,i=n.backspaceRemovesValue,a=n.escapeClearsValue,o=n.inputValue,u=n.isClearable,s=n.isDisabled,l=n.menuIsOpen,c=n.onKeyDown,f=n.tabSelectsValue,d=n.openMenuOnFocus,h=t.state,p=h.focusedOption,v=h.focusedValue,m=h.selectValue;if(!s&&("function"!==typeof c||(c(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||o)return;t.focusValue("previous");break;case"ArrowRight":if(!r||o)return;t.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(v)t.removeValue(v);else{if(!i)return;r?t.popValue():u&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!l||!f||!p||d&&t.isOptionSelected(p,m))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(l){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":l?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close"}),t.onMenuClose()):u&&a&&t.clearValue();break;case" ":if(o)return;if(!l){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":l?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":l?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!l)return;t.focusOption("pageup");break;case"PageDown":if(!l)return;t.focusOption("pagedown");break;case"Home":if(!l)return;t.focusOption("first");break;case"End":if(!l)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.instancePrefix="react-select-"+(t.props.instanceId||++ct),t.state.selectValue=j(e.value),t}return _(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(!function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?F(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&F(e,Math.max(t.offsetTop-i,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,a=this.buildFocusableOptions(),o="first"===e?0:a.length-1;if(!this.props.isMulti){var u=a.indexOf(r[0]);u>-1&&(o=u)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[o]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var a=n.length-1,o=-1;if(n.length){switch(e){case"previous":o=0===i?0:-1===i?a:i-1;break;case"next":i>-1&&i<a&&(o=i+1)}this.setState({inputIsHidden:-1!==o,focusedValue:n[o]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,a=r.indexOf(n);n||(a=-1),"up"===e?i=a>0?a-1:r.length-1:"down"===e?i=(a+1)%r.length:"pageup"===e?(i=a-t)<0&&(i=0):"pagedown"===e?(i=a+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Ke):A(A({},Ke),this.props.theme):Ke}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,i=this.selectOption,a=this.setValue,o=this.props,u=o.isMulti,s=o.isRtl,l=o.options;return{clearValue:e,cx:t,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:u,isRtl:s,options:l,selectOption:i,selectProps:o,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return ot(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return ut(this.props,e,t)}},{key:"filterOption",value:function(e,t){return st(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,n=e.isDisabled,r=e.isSearchable,i=e.inputId,a=e.inputValue,o=e.tabIndex,u=e.form,s=this.getComponents().Input,l=this.state.inputIsHidden,c=this.commonProps,f=i||this.getElementId("input"),h={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return r?t.createElement(s,(0,d.Z)({},c,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:f,innerRef:this.getInputRef,isDisabled:n,isHidden:l,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:u,type:"text",value:a},h)):t.createElement(Pe,(0,d.Z)({id:f,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:T,onFocus:this.onInputFocus,readOnly:!0,disabled:n,tabIndex:o,form:u,value:""},h))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,n=this.getComponents(),r=n.MultiValue,i=n.MultiValueContainer,a=n.MultiValueLabel,o=n.MultiValueRemove,u=n.SingleValue,s=n.Placeholder,l=this.commonProps,c=this.props,f=c.controlShouldRenderValue,h=c.isDisabled,p=c.isMulti,v=c.inputValue,m=c.placeholder,y=this.state,b=y.selectValue,g=y.focusedValue,_=y.isFocused;if(!this.hasValue()||!f)return v?null:t.createElement(s,(0,d.Z)({},l,{key:"placeholder",isDisabled:h,isFocused:_}),m);if(p){var w=b.map((function(n,u){var s=n===g;return t.createElement(r,(0,d.Z)({},l,{components:{Container:i,Label:a,Remove:o},isFocused:s,isDisabled:h,key:"".concat(e.getOptionValue(n)).concat(u),index:u,removeProps:{onClick:function(){return e.removeValue(n)},onTouchEnd:function(){return e.removeValue(n)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:n}),e.formatOptionLabel(n,"value"))}));return w}if(v)return null;var x=b[0];return t.createElement(u,(0,d.Z)({},l,{data:x,isDisabled:h}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,a=r.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||a)return null;var u={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,(0,d.Z)({},n,{innerProps:u,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,a=r.isLoading,o=this.state.isFocused;if(!e||!a)return null;return t.createElement(e,(0,d.Z)({},n,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),n=e.DropdownIndicator,r=e.IndicatorSeparator;if(!n||!r)return null;var i=this.commonProps,a=this.props.isDisabled,o=this.state.isFocused;return t.createElement(r,(0,d.Z)({},i,{isDisabled:a,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var n=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,(0,d.Z)({},n,{innerProps:a,isDisabled:r,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,n=this.getComponents(),r=n.Group,i=n.GroupHeading,a=n.Menu,o=n.MenuList,u=n.MenuPortal,s=n.LoadingMessage,l=n.NoOptionsMessage,c=n.Option,f=this.commonProps,h=this.state.focusedOption,p=this.props,v=p.captureMenuScroll,m=p.inputValue,y=p.isLoading,b=p.loadingMessage,g=p.minMenuHeight,_=p.maxMenuHeight,w=p.menuIsOpen,x=p.menuPlacement,k=p.menuPosition,S=p.menuPortalTarget,O=p.menuShouldBlockScroll,A=p.menuShouldScrollIntoView,E=p.noOptionsMessage,I=p.onMenuScrollToTop,C=p.onMenuScrollToBottom;if(!w)return null;var T,M=function(n,r){var i=n.type,a=n.data,o=n.isDisabled,u=n.isSelected,s=n.label,l=n.value,p=h===a,v=o?void 0:function(){return e.onOptionHover(a)},m=o?void 0:function(){return e.selectOption(a)},y="".concat(e.getElementId("option"),"-").concat(r),b={id:y,onClick:m,onMouseMove:v,onMouseOver:v,tabIndex:-1};return t.createElement(c,(0,d.Z)({},f,{innerProps:b,data:a,isDisabled:o,isSelected:u,key:y,label:s,type:i,value:l,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())T=this.getCategorizedOptions().map((function(n){if("group"===n.type){var a=n.data,o=n.options,u=n.index,s="".concat(e.getElementId("group"),"-").concat(u),l="".concat(s,"-heading");return t.createElement(r,(0,d.Z)({},f,{key:s,data:a,options:o,Heading:i,headingProps:{id:l,data:n.data},label:e.formatGroupLabel(n.data)}),n.options.map((function(e){return M(e,"".concat(u,"-").concat(e.index))})))}if("option"===n.type)return M(n,"".concat(n.index))}));else if(y){var D=b({inputValue:m});if(null===D)return null;T=t.createElement(s,f,D)}else{var j=E({inputValue:m});if(null===j)return null;T=t.createElement(l,f,j)}var z={minMenuHeight:g,maxMenuHeight:_,menuPlacement:x,menuPosition:k,menuShouldScrollIntoView:A},N=t.createElement(G,(0,d.Z)({},f,z),(function(n){var r=n.ref,i=n.placerProps,u=i.placement,s=i.maxHeight;return t.createElement(a,(0,d.Z)({},f,z,{innerRef:r,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:y,placement:u}),t.createElement(Ge,{captureEnabled:v,onTopArrive:I,onBottomArrive:C,lockEnabled:O},(function(n){return t.createElement(o,(0,d.Z)({},f,{innerRef:function(t){e.getMenuListRef(t),n(t)},isLoading:y,maxHeight:s,focusedOption:h}),T)})))}));return S||"fixed"===k?t.createElement(u,(0,d.Z)({},f,{appendTo:S,controlElement:this.controlRef,menuPlacement:x,menuPosition:k}),N):N}},{key:"renderFormField",value:function(){var e=this,n=this.props,r=n.delimiter,i=n.isDisabled,a=n.isMulti,o=n.name,u=this.state.selectValue;if(o&&!i){if(a){if(r){var s=u.map((function(t){return e.getOptionValue(t)})).join(r);return t.createElement("input",{name:o,type:"hidden",value:s})}var l=u.length>0?u.map((function(n,r){return t.createElement("input",{key:"i-".concat(r),name:o,type:"hidden",value:e.getOptionValue(n)})})):t.createElement("input",{name:o,type:"hidden"});return t.createElement("div",null,l)}var c=u[0]?this.getOptionValue(u[0]):"";return t.createElement("input",{name:o,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,n=this.state,r=n.ariaSelection,i=n.focusedOption,a=n.focusedValue,o=n.isFocused,u=n.selectValue,s=this.getFocusableOptions();return t.createElement(Oe,(0,d.Z)({},e,{ariaSelection:r,focusedOption:i,focusedValue:a,isFocused:o,selectValue:u,focusableOptions:s}))}},{key:"render",value:function(){var e=this.getComponents(),n=e.Control,r=e.IndicatorsContainer,i=e.SelectContainer,a=e.ValueContainer,o=this.props,u=o.className,s=o.id,l=o.isDisabled,c=o.menuIsOpen,f=this.state.isFocused,h=this.commonProps=this.getCommonProps();return t.createElement(i,(0,d.Z)({},h,{className:u,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:f}),this.renderLiveRegion(),t.createElement(n,(0,d.Z)({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:f,menuIsOpen:c}),t.createElement(a,(0,d.Z)({},h,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),t.createElement(r,(0,d.Z)({},h,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,a=e.options,o=e.value,u=e.menuIsOpen,s=e.inputValue,l={};if(n&&(o!==n.value||a!==n.options||u!==n.menuIsOpen||s!==n.inputValue)){var c=j(o),f=u?function(e,t){return nt(tt(e,t))}(e,c):[],d=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,c):null,h=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,f);l={selectValue:c,focusedOption:h,focusedValue:d,clearFocusValueOnUpdate:!1}}var p=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{};return A(A(A({},l),p),{},{prevProps:e})}}]),r}(t.Component);ft.defaultProps=Je;var dt={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},ht=n(886),pt=n(482),vt=(t.Component,function(e){var n,r;return r=n=function(n){x(i,n);var r=C(i);function i(){var e;b(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).select=void 0,e.state={inputValue:void 0!==e.props.inputValue?e.props.inputValue:e.props.defaultInputValue,menuIsOpen:void 0!==e.props.menuIsOpen?e.props.menuIsOpen:e.props.defaultMenuIsOpen,value:void 0!==e.props.value?e.props.value:e.props.defaultValue},e.onChange=function(t,n){e.callProp("onChange",t,n),e.setState({value:t})},e.onInputChange=function(t,n){var r=e.callProp("onInputChange",t,n);e.setState({inputValue:void 0!==r?r:t})},e.onMenuOpen=function(){e.callProp("onMenuOpen"),e.setState({menuIsOpen:!0})},e.onMenuClose=function(){e.callProp("onMenuClose"),e.setState({menuIsOpen:!1})},e}return _(i,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"===typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var n=this,r=this.props;r.defaultInputValue,r.defaultMenuIsOpen,r.defaultValue;var i=(0,v.Z)(r,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return t.createElement(e,(0,d.Z)({},i,{ref:function(e){n.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),i}(t.Component),n.defaultProps=dt,r}(ft)),mt=vt;function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e,t){if(t&&("object"===m(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yt(e)}function gt(e){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gt(e)}var _t=n(7),wt=n.n(_t),xt=(0,t.createContext)({getAtlaskitAnalyticsContext:function(){return[]},getAtlaskitAnalyticsEventHandlers:function(){return[]}});function kt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var i=gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bt(this,n)}}var St={getAtlaskitAnalyticsContext:wt().func,getAtlaskitAnalyticsEventHandlers:wt().func},Ot=function(){return[]},At=function(e){x(r,e);var n=kt(r);function r(e){var t;return b(this,r),t=n.call(this,e),(0,i.Z)(yt(t),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:t.getAnalyticsContext}})),(0,i.Z)(yt(t),"getAnalyticsContext",(function(){var e=t.props.data,n=t.context.getAtlaskitAnalyticsContext;return[].concat(be((void 0===n?Ot:n)()),[e])})),(0,i.Z)(yt(t),"getAnalyticsEventHandlers",(function(){var e=t.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?Ot:e)()})),t.contextValue={getAtlaskitAnalyticsContext:t.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:t.getAnalyticsEventHandlers},t}return _(r,[{key:"render",value:function(){var e=this.props.children;return t.createElement(xt.Provider,{value:this.contextValue},e)}}]),r}(t.Component);(0,i.Z)(At,"contextTypes",St),(0,i.Z)(At,"childContextTypes",St);var Et,It=At,Ct=function(){return(0,t.useContext)(xt)},Tt=function(e){var n=e.data,r=e.children,i=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n}(n),a=Ct(),o=(0,t.useCallback)((function(){return[].concat(be(a.getAtlaskitAnalyticsContext()),[i.current])}),[a,i]),u=(0,t.useMemo)((function(){return{getAtlaskitAnalyticsContext:o,getAtlaskitAnalyticsEventHandlers:a.getAtlaskitAnalyticsEventHandlers}}),[a,o]);return t.createElement(xt.Provider,{value:u},r)},Mt="undefined"!==typeof process&&null!==process&&null!==(Et={NODE_ENV:"production",PUBLIC_URL:"/lyric-viz",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&void 0!==Et&&Et.ANALYTICS_NEXT_MODERN_CONTEXT?Tt:It,Dt=["analyticsContext"];function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nt=function(e){return function(n){var r=(0,t.forwardRef)((function(r,i){var a=r.analyticsContext,o=(0,v.Z)(r,Dt),u=(0,t.useMemo)((function(){return zt(zt({},e),a)}),[a]);return t.createElement(Mt,{data:u},t.createElement(n,(0,d.Z)({},o,{ref:i})))}));return r.displayName="WithAnalyticsContext(".concat(n.displayName||n.name,")"),r}};function Pt(e,n){var r=(0,t.useState)((function(){return{inputs:n,result:e()}}))[0],i=(0,t.useRef)(!0),a=(0,t.useRef)(r),o=i.current||Boolean(n&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,a.current.inputs)),u=o?a.current:{inputs:n,result:e()};return(0,t.useEffect)((function(){i.current=!1,a.current=u}),[u]),u.result}function Ft(e,t){return Pt((function(){return e}),t)}function Lt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gt(e)););return e}function Bt(){return Bt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Lt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Bt.apply(this,arguments)}function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ut=function(){function e(t){var n=this;b(this,e),(0,i.Z)(this,"_isAnalyticsEvent",!0),(0,i.Z)(this,"clone",(function(){return new e({payload:Vt({},n.payload)})})),this.payload=t.payload}return _(e,[{key:"update",value:function(e){return"function"===typeof e&&(this.payload=e(this.payload)),"object"===m(e)&&(this.payload=Vt(Vt({},this.payload),e)),this}}]),e}();function Ht(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var i=gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bt(this,n)}}var Wt=function(e){x(n,e);var t=Ht(n);function n(e){var r;return b(this,n),r=t.call(this,e),(0,i.Z)(yt(r),"_isUIAnalyticsEvent",!0),(0,i.Z)(yt(r),"clone",(function(){return r.hasFired?null:new n({context:be(r.context),handlers:be(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),(0,i.Z)(yt(r),"fire",(function(e){r.hasFired||(r.handlers.forEach((function(t){return t(yt(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return _(n,[{key:"update",value:function(e){return this.hasFired?this:Bt(gt(n.prototype),"update",this).call(this,e)}}]),n}(Ut);function Zt(){var e=Ct();return{createAnalyticsEvent:Ft((function(t){return new Wt({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=Zt(),a=r.createAnalyticsEvent,o=(0,t.useRef)({}),u=(0,t.useMemo)((function(){var t=o.current;return Object.keys(t).filter((function(t){return!(t in e)})).forEach((function(e){return delete t[e]})),Object.keys(e).reduce((function(r,o){var u=e[o];if(!["object","function"].includes(m(u)))return r;var s=n[o];if(o in t&&t[o].eventCreator===u&&t[o].propValue===s)return $t($t({},r),{},(0,i.Z)({},o,t[o].wrappedCallback));var l=function(){var e="function"===typeof u?u(a,n):a(u);if(s&&"function"===typeof s){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];s.apply(void 0,r.concat([e]))}};return t[o]={eventCreator:u,wrappedCallback:l,propValue:s},$t($t({},r),{},(0,i.Z)({},o,l))}),{})}),[e,n,a,o]);return{patchedEventProps:u}}var qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=(0,t.forwardRef)((function(r,i){var a=Gt(e,r).patchedEventProps,o=Zt().createAnalyticsEvent;return t.createElement(n,(0,d.Z)({},r,a,{createAnalyticsEvent:o,ref:i}))}));return r.displayName="WithAnalyticsEvents(".concat(n.displayName||n.name,")"),r}},Xt=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Qt(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||Xt(r)&&Xt(i)))return!1;var r,i;return!0}var Kt=n(77),Jt=n.n(Kt),en=n(755);var tn=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var a=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,a?0:i.cssRules.length)}catch(o){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var nn=function(e){function t(e,r,s,l,d){for(var h,p,v,m,_,x=0,k=0,S=0,O=0,A=0,D=0,z=v=h=0,P=0,F=0,L=0,B=0,R=s.length,V=R-1,U="",H="",W="",Z="";P<R;){if(p=s.charCodeAt(P),P===V&&0!==k+O+S+x&&(0!==k&&(p=47===k?10:47),O=S=x=0,R++,V++),0===k+O+S+x){if(P===V&&(0<F&&(U=U.replace(f,"")),0<U.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:U+=s.charAt(P)}p=59}switch(p){case 123:for(h=(U=U.trim()).charCodeAt(0),v=1,B=++P;P<R;){switch(p=s.charCodeAt(P)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(P+1)){case 42:case 47:e:{for(z=P+1;z<V;++z)switch(s.charCodeAt(z)){case 47:if(42===p&&42===s.charCodeAt(z-1)&&P+2!==z){P=z+1;break e}break;case 10:if(47===p){P=z+1;break e}}P=z}}break;case 91:p++;case 40:p++;case 34:case 39:for(;P++<V&&s.charCodeAt(P)!==p;);}if(0===v)break;P++}if(v=s.substring(B,P),0===h&&(h=(U=U.replace(c,"").trim()).charCodeAt(0)),64===h){switch(0<F&&(U=U.replace(f,"")),p=U.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=M}if(B=(v=t(r,F,v,p,d+1)).length,0<j&&(_=u(3,v,F=n(M,U,L),r,I,E,B,p,d,l),U=F.join(""),void 0!==_&&0===(B=(v=_.trim()).length)&&(p=0,v="")),0<B)switch(p){case 115:U=U.replace(w,o);case 100:case 109:case 45:v=U+"{"+v+"}";break;case 107:v=(U=U.replace(y,"$1 $2"))+"{"+v+"}",v=1===T||2===T&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=U+v,112===l&&(H+=v,v="")}else v=""}else v=t(r,n(r,U,L),v,l,d+1);W+=v,v=L=F=z=h=0,U="",p=s.charCodeAt(++P);break;case 125:case 59:if(1<(B=(U=(0<F?U.replace(f,""):U).trim()).length))switch(0===z&&(h=U.charCodeAt(0),45===h||96<h&&123>h)&&(B=(U=U.replace(" ",":")).length),0<j&&void 0!==(_=u(1,U,r,e,I,E,H.length,l,d,l))&&0===(B=(U=_.trim()).length)&&(U="\0\0"),h=U.charCodeAt(0),p=U.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){Z+=U+s.charAt(P);break}default:58!==U.charCodeAt(B-1)&&(H+=i(U,h,p,U.charCodeAt(2)))}L=F=z=h=0,U="",p=s.charCodeAt(++P)}}switch(p){case 13:case 10:47===k?k=0:0===1+h&&107!==l&&0<U.length&&(F=1,U+="\0"),0<j*N&&u(0,U,r,e,I,E,H.length,l,d,l),E=1,I++;break;case 59:case 125:if(0===k+O+S+x){E++;break}default:switch(E++,m=s.charAt(P),p){case 9:case 32:if(0===O+x+k)switch(A){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===O+k+x&&(F=L=1,m="\f"+m);break;case 108:if(0===O+k+x+C&&0<z)switch(P-z){case 2:112===A&&58===s.charCodeAt(P-3)&&(C=A);case 8:111===D&&(C=D)}break;case 58:0===O+k+x&&(z=P);break;case 44:0===k+S+O+x&&(F=1,m+="\r");break;case 34:case 39:0===k&&(O=O===p?0:0===O?p:O);break;case 91:0===O+k+S&&x++;break;case 93:0===O+k+S&&x--;break;case 41:0===O+k+x&&S--;break;case 40:if(0===O+k+x){if(0===h)if(2*A+3*D===533);else h=1;S++}break;case 64:0===k+S+O+x+z+v&&(v=1);break;case 42:case 47:if(!(0<O+x+S))switch(k){case 0:switch(2*p+3*s.charCodeAt(P+1)){case 235:k=47;break;case 220:B=P,k=42}break;case 42:47===p&&42===A&&B+2!==P&&(33===s.charCodeAt(B+2)&&(H+=s.substring(B,P+1)),m="",k=0)}}0===k&&(U+=m)}D=A,A=p,P++}if(0<(B=H.length)){if(F=r,0<j&&(void 0!==(_=u(2,H,F,e,I,E,B,l,d,l))&&0===(H=_).length))return Z+H+W;if(H=F.join(",")+"{"+H+"}",0!==T*C){switch(2!==T||a(H,2)||(C=0),C){case 111:H=H.replace(g,":-moz-$1")+H;break;case 112:H=H.replace(b,"::-webkit-input-$1")+H.replace(b,"::-moz-$1")+H.replace(b,":-ms-input-$1")+H}C=0}}return Z+H+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var l=0;l<o;++l)t[s++]=r(e[l]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===T||2===T&&a(s,1)?"-webkit-"+s+s:s}if(0===T||2===T&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(A,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return h.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(_,"tb");break;case 232:s=o.replace(_,"tb-rl");break;case 220:s=o.replace(_,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(k,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(k,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),z(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,c){for(var f,d=0,h=t;d<j;++d)switch(f=D[d].call(l,e,h,n,r,i,a,o,u,s,c)){case void 0:case!1:case!0:case null:break;default:h=f}if(h!==t)return h}function s(e){return void 0!==(e=e.prefix)&&(z=null,e?"function"!==typeof e?T=1:(T=2,z=e):T=0),s}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<j){var i=u(-1,n,r,r,I,E,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(M,r,n,0,0);return 0<j&&(void 0!==(i=u(-2,a,r,r,I,E,a.length,0,0,0))&&(a=i)),"",C=0,E=I=1,a}var c=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,g=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,k=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,E=1,I=1,C=0,T=1,M=[],D=[],j=0,z=null,N=0;return l.use=function e(t){switch(t){case void 0:case null:j=D.length=0;break;default:if("function"===typeof t)D[j++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else N=0|!!t}return e},l.set=s,void 0!==e&&s(e),l},rn="/*|*/";function an(e){e&&on.current.insert(e+"}")}var on={current:null},un=function(e,t,n,r,i,a,o,u,s,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return on.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===u)return t+rn;break;case 3:switch(u){case 102:case 112:return on.current.insert(n[0]+t),"";default:return t+(0===l?rn:"")}case-2:t.split("/*|*/}").forEach(an)}},sn=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new nn(t);var i,a={};i=e.container||document.head;var o,u=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(u,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){a[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),r.use(e.stylisPlugins)(un),o=function(e,t,n,i){var a=t.name;on.current=n,r(e,t.styles),i&&(s.inserted[a]=!0)};var s={key:n,sheet:new tn({key:n,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:a,registered:{},insert:o};return s};function ln(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var cn=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0);i=i.next}while(void 0!==i)}};var fn=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},dn={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var hn=/[A-Z]|^ms/g,pn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vn=function(e){return 45===e.charCodeAt(1)},mn=function(e){return null!=e&&"boolean"!==typeof e},yn=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return vn(e)?e:e.replace(hn,"-$&").toLowerCase()})),bn=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(pn,(function(e,t,n){return _n={name:t,styles:n,next:_n},t}))}return 1===dn[e]||vn(e)||"number"!==typeof t||0===t?t:t+"px"};function gn(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return _n={name:n.name,styles:n.styles,next:_n},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)_n={name:i.name,styles:i.styles,next:_n},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=gn(e,t,n[i],!1);else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":mn(o)&&(r+=yn(a)+":"+bn(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=gn(e,t,o,!1);switch(a){case"animation":case"animationName":r+=yn(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)mn(o[s])&&(r+=yn(a)+":"+bn(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=_n,o=n(e);return _n=a,gn(e,t,o,r)}}if(null==t)return n;var u=t[n];return void 0===u||r?n:u}var _n,wn=/label:\s*([^\s;\n{]+)\s*;/g;var xn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";_n=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=gn(n,t,a,!1)):i+=a[0];for(var o=1;o<e.length;o++)i+=gn(n,t,e[o],46===i.charCodeAt(i.length-1)),r&&(i+=a[o]);wn.lastIndex=0;for(var u,s="";null!==(u=wn.exec(i));)s+="-"+u[1];return{name:fn(i)+s,styles:i,next:_n}},kn=Object.prototype.hasOwnProperty,Sn=(0,t.createContext)("undefined"!==typeof HTMLElement?sn():null),On=(0,t.createContext)({}),An=(Sn.Provider,function(e){var n=function(n,r){return(0,t.createElement)(Sn.Consumer,null,(function(t){return e(n,t,r)}))};return(0,t.forwardRef)(n)}),En="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",In=function(e,t){var n={};for(var r in t)kn.call(t,r)&&(n[r]=t[r]);return n[En]=e,n},Cn=function(){return null},Tn=function(e,n,r,i){var a=null===r?n.css:n.css(r);"string"===typeof a&&void 0!==e.registered[a]&&(a=e.registered[a]);var o=n[En],u=[a],s="";"string"===typeof n.className?s=ln(e.registered,u,n.className):null!=n.className&&(s=n.className+" ");var l=xn(u);cn(e,l,"string"===typeof o);s+=e.key+"-"+l.name;var c={};for(var f in n)kn.call(n,f)&&"css"!==f&&f!==En&&(c[f]=n[f]);c.ref=i,c.className=s;var d=(0,t.createElement)(o,c),h=(0,t.createElement)(Cn,null);return(0,t.createElement)(t.Fragment,null,h,d)},Mn=An((function(e,n,r){return"function"===typeof e.css?(0,t.createElement)(On.Consumer,null,(function(t){return Tn(n,e,t,r)})):Tn(n,e,null,r)}));var Dn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xn(t)},jn=function(e,n){var r=arguments;if(null==n||!kn.call(n,"css"))return t.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=Mn,a[1]=In(e,n);for(var o=2;o<i;o++)a[o]=r[o];return t.createElement.apply(null,a)},zn=(t.Component,function(){var e=Dn.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}),Nn=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var a=t[r];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else for(var u in o="",a)a[u]&&u&&(o&&(o+=" "),o+=u);break;default:o=a}o&&(i&&(i+=" "),i+=o)}}return i};function Pn(e,t,n){var r=[],i=ln(e,r,n);return r.length<2?n:i+t(r)}var Fn=function(){return null},Ln=(An((function(e,n){return(0,t.createElement)(On.Consumer,null,(function(r){var i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=xn(t,n.registered);return cn(n,i,!1),n.key+"-"+i.name},a={css:i,cx:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Pn(n.registered,i,Nn(t))},theme:r},o=e.children(a);var u=(0,t.createElement)(Fn,null);return(0,t.createElement)(t.Fragment,null,u,o)}))})),"__ATLASKIT_THEME__"),Bn=["light","dark"];function Rn(e){if(e&&e.theme){if(Ln in e.theme)return e.theme[Ln];if("mode"in e.theme&&Bn.includes(e.theme.mode))return e.theme}return{mode:"light"}}function Vn(e,t){if("string"===typeof e)return n=e,r=t,function(e){var t=Rn(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=Rn(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}var Un="#FFBDAD",Hn="#FF5630",Wn="#DE350B",Zn="#FFAB00",Yn="#36B37E",$n="#00875A",Gn="#DEEBFF",qn="#4C9AFF",Xn="#2684FF",Qn="#0052CC",Kn="#FFFFFF",Jn="#F4F5F7",er="#EBECF0",tr="#DFE1E6",nr="#A5ADBA",rr="#6B778C",ir="#5E6C84",ar="#42526E",or="#172B4D",ur="#B8C7E0",sr="#8C9CB8",lr="#283447",cr=(Vn({light:"var(--ds-surface, ".concat(Kn,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),Vn({light:"var(--ds-background-selected, ".concat(Gn,")"),dark:"var(--ds-background-selected, ".concat("#B3D4FF",")")}),Vn({light:"var(--ds-background-neutral-hovered, ".concat(er,")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),Vn({light:"var(--ds-surface-overlay, ".concat(Kn,")"),dark:"var(--ds-surface-overlay, ".concat(lr,")")}),Vn({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(ur,")")}),Vn({light:"var(--ds-text, ".concat(or,")"),dark:"var(--ds-text, ".concat(ur,")")}),Vn({light:"var(--ds-text-selected, ".concat(Qn,")"),dark:"var(--ds-text-selected, ".concat(Qn,")")}),Vn({light:"var(--ds-text-subtlest, ".concat(rr,")"),dark:"var(--ds-text-subtlest, ".concat(sr,")")}),Vn({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),Vn({light:"var(--ds-text, ".concat(or,")"),dark:"var(--ds-text, ".concat(ur,")")}),Vn({light:"var(--ds-text-subtlest, ".concat(rr,")"),dark:"var(--ds-text-subtlest, ".concat(sr,")")}),Vn({light:Jn,dark:lr}),Vn({light:"var(--ds-link, ".concat(Qn,")"),dark:"var(--ds-link, ".concat(qn,")")}),Vn({light:"var(--ds-link-pressed, ".concat("#0065FF",")"),dark:"var(--ds-link-pressed, ".concat(Xn,")")}),Vn({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(qn,")")}),Vn({light:"var(--ds-border-focused, ".concat(qn,")"),dark:"var(--ds-border-focused, ".concat(Xn,")")}),Vn({light:"var(--ds-background-brand-bold, ".concat(Qn,")"),dark:"var(--ds-background-brand-bold, ".concat(qn,")")}),Vn({light:Qn,dark:qn}),Vn({light:"#00B8D9",dark:"#00C7E6"}),Vn({light:"#6554C0",dark:"#998DD9"}),Vn({light:Hn,dark:Hn}),Vn({light:Zn,dark:Zn}),Vn({light:Yn,dark:Yn}),n(454)),fr={xsmall:8,small:16,medium:24,large:48,xlarge:96};var dr,hr,pr=zn({to:{transform:"rotate(360deg)"}}),vr=Dn({animation:"".concat(pr," 0.86s infinite"),animationTimingFunction:"cubic-bezier(0.4, 0.15, 0.6, 0.85)",transformOrigin:"center"}),mr=zn({from:{transform:"rotate(50deg)",opacity:0,strokeDashoffset:60},to:{transform:"rotate(230deg)",opacity:1,strokeDashoffset:50}}),yr=Dn({animation:"".concat(mr," 1s ease-in-out"),animationFillMode:"forwards",opacity:0}),br=Dn({display:"inline-flex",verticalAlign:"middle"}),gr=Dn({fill:"none",strokeDasharray:60,strokeDashoffset:"inherit",strokeLinecap:"round",strokeWidth:1.5,"@media screen and (forced-colors: active)":{filter:"grayscale(100%)",stroke:"CanvasText"}}),_r=t.memo(t.forwardRef((function(e,t){var n=e.testId,r=e.appearance,i=void 0===r?"inherit":r,a=e.delay,o=void 0===a?0:a,u=e.size,s=void 0===u?"medium":u,l="number"===typeof s?s:fr[s],c="".concat(o,"ms"),f=function(e){var t=e.mode,n=e.appearance;return"light"===t?"inherit"===n?"var(--ds-text-subtle, ".concat(ar,")"):"var(--ds-text-inverse, ".concat(Kn,")"):"inherit"===n?"var(--ds-text-subtle, ".concat("#E6EDFA",")"):"var(--ds-text-inverse, ".concat("#ABBBD6",")")}({mode:(0,cr.m)().mode,appearance:i});return jn("span",{css:[br,vr],"data-testid":n&&"".concat(n,"-wrapper"),style:{animationDelay:c,width:l,height:l}},jn("svg",{height:l,width:l,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","data-testid":n,ref:t,css:yr,style:{animationDelay:c}},jn("circle",{cx:"8",cy:"8",r:"7",css:gr,style:{stroke:f}})))}))),wr=n(153),xr=function(e){return(0,h.tZ)(ye.ClearIndicator,e,(0,h.tZ)(en.Z,{size:"small",label:"clear"}))},kr=function(e){return(0,h.tZ)(ye.DropdownIndicator,e,(0,h.tZ)(wr.Z,{label:"open"}))},Sr=function(e){return(0,h.tZ)("div",(0,d.Z)({css:e.getStyles("loadingIndicator",e)},e.innerProps),(0,h.tZ)(_r,{size:"small"}))},Or=(0,h.iv)(dr||(dr=p(["\n  display: none;\n"]))),Ar=(0,h.iv)(hr||(hr=p(["\n  display: inherit;\n"]))),Er=function(e){var t=e.selectProps.isDisabled;return(0,h.tZ)(ye.MultiValueRemove,e,(0,h.tZ)("div",{css:t?Or:Ar,"data-testid":t?"hide-clear-icon":"show-clear-icon"},(0,h.tZ)(en.Z,{label:"Clear",size:"small",primaryColor:"transparent",secondaryColor:"inherit"})))},Ir=null;function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return{container:function(e,t){var n=t.isDisabled;return Tr(Tr({},e),{},{fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",pointerEvents:"all",cursor:n?"not-allowed":e.cursor})},input:function(e){return Tr(Tr({},e),{},{color:"var(--ds-text, hsl(0, 0%, 20%))"})},control:function(r,i){var a=i.isFocused,o=i.isDisabled,u=a?"var(--ds-border-focused, ".concat(qn,")"):"var(--ds-border-input, ".concat(Jn,")"),s=a?"var(--ds-background-input-pressed, ".concat(Kn,")"):"var(--ds-background-input, ".concat(Jn,")"),l=a?"var(--ds-background-input-pressed, ".concat(Kn,")"):"var(--ds-background-input-hovered, ".concat(er,")");o&&(s="var(--ds-background-disabled, ".concat(Jn,")"),u="var(--ds-background-disabled, ".concat(Jn,")")),"error"===e&&(u="var(--ds-border-danger, ".concat(Wn,")")),"success"===e&&(u="var(--ds-border-success, ".concat($n,")"));var c=a?"var(--ds-border-focused, ".concat(qn,")"):"var(--ds-border-input, ".concat(er,")");"error"===e&&(c="var(--ds-border-danger, ".concat(Wn,")")),"success"===e&&(c="var(--ds-border-success, ".concat($n,")"));var f="200ms";return"subtle"===n&&(u=a?"var(--ds-border-focused, ".concat(qn,")"):"transparent",s=a?"var(--ds-surface, ".concat(Kn,")"):"transparent",l=a?"var(--ds-background-input-pressed, ".concat(Kn,")"):"var(--ds-background-input-hovered, ".concat(er,")")),"none"===n&&(u="transparent",s="transparent",l="transparent",c="transparent"),Tr(Tr({},r),{},{pointerEvents:o?"none":void 0,backgroundColor:s,borderColor:u,borderStyle:"solid",borderRadius:"3px",borderWidth:"2px",boxShadow:"none",minHeight:t?32:40,padding:0,transition:"background-color ".concat(f," ease-in-out,\n        border-color ").concat(f," ease-in-out"),"::-webkit-scrollbar":{height:8,width:8},"::-webkit-scrollbar-corner":{display:"none"},":hover":{"::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)"},cursor:"pointer",backgroundColor:l,borderColor:c},"::-webkit-scrollbar-thumb:hover":{backgroundColor:"rgba(0,0,0,0.4)"}})},valueContainer:function(e){return Tr(Tr({},e),{},{paddingLeft:6,paddingRight:6,paddingBottom:t?0:2,paddingTop:t?0:2})},clearIndicator:function(e){return Tr(Tr({},e),{},{color:"var(--ds-text-subtlest, ".concat(nr,")"),paddingLeft:2,paddingRight:2,paddingBottom:t?0:6,paddingTop:t?0:6,":hover":{color:"var(--ds-text-subtle, ".concat(ar,")")}})},loadingIndicator:function(e){return Tr(Tr({},e),{},{paddingBottom:t?0:6,paddingTop:t?0:6})},dropdownIndicator:function(e,n){var r=n.isDisabled,i="var(--ds-text-subtle, ".concat(ar,")");return r&&(i="var(--ds-text-disabled, ".concat(nr,")")),Tr(Tr({},e),{},{color:i,paddingLeft:2,paddingRight:2,paddingBottom:t?0:6,paddingTop:t?0:6,":hover":{color:"var(--ds-text-subtle, ".concat(rr,")")}})},indicatorsContainer:function(e){return Tr(Tr({},e),{},{paddingRight:4})},option:function(e,t){var n,r,i=t.isFocused,a=t.isSelected,o=t.isDisabled,u="var(--ds-text, ".concat(or,")");o?u="var(--ds-text-disabled, ".concat(nr,")"):a&&(u="var(--ds-text-selected, ".concat(Qn,")")),o?r=void 0:a&&i?r="var(--ds-background-selected-hovered, ".concat(Gn,")"):a?r="var(--ds-background-selected, ".concat(Gn,")"):i&&(r="var(--ds-background-neutral-subtle-hovered, ".concat(Jn,")")),o||!i&&!a||(n="inset 2px 0px 0px ".concat("var(--ds-border-selected, ".concat(Qn,")")));var s=o?"not-allowed":e.cursor;return Tr(Tr({},e),{},{padding:"6px 12px",backgroundColor:r,color:u,cursor:s,boxShadow:n,":active":{backgroundColor:o?void 0:a?"var(--ds-background-selected-pressed, ".concat(Jn,")"):"var(--ds-background-neutral-subtle-pressed, ".concat(er,")")},"@media screen and (-ms-high-contrast: active)":{borderLeft:o||!i&&!a?"":"2px solid transparent"}})},placeholder:function(e,t){var n=t.isDisabled;return Tr(Tr({},e),{},{color:n?"var(--ds-text-disabled, ".concat(ir,")"):"var(--ds-text-subtlest, ".concat(ir,")")})},singleValue:function(e,t){var n=t.isDisabled;return Tr(Tr({},e),{},{color:n?"var(--ds-text-disabled, ".concat(nr,")"):"var(--ds-text, ".concat(or,")"),lineHeight:"".concat(16,"px")})},menu:function(e){return Tr(Tr({},e),{},{backgroundColor:"var(--ds-surface-overlay, white)",boxShadow:"var(--ds-shadow-overlay, 0 0 0 1px hsl(0deg 0% 0% / 10%), 0 4px 11px hsl(0deg 0% 0% / 10%))"})},menuList:function(e){return Tr(Tr({},e),{},{paddingTop:8,paddingBottom:8})},multiValue:function(e,t){var n=t.isFocused;return Tr(Tr({},e),{},{borderRadius:"2px",backgroundColor:n?"var(--ds-background-selected, ".concat(tr,")"):"var(--ds-background-neutral, ".concat(tr,")"),boxShadow:n?"0 0 0 2px ".concat("var(--ds-surface, transparent)",", 0 0 0 4px ","var(--ds-border-focused, transparent)"):"none",maxWidth:"100%","@media screen and (-ms-high-contrast: active)":{border:n?"1px solid transparent":"none"},color:n?"var(--ds-text-selected, hsl(0, 0%, 20%))":"var(--ds-text, hsl(0, 0%, 20%))"})},multiValueLabel:function(e,t){t.isFocused;return Tr(Tr({},e),{},{padding:"2px",color:"inherit",paddingRight:"2px"})},multiValueRemove:function(e,t){var n=t.isFocused;return Tr(Tr({},e),{},{backgroundColor:n&&"var(--ds-UNSAFE_util-transparent, ".concat(Un,")"),fill:n?"var(--ds-text-selected, #000)":"var(--ds-text, #000)",paddingLeft:"2px",paddingRight:"2px",borderRadius:"0px 2px 2px 0px",":hover":{backgroundColor:"var(--ds-background-danger-hovered, ".concat(Un,")"),fill:"var(--ds-text-danger, #000)"},":active":{backgroundColor:"var(--ds-background-danger-pressed, ".concat(Un,")"),fill:"var(--ds-text-danger, #000)"}})}}}var Dr=["styles","validationState","isInvalid","spacing","isMulti","appearance"];function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var i=gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bt(this,n)}}var Pr,Fr,Lr,Br="@atlaskit/select",Rr="15.7.4",Vr=function(n){var r;return r=function(r){x(o,r);var a=Nr(o);function o(t){var n;return b(this,o),n=a.call(this,t),(0,i.Z)(yt(n),"components",{}),(0,i.Z)(yt(n),"select",null),(0,i.Z)(yt(n),"cacheComponents",(function(t){n.components=zr(zr({},e),t)})),(0,i.Z)(yt(n),"onSelectRef",(function(e){n.select=e;var t=n.props.innerRef;"object"===m(t)&&(t.current=e),"function"===typeof t&&t(e)})),n.cacheComponents=function(e,t){void 0===t&&(t=Qt);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}(n.cacheComponents,Jt()).bind(yt(n)),n.cacheComponents(t.components||{}),n}return _(o,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.cacheComponents(e.components)}},{key:"focus",value:function(){this.select&&this.select.focus()}},{key:"blur",value:function(){this.select&&this.select.blur()}},{key:"render",value:function(){var e=this.props,r=e.styles,i=e.validationState,a=e.isInvalid,o=e.spacing,u=e.isMulti,s=(e.appearance,(0,v.Z)(e,Dr)),l="compact"===o;return t.createElement(n,(0,d.Z)({ref:this.onSelectRef,isMulti:u,"aria-live":"assertive"},s,{components:this.components,styles:Xe(Mr(i||(a?"error":"default"),l,this.props.appearance||"default"),r)}))}}]),o}(t.Component),(0,i.Z)(r,"defaultProps",{validationState:"default",isInvalid:!1,spacing:"default",onClickPreventDefault:!0,tabSelectsValue:!1,components:{},styles:{}}),r}(mt),Ur=(Pr="atlaskit",function(e){return function(t){var n=t(e),r=n.clone();return r&&r.fire(Pr),n}}),Hr=Nt({componentName:"select",packageName:Br,packageVersion:Rr})(qt({onChange:Ur({action:"changed",actionSubject:"option",attributes:{componentName:"select",packageName:Br,packageVersion:Rr}})})(Vr));function Wr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Zr(e,t,n){return Zr=Wr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&w(i,n.prototype),i},Zr.apply(null,arguments)}function Yr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function $r(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Yr(a,r,i,o,u,"next",e)}function u(e){Yr(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Gr(e){var t=Wr();return function(){var n,r=gt(e);if(t){var i=gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bt(this,n)}}function qr(e){var t="function"===typeof Map?new Map:void 0;return qr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Zr(e,arguments,gt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,e)},qr(e)}function Xr(){Xr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new A(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var f={};function d(){}function h(){}function p(){}var v={};s(v,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==t&&n.call(b,a)&&(v=b);var g=p.prototype=d.prototype=Object.create(v);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=c(e[r],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==m(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Qr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var Kr=Xr().mark(ma),Jr=Xr().mark(Ua),ei=Xr().mark(jp),ti=Xr().mark(Hp),ni=Xr().mark(Sx),ri=Object.defineProperty,ii=function(e,t,n){return function(e,t,n){t in e?ri(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},ai="http://www.w3.org/1999/xhtml",oi={svg:"http://www.w3.org/2000/svg",xhtml:ai,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ui(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),oi.hasOwnProperty(t)?{space:oi[t],local:e}:e}function si(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ai&&t.documentElement.namespaceURI===ai?t.createElement(e):t.createElementNS(n,e)}}function li(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ci(e){var t=ui(e);return(t.local?li:si)(t)}function fi(){}function di(e){return null==e?fi:function(){return this.querySelector(e)}}function hi(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function pi(){return[]}function vi(e){return null==e?pi:function(){return this.querySelectorAll(e)}}function mi(e){return function(){return this.matches(e)}}function yi(e){return function(t){return t.matches(e)}}var bi=Array.prototype.find;function gi(){return this.firstElementChild}var _i=Array.prototype.filter;function wi(){return Array.from(this.children)}function xi(e){return new Array(e.length)}function ki(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Si(e){return function(){return e}}function Oi(e,t,n,r,i,a){for(var o,u=0,s=t.length,l=a.length;u<l;++u)(o=t[u])?(o.__data__=a[u],r[u]=o):n[u]=new ki(e,a[u]);for(;u<s;++u)(o=t[u])&&(i[u]=o)}function Ai(e,t,n,r,i,a,o){var u,s,l,c=new Map,f=t.length,d=a.length,h=new Array(f);for(u=0;u<f;++u)(s=t[u])&&(h[u]=l=o.call(s,s.__data__,u,t)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<d;++u)l=o.call(e,a[u],u,a)+"",(s=c.get(l))?(r[u]=s,s.__data__=a[u],c.delete(l)):n[u]=new ki(e,a[u]);for(u=0;u<f;++u)(s=t[u])&&c.get(h[u])===s&&(i[u]=s)}function Ei(e){return e.__data__}function Ii(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Ci(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ti(e){return function(){this.removeAttribute(e)}}function Mi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Di(e,t){return function(){this.setAttribute(e,t)}}function ji(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zi(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Ni(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Pi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Fi(e){return function(){this.style.removeProperty(e)}}function Li(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Bi(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ri(e,t){return e.style.getPropertyValue(t)||Pi(e).getComputedStyle(e,null).getPropertyValue(t)}function Vi(e){return function(){delete this[e]}}function Ui(e,t){return function(){this[e]=t}}function Hi(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Wi(e){return e.trim().split(/^|\s+/)}function Zi(e){return e.classList||new Yi(e)}function Yi(e){this._node=e,this._names=Wi(e.getAttribute("class")||"")}function $i(e,t){for(var n=Zi(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Gi(e,t){for(var n=Zi(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function qi(e){return function(){$i(this,e)}}function Xi(e){return function(){Gi(this,e)}}function Qi(e,t){return function(){(t.apply(this,arguments)?$i:Gi)(this,e)}}function Ki(){this.textContent=""}function Ji(e){return function(){this.textContent=e}}function ea(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ta(){this.innerHTML=""}function na(e){return function(){this.innerHTML=e}}function ra(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ia(){this.nextSibling&&this.parentNode.appendChild(this)}function aa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oa(){return null}function ua(){var e=this.parentNode;e&&e.removeChild(this)}function sa(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function la(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ca(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function fa(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function da(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,u=i.length;o<u;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function ha(e,t,n){var r=Pi(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function pa(e,t){return function(){return ha(this,e,t)}}function va(e,t){return function(){return ha(this,e,t.apply(this,arguments))}}function ma(){var e,t,n,r,i,a,o;return Xr().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){u.next=13;break}r=e[t],i=0,a=r.length;case 3:if(!(i<a)){u.next=10;break}if(!(o=r[i])){u.next=7;break}return u.next=7,o;case 7:++i,u.next=3;break;case 10:++t,u.next=1;break;case 13:case"end":return u.stop()}}),Kr,this)}ki.prototype={constructor:ki,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Yi.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ya=[null];function ba(e,t){this._groups=e,this._parents=t}function ga(){return new ba([[document.documentElement]],ya)}function _a(e){return"string"===typeof e?new ba([[document.querySelector(e)]],[document.documentElement]):new ba([[e]],ya)}function wa(e,t){if(e=function(e){for(var t;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function xa(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ka(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sa(e){var t,n,r;function i(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<0?i=o+1:a=o}while(i<a)}return i}return 2!==e.length?(t=xa,n=function(t,n){return xa(e(t),n)},r=function(t,n){return e(t)-n}):(t=e===xa||e===ka?e:Oa,n=e,r=e),{left:i,center:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,o=i(e,t,n,a-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<=0?i=o+1:a=o}while(i<a)}return i}}}function Oa(){return 0}ba.prototype=ga.prototype=(0,i.Z)({constructor:ba,select:function(e){"function"!==typeof e&&(e=di(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,u=t[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(a=u[c])&&(o=e.call(a,a.__data__,c,u))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new ba(r,this._parents)},selectAll:function(e){e="function"===typeof e?function(e){return function(){return hi(e.apply(this,arguments))}}(e):vi(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,u=t[a],s=u.length,l=0;l<s;++l)(o=u[l])&&(r.push(e.call(o,o.__data__,l,u)),i.push(o));return new ba(r,i)},selectChild:function(e){return this.select(null==e?gi:function(e){return function(){return bi.call(this.children,e)}}("function"===typeof e?e:yi(e)))},selectChildren:function(e){return this.selectAll(null==e?wi:function(e){return function(){return _i.call(this.children,e)}}("function"===typeof e?e:yi(e)))},filter:function(e){"function"!==typeof e&&(e=mi(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&s.push(a);return new ba(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Ei);var n=t?Ai:Oi,r=this._parents,i=this._groups;"function"!==typeof e&&(e=Si(e));for(var a=i.length,o=new Array(a),u=new Array(a),s=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],d=f.length,h=Ii(e.call(c,c&&c.__data__,l,r)),p=h.length,v=u[l]=new Array(p),m=o[l]=new Array(p),y=s[l]=new Array(d);n(c,f,v,m,y,h,t);for(var b,g,_=0,w=0;_<p;++_)if(b=v[_]){for(_>=w&&(w=_+1);!(g=m[w])&&++w<p;);b._next=g||null}}return(o=new ba(o,r))._enter=u,o._exit=s,o},enter:function(){return new ba(this._enter||this._groups.map(xi),this._parents)},exit:function(){return new ba(this._exit||this._groups.map(xi),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),u=new Array(i),s=0;s<o;++s)for(var l,c=n[s],f=r[s],d=c.length,h=u[s]=new Array(d),p=0;p<d;++p)(l=c[p]||f[p])&&(h[p]=l);for(;s<i;++s)u[s]=n[s];return new ba(u,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ci);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,u=n[a],s=u.length,l=i[a]=new Array(s),c=0;c<s;++c)(o=u[c])&&(l[c]=o);l.sort(t)}return new ba(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e,t=0,n=Qr(this);try{for(n.s();!(e=n.n()).done;){e.value;++t}}catch(r){n.e(r)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,u=a.length;o<u;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=ui(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Mi:Ti:"function"===typeof t?n.local?Ni:zi:n.local?ji:Di)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Fi:"function"===typeof t?Bi:Li)(e,t,null==n?"":n)):Ri(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Vi:"function"===typeof t?Hi:Ui)(e,t)):this.node()[e]},classed:function(e,t){var n=Wi(e+"");if(arguments.length<2){for(var r=Zi(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?Qi:t?qi:Xi)(n,t))},text:function(e){return arguments.length?this.each(null==e?Ki:("function"===typeof e?ea:Ji)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ta:("function"===typeof e?ra:na)(e)):this.node().innerHTML},raise:function(){return this.each(ia)},lower:function(){return this.each(aa)},append:function(e){var t="function"===typeof e?e:ci(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:ci(e),r=null==t?oa:"function"===typeof t?t:di(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ua)},clone:function(e){return this.select(e?la:sa)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=ca(e+""),o=a.length;if(!(arguments.length<2)){for(u=t?da:fa,r=0;r<o;++r)this.each(u(a[r],t,n));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(e,t){return this.each(("function"===typeof t?va:pa)(e,t))}},Symbol.iterator,ma);var Aa=Sa(xa),Ea=Aa.right,Ia=Aa.left;function Ca(e,t){var n,r;if(void 0===t){var i,a=Qr(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}}catch(f){a.e(f)}finally{a.f()}}else{var u,s=-1,l=Qr(e);try{for(l.s();!(u=l.n()).done;){var c=u.value;null!=(c=t(c,++s,e))&&(void 0===n?c>=c&&(n=r=c):(n>c&&(n=c),r<c&&(r=c)))}}catch(f){l.e(f)}finally{l.f()}}return[n,r]}Sa((function(e){return null===e?NaN:+e})).center;var Ta=function(){function e(){b(this,e),this._partials=new Float64Array(32),this._n=0}return _(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=t[r],a=e+i,o=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,i=this._n,a=0;if(i>0){for(a=r[--i];i>0&&(e=a,!(n=(t=r[--i])-((a=e+t)-e))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(t=2*n)==(e=a+t)-a&&(a=e)}return a}}]),e}(),Ma=function(e){x(n,e);var t=Gr(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ja;if(b(this,n),r=t.call(this),Object.defineProperties(yt(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var a,o=Qr(e);try{for(o.s();!(a=o.n()).done;){var u=l(a.value,2),s=u[0],c=u[1];r.set(s,c)}}catch(f){o.e(f)}finally{o.f()}}return r}return _(n,[{key:"get",value:function(e){return Bt(gt(n.prototype),"get",this).call(this,Da(this,e))}},{key:"has",value:function(e){return Bt(gt(n.prototype),"has",this).call(this,Da(this,e))}},{key:"set",value:function(e,t){return Bt(gt(n.prototype),"set",this).call(this,function(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}(this,e),t)}},{key:"delete",value:function(e){return Bt(gt(n.prototype),"delete",this).call(this,function(e,t){var n=e._intern,r=(0,e._key)(t);n.has(r)&&(t=n.get(t),n.delete(r));return t}(this,e))}}]),n}(qr(Map));function Da(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function ja(e){return null!==e&&"object"===typeof e?e.valueOf():e}var za=Math.sqrt(50),Na=Math.sqrt(10),Pa=Math.sqrt(2);function Fa(e,t,n){var r,i,a,o,u=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=La(e,t,n))||!isFinite(o))return[];if(o>0){var s=Math.round(e/o),l=Math.round(t/o);for(s*o<e&&++s,l*o>t&&--l,a=new Array(i=l-s+1);++u<i;)a[u]=(s+u)*o}else{o=-o;var c=Math.round(e*o),f=Math.round(t*o);for(c/o<e&&++c,f/o>t&&--f,a=new Array(i=f-c+1);++u<i;)a[u]=(c+u)/o}return r&&a.reverse(),a}function La(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=za?10:a>=Na?5:a>=Pa?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=za?10:a>=Na?5:a>=Pa?2:1)}function Ba(e,t){var n;if(void 0===t){var r,i=Qr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=Qr(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l,++u,e))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function Ra(e,t){var n;if(void 0===t){var r,i=Qr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=Qr(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l,++u,e))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function Va(e,t){var n=0,r=0;if(void 0===t){var i,a=Qr(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(o=+o)>=o&&(++n,r+=o)}}catch(f){a.e(f)}finally{a.f()}}else{var u,s=-1,l=Qr(e);try{for(l.s();!(u=l.n()).done;){var c=u.value;null!=(c=t(c,++s,e))&&(c=+c)>=c&&(++n,r+=c)}}catch(f){l.e(f)}finally{l.f()}}if(n)return r/n}function Ua(e){var t,n,r;return Xr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=Qr(e),i.prev=1,t.s();case 3:if((n=t.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),t.e(i.t1);case 13:return i.prev=13,t.f(),i.finish(13);case 16:case"end":return i.stop()}}),Jr,null,[[1,10,13,16]])}function Ha(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Wa(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=r-(n=+n);i;){var a=e()*i--|0,o=t[i+n];t[i+n]=t[a+n],t[a+n]=o}return t}}function Za(e,t){var n=0;if(void 0===t){var r,i=Qr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&(n+=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=Qr(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;(l=+t(l,++u,e))&&(n+=l)}}catch(c){s.e(c)}finally{s.f()}}return n}var Ya=1e-6,$a=Math.PI,Ga=2*$a,qa=180/$a,Xa=$a/180,Qa=Math.abs,Ka=Math.cos,Ja=Math.sin,eo=Math.sqrt;function to(){}function no(e,t){e&&io.hasOwnProperty(e.type)&&io[e.type](e,t)}var ro={Feature:function(e,t){no(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)no(n[r].geometry,t)}},io={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ao(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ao(n[r],t,0)},Polygon:function(e,t){oo(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)oo(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)no(n[r],t)}};function ao(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function oo(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ao(e[n],t,1);t.polygonEnd()}function uo(e,t){e&&ro.hasOwnProperty(e.type)?ro[e.type](e,t):no(e,t)}function so(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function lo(e,t,n,r,i){var a,o,u=[],s=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r,o,l=e[0],c=e[t];if(o=c,Qa((r=l)[0]-o[0])<Ya&&Qa(r[1]-o[1])<Ya){if(!l[2]&&!c[2]){for(i.lineStart(),a=0;a<t;++a)i.point((l=e[a])[0],l[1]);return void i.lineEnd()}c[0]+=2e-6}u.push(n=new so(l,e,null,!0)),s.push(n.o=new so(l,null,n,!1)),u.push(n=new so(c,e,null,!1)),s.push(n.o=new so(c,null,n,!0))}})),u.length){for(s.sort(t),co(u),co(s),a=0,o=s.length;a<o;++a)s[a].e=n=!n;for(var l,c,f=u[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,o=l.length;a<o;++a)i.point((c=l[a])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(l=d.p.z,a=l.length-1;a>=0;--a)i.point((c=l[a])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}l=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}}function co(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var fo=1e9,ho=-fo;function po(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,u,l){var c=0,f=0;if(null==i||(c=o(i,u))!==(f=o(a,u))||s(i,a)<0^u>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+u+4)%4)!==f);else l.point(a[0],a[1])}function o(r,i){return Qa(r[0]-e)<Ya?i>0?0:3:Qa(r[0]-n)<Ya?i>0?2:1:Qa(r[1]-t)<Ya?i>0?1:0:i>0?3:2}function u(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var s,l,c,f,d,h,p,v,m,y,b,g=o,_=function(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:to,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}(),w={point:x,lineStart:function(){w.point=k,l&&l.push(c=[]);y=!0,m=!1,p=v=NaN},lineEnd:function(){s&&(k(f,d),h&&m&&_.rejoin(),s.push(_.result()));w.point=x,m&&g.lineEnd()},polygonStart:function(){g=_,s=[],l=[],b=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=l.length;n<i;++n)for(var a,o,u=l[n],s=1,c=u.length,f=u[0],d=f[0],h=f[1];s<c;++s)a=d,o=h,d=(f=u[s])[0],h=f[1],o<=r?h>r&&(d-a)*(r-o)>(h-o)*(e-a)&&++t:h<=r&&(d-a)*(r-o)<(h-o)*(e-a)&&--t;return t}(),n=b&&t,i=(f=s,s=Array.from(Ua(f))).length;var f;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&lo(s,u,t,a,o),o.polygonEnd());g=o,s=l=c=null}};function x(e,t){i(e,t)&&g.point(e,t)}function k(a,o){var u=i(a,o);if(l&&c.push([a,o]),y)f=a,d=o,h=u,y=!1,u&&(g.lineStart(),g.point(a,o));else if(u&&m)g.point(a,o);else{var s=[p=Math.max(ho,Math.min(fo,p)),v=Math.max(ho,Math.min(fo,v))],_=[a=Math.max(ho,Math.min(fo,a)),o=Math.max(ho,Math.min(fo,o))];!function(e,t,n,r,i,a){var o,u=e[0],s=e[1],l=0,c=1,f=t[0]-u,d=t[1]-s;if(o=n-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}if(o=r-s,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<c&&(c=o)}else if(d>0){if(o>c)return;o>l&&(l=o)}if(o=a-s,d||!(o<0)){if(o/=d,d<0){if(o>c)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<c&&(c=o)}return l>0&&(e[0]=u+l*f,e[1]=s+l*d),c<1&&(t[0]=u+c*f,t[1]=s+c*d),!0}}}}}(s,_,e,t,n,r)?u&&(g.lineStart(),g.point(a,o),b=!1):(m||(g.lineStart(),g.point(s[0],s[1])),g.point(_[0],_[1]),u||g.lineEnd(),b=!1)}p=a,v=o,m=u}return w}}var vo,mo,yo,bo,go=function(e){return e},_o=new Ta,wo=new Ta,xo={point:to,lineStart:to,lineEnd:to,polygonStart:function(){xo.lineStart=ko,xo.lineEnd=Ao},polygonEnd:function(){xo.lineStart=xo.lineEnd=xo.point=to,_o.add(Qa(wo)),wo=new Ta},result:function(){var e=_o/2;return _o=new Ta,e}};function ko(){xo.point=So}function So(e,t){xo.point=Oo,vo=yo=e,mo=bo=t}function Oo(e,t){wo.add(bo*e-yo*t),yo=e,bo=t}function Ao(){Oo(vo,mo)}var Eo=xo,Io=1/0,Co=Io,To=-Io,Mo=To;var Do,jo,zo,No,Po={point:function(e,t){e<Io&&(Io=e);e>To&&(To=e);t<Co&&(Co=t);t>Mo&&(Mo=t)},lineStart:to,lineEnd:to,polygonStart:to,polygonEnd:to,result:function(){var e=[[Io,Co],[To,Mo]];return To=Mo=-(Co=Io=1/0),e}},Fo=0,Lo=0,Bo=0,Ro=0,Vo=0,Uo=0,Ho=0,Wo=0,Zo=0,Yo={point:$o,lineStart:Go,lineEnd:Qo,polygonStart:function(){Yo.lineStart=Ko,Yo.lineEnd=Jo},polygonEnd:function(){Yo.point=$o,Yo.lineStart=Go,Yo.lineEnd=Qo},result:function(){var e=Zo?[Ho/Zo,Wo/Zo]:Uo?[Ro/Uo,Vo/Uo]:Bo?[Fo/Bo,Lo/Bo]:[NaN,NaN];return Fo=Lo=Bo=Ro=Vo=Uo=Ho=Wo=Zo=0,e}};function $o(e,t){Fo+=e,Lo+=t,++Bo}function Go(){Yo.point=qo}function qo(e,t){Yo.point=Xo,$o(zo=e,No=t)}function Xo(e,t){var n=e-zo,r=t-No,i=eo(n*n+r*r);Ro+=i*(zo+e)/2,Vo+=i*(No+t)/2,Uo+=i,$o(zo=e,No=t)}function Qo(){Yo.point=$o}function Ko(){Yo.point=eu}function Jo(){tu(Do,jo)}function eu(e,t){Yo.point=tu,$o(Do=zo=e,jo=No=t)}function tu(e,t){var n=e-zo,r=t-No,i=eo(n*n+r*r);Ro+=i*(zo+e)/2,Vo+=i*(No+t)/2,Uo+=i,Ho+=(i=No*e-zo*t)*(zo+e),Wo+=i*(No+t),Zo+=3*i,$o(zo=e,No=t)}var nu=Yo;function ru(e){this._context=e}ru.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ga)}},result:to};var iu,au,ou,uu,su,lu=new Ta,cu={point:to,lineStart:function(){cu.point=fu},lineEnd:function(){iu&&du(au,ou),cu.point=to},polygonStart:function(){iu=!0},polygonEnd:function(){iu=null},result:function(){var e=+lu;return lu=new Ta,e}};function fu(e,t){cu.point=du,au=uu=e,ou=su=t}function du(e,t){uu-=e,su-=t,lu.add(eo(uu*uu+su*su)),uu=e,su=t}var hu=cu;function pu(){this._string=[]}function vu(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function mu(e,t){var n,r,i=4.5;function a(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),uo(e,n(r))),r.result()}return a.area=function(e){return uo(e,n(Eo)),Eo.result()},a.measure=function(e){return uo(e,n(hu)),hu.result()},a.bounds=function(e){return uo(e,n(Po)),Po.result()},a.centroid=function(e){return uo(e,n(nu)),nu.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,go):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new pu):new ru(t=e),"function"!==typeof i&&r.pointRadius(i),a):t},a.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),a):i},a.projection(e).context(t)}function yu(){}function bu(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),uo(n,e.stream(Po)),t(Po.result()),null!=r&&e.clipExtent(r),e}function gu(e,t,n){return bu(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,u])}),n)}function _u(){var e,t,n,r,i,a,o,u,s=1,l=0,c=0,f=1,d=1,h=0,p=null,v=1,m=1,y=(u={point:function(e,t){var n=_([e,t]);this.stream.point(n[0],n[1])}},function(e){var t=new yu;for(var n in u)t[n]=u[n];return t.stream=e,t}),b=go;function g(){return v=s*f,m=s*d,a=o=null,_}function _(n){var r=n[0]*v,i=n[1]*m;if(h){var a=i*e-r*t;r=r*e+i*t,i=a}return[r+l,i+c]}return _.invert=function(n){var r=n[0]-l,i=n[1]-c;if(h){var a=i*e+r*t;r=r*e-i*t,i=a}return[r/v,i/m]},_.stream=function(e){return a&&o===e?a:a=y(b(o=e))},_.postclip=function(e){return arguments.length?(b=e,p=n=r=i=null,g()):b},_.clipExtent=function(e){return arguments.length?(b=null==e?(p=n=r=i=null,go):po(p=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),g()):null==p?null:[[p,n],[r,i]]},_.scale=function(e){return arguments.length?(s=+e,g()):s},_.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],g()):[l,c]},_.angle=function(n){return arguments.length?(t=Ja(h=n%360*Xa),e=Ka(h),g()):h*qa},_.reflectX=function(e){return arguments.length?(f=e?-1:1,g()):f<0},_.reflectY=function(e){return arguments.length?(d=e?-1:1,g()):d<0},_.fitExtent=function(e,t){return gu(_,e,t)},_.fitSize=function(e,t){return function(e,t,n){return gu(e,[[0,0],t],n)}(_,e,t)},_.fitWidth=function(e,t){return function(e,t,n){return bu(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])}),n)}(_,e,t)},_.fitHeight=function(e,t){return function(e,t,n){return bu(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])}),n)}(_,e,t)},_}pu.prototype={_radius:4.5,_circle:vu(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=vu(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},yu.prototype={constructor:yu,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var wu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},xu={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",a="[object Function]",o="[object Object]",u=/^\[object .+?Constructor\]$/,s=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[i]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[a]=l["[object Map]"]=l["[object Number]"]=l[o]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var c="object"==typeof wu&&wu&&wu.Object===Object&&wu,f="object"==typeof self&&self&&self.Object===Object&&self,d=c||f||Function("return this")(),h=t&&!t.nodeType&&t,p=h&&e&&!e.nodeType&&e,v=p&&p.exports===h,m=v&&c.process,y=function(){try{var e=p&&p.require&&p.require("util").types;return e||m&&m.binding&&m.binding("util")}catch(t){}}(),b=y&&y.isTypedArray;function g(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var _,w,x=Array.prototype,k=Function.prototype,S=Object.prototype,O=d["__core-js_shared__"],A=k.toString,E=S.hasOwnProperty,I=function(){var e=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),C=S.toString,T=A.call(Object),M=RegExp("^"+A.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=v?d.Buffer:void 0,j=d.Symbol,z=d.Uint8Array,N=D?D.allocUnsafe:void 0,P=(_=Object.getPrototypeOf,w=Object,function(e){return _(w(e))}),F=Object.create,L=S.propertyIsEnumerable,B=x.splice,R=j?j.toStringTag:void 0,V=function(){try{var e=he(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),U=D?D.isBuffer:void 0,H=Math.max,W=Date.now,Z=he(d,"Map"),Y=he(Object,"create"),$=function(){function e(){}return function(t){if(!Oe(t))return{};if(F)return F(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Q(e){var t=this.__data__=new q(e);this.size=t.size}function K(e,t){var n=_e(e),r=!n&&ge(e),i=!n&&!r&&xe(e),a=!n&&!r&&!i&&Ee(e),o=n||r||i||a,u=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=u.length;for(var l in e)!t&&!E.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||pe(l,s))||u.push(l);return u}function J(e,t,n){(void 0!==n&&!be(e[t],n)||void 0===n&&!(t in e))&&ne(e,t,n)}function ee(e,t,n){var r=e[t];E.call(e,t)&&be(r,n)&&(void 0!==n||t in e)||ne(e,t,n)}function te(e,t){for(var n=e.length;n--;)if(be(e[n][0],t))return n;return-1}function ne(e,t,n){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}G.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},G.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G.prototype.get=function(e){var t=this.__data__;if(Y){var r=t[e];return r===n?void 0:r}return E.call(t,e)?t[e]:void 0},G.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:E.call(t,e)},G.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Y&&void 0===t?n:t,this},q.prototype.clear=function(){this.__data__=[],this.size=0},q.prototype.delete=function(e){var t=this.__data__,n=te(t,e);return!(n<0)&&(n==t.length-1?t.pop():B.call(t,n,1),--this.size,!0)},q.prototype.get=function(e){var t=this.__data__,n=te(t,e);return n<0?void 0:t[n][1]},q.prototype.has=function(e){return te(this.__data__,e)>-1},q.prototype.set=function(e,t){var n=this.__data__,r=te(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},X.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new(Z||q),string:new G}},X.prototype.delete=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t},X.prototype.get=function(e){return de(this,e).get(e)},X.prototype.has=function(e){return de(this,e).has(e)},X.prototype.set=function(e,t){var n=de(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Q.prototype.clear=function(){this.__data__=new q,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var n=this.__data__;if(n instanceof q){var r=n.__data__;if(!Z||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new X(r)}return n.set(e,t),this.size=n.size,this};var re,ie=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var u=a[re?o:++r];if(!1===t(i[u],u,i))break}return e};function ae(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":R&&R in Object(e)?function(e){var t=E.call(e,R),n=e[R];try{e[R]=void 0;var r=!0}catch(a){}var i=C.call(e);r&&(t?e[R]=n:delete e[R]);return i}(e):function(e){return C.call(e)}(e)}function oe(e){return Ae(e)&&ae(e)==i}function ue(e){return!(!Oe(e)||function(e){return!!I&&I in e}(e))&&(ke(e)?M:u).test(function(e){if(null!=e){try{return A.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function se(e){if(!Oe(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ve(e),n=[];for(var r in e)("constructor"!=r||!t&&E.call(e,r))&&n.push(r);return n}function le(e,t,n,r,i){e!==t&&ie(t,(function(a,u){if(i||(i=new Q),Oe(a))!function(e,t,n,r,i,a,u){var s=me(e,n),l=me(t,n),c=u.get(l);if(c)return void J(e,n,c);var f=a?a(s,l,n+"",e,t,u):void 0,d=void 0===f;if(d){var h=_e(l),p=!h&&xe(l),v=!h&&!p&&Ee(l);f=l,h||p||v?_e(s)?f=s:Ae(m=s)&&we(m)?f=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):p?(d=!1,f=function(e,t){if(t)return e.slice();var n=e.length,r=N?N(n):new e.constructor(n);return e.copy(r),r}(l,!0)):v?(d=!1,f=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new z(t).set(new z(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(l,!0)):f=[]:function(e){if(!Ae(e)||ae(e)!=o)return!1;var t=P(e);if(null===t)return!0;var n=E.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==T}(l)||ge(l)?(f=s,ge(s)?f=function(e){return function(e,t,n,r){var i=!n;n||(n={});var a=-1,o=t.length;for(;++a<o;){var u=t[a],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),i?ne(n,u,s):ee(n,u,s)}return n}(e,Ie(e))}(s):Oe(s)&&!ke(s)||(f=function(e){return"function"!=typeof e.constructor||ve(e)?{}:$(P(e))}(l))):d=!1}var m;d&&(u.set(l,f),i(f,l,r,a,u),u.delete(l));J(e,n,f)}(e,t,u,n,le,r,i);else{var s=r?r(me(e,u),a,u+"",e,t,i):void 0;void 0===s&&(s=a),J(e,u,s)}}),Ie)}function ce(e,t){return ye(function(e,t,n){return t=H(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=H(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(o),g(e,this,u)}}(e,t,Me),e+"")}var fe=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Me;function de(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function he(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(n)?n:void 0}function pe(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&s.test(e))&&e>-1&&e%1==0&&e<t}function ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}function me(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var ye=function(e){var t=0,n=0;return function(){var r=W(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(fe);function be(e,t){return e===t||e!==e&&t!==t}var ge=oe(function(){return arguments}())?oe:function(e){return Ae(e)&&E.call(e,"callee")&&!L.call(e,"callee")},_e=Array.isArray;function we(e){return null!=e&&Se(e.length)&&!ke(e)}var xe=U||function(){return!1};function ke(e){if(!Oe(e))return!1;var t=ae(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Oe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}var Ee=b?function(e){return function(t){return e(t)}}(b):function(e){return Ae(e)&&Se(e.length)&&!!l[ae(e)]};function Ie(e){return we(e)?K(e,!0):se(e)}var Ce,Te=(Ce=function(e,t,n){le(e,t,n)},ce((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=Ce.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,t,n){if(!Oe(n))return!1;var r=typeof t;return!!("number"==r?we(n)&&pe(t,n.length):"string"==r&&t in n)&&be(n[t],e)}(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&Ce(e,o,n,i)}return e})));function Me(e){return e}e.exports=Te}(xu,xu.exports);var ku,Su,Ou=xu.exports,Au=0,Eu=0,Iu=0,Cu=0,Tu=0,Mu=0,Du="object"===typeof performance&&performance.now?performance:Date,ju="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zu(){return Tu||(ju(Nu),Tu=Du.now()+Mu)}function Nu(){Tu=0}function Pu(){this._call=this._time=this._next=null}function Fu(e,t,n){var r=new Pu;return r.restart(e,t,n),r}function Lu(){Tu=(Cu=Du.now())+Mu,Au=Eu=0;try{!function(){zu(),++Au;for(var e,t=ku;t;)(e=Tu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Au}()}finally{Au=0,function(){var e,t,n=ku,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ku=t);Su=e,Ru(r)}(),Tu=0}}function Bu(){var e=Du.now(),t=e-Cu;t>1e3&&(Mu-=t,Cu=e)}function Ru(e){Au||(Eu&&(Eu=clearTimeout(Eu)),e-Tu>24?(e<1/0&&(Eu=setTimeout(Lu,e-Du.now()-Mu)),Iu&&(Iu=clearInterval(Iu))):(Iu||(Cu=Du.now(),Iu=setInterval(Bu,1e3)),Au=1,ju(Lu)))}function Vu(e,t,n){var r=new Pu;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}Pu.prototype=Fu.prototype={constructor:Pu,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?zu():+n)+(null==t?0:+t),this._next||Su===this||(Su?Su._next=this:ku=this,Su=this),this._call=e,this._time=n,Ru()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ru())}};var Uu={value:function(){}};function Hu(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Wu(r)}function Wu(e){this._=e}function Zu(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Yu(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function $u(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Uu,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Wu.prototype=Hu.prototype={constructor:Wu,on:function(e,t){var n,r=this._,i=Zu(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=$u(r[n],e.name,t);else if(null==t)for(n in r)r[n]=$u(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=Yu(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Wu(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var Gu={capture:!0,passive:!1};function qu(e){e.preventDefault(),e.stopImmediatePropagation()}function Xu(e){var t=e.document.documentElement,n=_a(e).on("dragstart.drag",qu,Gu);"onselectstart"in t?n.on("selectstart.drag",qu,Gu):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Qu(e,t){var n=e.document.documentElement,r=_a(e).on("dragstart.drag",null);t&&(r.on("click.drag",qu,Gu),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ku(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ju(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function es(){}var ts=.7,ns=1/ts,rs="\\s*([+-]?\\d+)\\s*",is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",os=/^#([0-9a-f]{3,8})$/,us=new RegExp("^rgb\\(".concat(rs,",").concat(rs,",").concat(rs,"\\)$")),ss=new RegExp("^rgb\\(".concat(as,",").concat(as,",").concat(as,"\\)$")),ls=new RegExp("^rgba\\(".concat(rs,",").concat(rs,",").concat(rs,",").concat(is,"\\)$")),cs=new RegExp("^rgba\\(".concat(as,",").concat(as,",").concat(as,",").concat(is,"\\)$")),fs=new RegExp("^hsl\\(".concat(is,",").concat(as,",").concat(as,"\\)$")),ds=new RegExp("^hsla\\(".concat(is,",").concat(as,",").concat(as,",").concat(is,"\\)$")),hs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ps(){return this.rgb().formatHex()}function vs(){return this.rgb().formatRgb()}function ms(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=os.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ys(t):3===n?new ws(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?bs(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?bs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=us.exec(e))?new ws(t[1],t[2],t[3],1):(t=ss.exec(e))?new ws(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ls.exec(e))?bs(t[1],t[2],t[3],t[4]):(t=cs.exec(e))?bs(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=fs.exec(e))?Es(t[1],t[2]/100,t[3]/100,1):(t=ds.exec(e))?Es(t[1],t[2]/100,t[3]/100,t[4]):hs.hasOwnProperty(e)?ys(hs[e]):"transparent"===e?new ws(NaN,NaN,NaN,0):null}function ys(e){return new ws(e>>16&255,e>>8&255,255&e,1)}function bs(e,t,n,r){return r<=0&&(e=t=n=NaN),new ws(e,t,n,r)}function gs(e){return e instanceof es||(e=ms(e)),e?new ws((e=e.rgb()).r,e.g,e.b,e.opacity):new ws}function _s(e,t,n,r){return 1===arguments.length?gs(e):new ws(e,t,n,null==r?1:r)}function ws(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function xs(){return"#".concat(As(this.r)).concat(As(this.g)).concat(As(this.b))}function ks(){var e=Ss(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Os(this.r),", ").concat(Os(this.g),", ").concat(Os(this.b)).concat(1===e?")":", ".concat(e,")"))}function Ss(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Os(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function As(e){return((e=Os(e))<16?"0":"")+e.toString(16)}function Es(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Cs(e,t,n,r)}function Is(e){if(e instanceof Cs)return new Cs(e.h,e.s,e.l,e.opacity);if(e instanceof es||(e=ms(e)),!e)return new Cs;if(e instanceof Cs)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=t===a?(n-r)/u+6*(n<r):n===a?(r-t)/u+2:(t-n)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new Cs(o,u,s,e.opacity)}function Cs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ts(e){return(e=(e||0)%360)<0?e+360:e}function Ms(e){return Math.max(0,Math.min(1,e||0))}function Ds(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Ku(es,ms,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ps,formatHex:ps,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Is(this).formatHsl()},formatRgb:vs,toString:vs}),Ku(ws,_s,Ju(es,{brighter:function(e){return e=null==e?ns:Math.pow(ns,e),new ws(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?ts:Math.pow(ts,e),new ws(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new ws(Os(this.r),Os(this.g),Os(this.b),Ss(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xs,formatHex:xs,formatHex8:function(){return"#".concat(As(this.r)).concat(As(this.g)).concat(As(this.b)).concat(As(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:ks,toString:ks})),Ku(Cs,(function(e,t,n,r){return 1===arguments.length?Is(e):new Cs(e,t,n,null==r?1:r)}),Ju(es,{brighter:function(e){return e=null==e?ns:Math.pow(ns,e),new Cs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ts:Math.pow(ts,e),new Cs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ws(Ds(e>=240?e-240:e+120,i,r),Ds(e,i,r),Ds(e<120?e+240:e-120,i,r),this.opacity)},clamp:function(){return new Cs(Ts(this.h),Ms(this.s),Ms(this.l),Ss(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=Ss(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Ts(this.h),", ").concat(100*Ms(this.s),"%, ").concat(100*Ms(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var js=Math.PI/180,zs=180/Math.PI,Ns=-.14861,Ps=1.78277,Fs=-.29227,Ls=-.90649,Bs=1.97294,Rs=Bs*Ls,Vs=Bs*Ps,Us=Ps*Fs-Ls*Ns;function Hs(e){if(e instanceof Zs)return new Zs(e.h,e.s,e.l,e.opacity);e instanceof ws||(e=gs(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Us*r+Rs*t-Vs*n)/(Us+Rs-Vs),a=r-i,o=(Bs*(n-i)-Fs*a)/Ls,u=Math.sqrt(o*o+a*a)/(Bs*i*(1-i)),s=u?Math.atan2(o,a)*zs-120:NaN;return new Zs(s<0?s+360:s,u,i,e.opacity)}function Ws(e,t,n,r){return 1===arguments.length?Hs(e):new Zs(e,t,n,null==r?1:r)}function Zs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ku(Zs,Ws,Ju(es,{brighter:function(e){return e=null==e?ns:Math.pow(ns,e),new Zs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ts:Math.pow(ts,e),new Zs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*js,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ws(255*(t+n*(Ns*r+Ps*i)),255*(t+n*(Fs*r+Ls*i)),255*(t+n*(Bs*r)),this.opacity)}}));var Ys=function(e){return function(){return e}};function $s(e,t){return function(n){return e+n*t}}function Gs(e){return 1===(e=+e)?qs:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ys(isNaN(t)?n:t)}}function qs(e,t){var n=t-e;return n?$s(e,n):Ys(isNaN(e)?t:e)}var Xs=function e(t){var n=Gs(t);function r(e,t){var r=n((e=_s(e)).r,(t=_s(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=qs(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);var Qs,Ks=(Qs=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,u=r<t-1?e[r+2]:2*a-i;return function(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}((n-r/t)*t,o,i,a,u)}},function(e){var t,n,r=e.length,i=new Array(r),a=new Array(r),o=new Array(r);for(t=0;t<r;++t)n=_s(e[t]),i[t]=n.r||0,a[t]=n.g||0,o[t]=n.b||0;return i=Qs(i),a=Qs(a),o=Qs(o),n.opacity=1,function(e){return n.r=i(e),n.g=a(e),n.b=o(e),n+""}});function Js(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function el(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=ul(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function tl(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function nl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function rl(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=ul(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var il=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,al=new RegExp(il.source,"g");function ol(e,t){var n,r,i,a=il.lastIndex=al.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=il.exec(e))&&(r=al.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:nl(n,r)})),a=al.lastIndex;return a<t.length&&(i=t.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})}function ul(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?Ys(t):("number"===i?nl:"string"===i?(n=ms(t))?(t=n,Xs):ol:t instanceof ms?Xs:t instanceof Date?tl:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?el:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?rl:nl:Js))(e,t)}function sl(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var ll,cl=180/Math.PI,fl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dl(e,t,n,r,i,a){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*cl,skewX:Math.atan(s)*cl,scaleX:o,scaleY:u}}function hl(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var u=[],s=[];return a=e(a),o=e(o),function(e,r,i,a,o,u){if(e!==i||r!==a){var s=o.push("translate(",null,t,null,n);u.push({i:s-4,x:nl(e,i)},{i:s-2,x:nl(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,u,s),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:nl(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,u,s),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:nl(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,u,s),function(e,t,n,r,a,o){if(e!==n||t!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:nl(e,n)},{i:u-2,x:nl(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,s),a=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var pl=hl((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?fl:dl(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),vl=hl((function(e){return null==e?fl:(ll||(ll=document.createElementNS("http://www.w3.org/2000/svg","g")),ll.setAttribute("transform",e),(e=ll.transform.baseVal.consolidate())?dl((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):fl)}),", ",")",")");function ml(e){return((e=Math.exp(e))+1/e)/2}var yl=function e(t,n,r){function i(e,i){var a,o,u=e[0],s=e[1],l=e[2],c=i[0],f=i[1],d=i[2],h=c-u,p=f-s,v=h*h+p*p;if(v<1e-12)o=Math.log(d/l)/t,a=function(e){return[u+e*h,s+e*p,l*Math.exp(t*e*o)]};else{var m=Math.sqrt(v),y=(d*d-l*l+r*v)/(2*l*n*m),b=(d*d-l*l-r*v)/(2*d*n*m),g=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(b*b+1)-b);o=(_-g)/t,a=function(e){var r,i=e*o,a=ml(g),c=l/(n*m)*(a*(r=t*i+g,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[u+c*h,s+c*p,l*a/ml(t*i+g)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function bl(e){return function t(n){function r(t,r){var i=e((t=Ws(t)).h,(r=Ws(r)).h),a=qs(t.s,r.s),o=qs(t.l,r.l),u=qs(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,r.gamma=t,r}(1)}bl((function(e,t){var n=t-e;return n?$s(e,n>180||n<-180?n-360*Math.round(n/360):n):Ys(isNaN(e)?t:e)}));var gl=bl(qs),_l=Hu("start","end","cancel","interrupt"),wl=[];function xl(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,c,f,d;if(1!==n.state)return s();for(l in i)if((d=i[l]).name===n.name){if(3===d.state)return Vu(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[l]):+l<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[l])}if(Vu((function(){3===n.state&&(n.state=4,n.timer.restart(u,n.delay,n.time),u(a))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function u(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Fu(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:_l,tween:wl,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function kl(e,t){var n=Ol(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Sl(e,t){var n=Ol(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Ol(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Al(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}function El(e,t){var n,r;return function(){var i=Sl(this,e),a=i.tween;if(a!==n)for(var o=0,u=(r=n=a).length;o<u;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function Il(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=Sl(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:t,value:n},s=0,l=i.length;s<l;++s)if(i[s].name===t){i[s]=u;break}s===l&&i.push(u)}a.tween=i}}function Cl(e,t,n){var r=e._id;return e.each((function(){var e=Sl(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Ol(e,r).value[t]}}function Tl(e,t){var n;return("number"===typeof t?nl:t instanceof ms?Xs:(n=ms(t))?(t=n,Xs):ol)(e,t)}function Ml(e){return function(){this.removeAttribute(e)}}function Dl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jl(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function zl(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function Nl(e,t,n){var r,i,a;return function(){var o,u,s=n(this);if(null!=s)return(o=this.getAttribute(e))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=t(r=o,s));this.removeAttribute(e)}}function Pl(e,t,n){var r,i,a;return function(){var o,u,s=n(this);if(null!=s)return(o=this.getAttributeNS(e.space,e.local))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=t(r=o,s));this.removeAttributeNS(e.space,e.local)}}function Fl(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Ll(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Bl(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Ll(e,i)),n}return i._value=t,i}function Rl(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Fl(e,i)),n}return i._value=t,i}function Vl(e,t){return function(){kl(this,e).delay=+t.apply(this,arguments)}}function Ul(e,t){return t=+t,function(){kl(this,e).delay=t}}function Hl(e,t){return function(){Sl(this,e).duration=+t.apply(this,arguments)}}function Wl(e,t){return t=+t,function(){Sl(this,e).duration=t}}function Zl(e,t){if("function"!==typeof t)throw new Error;return function(){Sl(this,e).ease=t}}function Yl(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?kl:Sl;return function(){var o=a(this,e),u=o.on;u!==r&&(i=(r=u).copy()).on(t,n),o.on=i}}var $l=ga.prototype.constructor;function Gl(e){return function(){this.style.removeProperty(e)}}function ql(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Xl(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&ql(e,a,n)),r}return a._value=t,a}function Ql(e){return function(t){this.textContent=e.call(this,t)}}function Kl(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Ql(r)),t}return r._value=e,r}var Jl=0;function ec(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function tc(){return++Jl}var nc=ga.prototype;ec.prototype=(0,i.Z)({constructor:ec,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=di(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u,s,l=r[o],c=l.length,f=a[o]=new Array(c),d=0;d<c;++d)(u=l[d])&&(s=e.call(u,u.__data__,d,l))&&("__data__"in u&&(s.__data__=u.__data__),f[d]=s,xl(f[d],t,n,d,f,Ol(u,n)));return new ec(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=vi(e));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var d,h=e.call(s,s.__data__,f,l),p=Ol(s,n),v=0,m=h.length;v<m;++v)(d=h[v])&&xl(d,t,n,v,h,p);a.push(h),o.push(s)}return new ec(a,o,t,n)},selectChild:nc.selectChild,selectChildren:nc.selectChildren,filter:function(e){"function"!==typeof e&&(e=mi(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&s.push(a);return new ec(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=t[u],c=n[u],f=l.length,d=o[u]=new Array(f),h=0;h<f;++h)(s=l[h]||c[h])&&(d[h]=s);for(;u<r;++u)o[u]=t[u];return new ec(o,this._parents,this._name,this._id)},selection:function(){return new $l(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=tc(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)if(o=u[l]){var c=Ol(o,t);xl(o,e,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ec(r,this._parents,e,n)},call:nc.call,nodes:nc.nodes,node:nc.node,size:nc.size,empty:nc.empty,each:nc.each,on:function(e,t){var n=this._id;return arguments.length<2?Ol(this.node(),n).on.on(e):this.each(Yl(n,e,t))},attr:function(e,t){var n=ui(e),r="transform"===n?vl:Tl;return this.attrTween(e,"function"===typeof t?(n.local?Pl:Nl)(n,r,Cl(this,"attr."+e,t)):null==t?(n.local?Dl:Ml)(n):(n.local?zl:jl)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=ui(e);return this.tween(n,(r.local?Bl:Rl)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?pl:Tl;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=Ri(this,e),o=(this.style.removeProperty(e),Ri(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,Gl(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=Ri(this,e),u=n(this),s=u+"";return null==u&&(this.style.removeProperty(e),s=u=Ri(this,e)),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,u))}}(e,r,Cl(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,u="end."+o;return function(){var s=Sl(this,e),l=s.on,c=null==s.value[o]?a||(a=Gl(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(u,i=c),s.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=Ri(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,Xl(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Cl(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,Kl(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=Ol(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?El:Il)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Vl:Ul)(t,e)):Ol(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Hl:Wl)(t,e)):Ol(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Zl(t,e)):Ol(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;Sl(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var u={value:o},s={value:function(){0===--i&&a()}};n.each((function(){var n=Sl(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(u),t._.interrupt.push(u),t._.end.push(s)),n.on=t})),0===i&&a()}))}},Symbol.iterator,nc[Symbol.iterator]);var rc={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function ic(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}ga.prototype.interrupt=function(e){return this.each((function(){Al(this,e)}))},ga.prototype.transition=function(e){var t,n;e instanceof ec?(t=e._id,e=e._name):(t=tc(),(n=rc).time=zu(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)(o=u[l])&&xl(o,e,t,l,u,n||ic(o,t));return new ec(r,this._parents,e,t)};var ac=function(e){return function(){return e}};function oc(e,t){var n=t.sourceEvent,r=t.target,i=t.transform,a=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function uc(e,t,n){this.k=e,this.x=t,this.y=n}uc.prototype={constructor:uc,scale:function(e){return 1===e?this:new uc(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new uc(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var sc=new uc(1,0,0);function lc(e){e.stopImmediatePropagation()}function cc(e){e.preventDefault(),e.stopImmediatePropagation()}function fc(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function dc(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function hc(){return this.__zoom||sc}function pc(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function vc(){return navigator.maxTouchPoints||"ontouchstart"in this}function mc(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function yc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function bc(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}uc.prototype;var gc=Symbol("implicit");function _c(){var e=new Ma,t=[],n=[],r=gc;function i(i){var a=e.get(i);if(void 0===a){if(r!==gc)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Ma;var r,a=Qr(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;e.has(o)||e.set(o,t.push(o)-1)}}catch(u){a.e(u)}finally{a.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return _c(t,n).unknown(r)},yc.apply(i,arguments),i}function wc(e){return+e}var xc=[0,1];function kc(e){return e}function Sc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Oc(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Sc(i,r),a=n(o,a)):(r=Sc(r,i),a=n(a,o)),function(e){return a(r(e))}}function Ac(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Sc(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Ea(e,t,1,r)-1;return a[n](i[n](t))}}function Ec(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ic(){var e,t,n,r,i,a,o=xc,u=xc,s=ul,l=kc;function c(){var e=Math.min(o.length,u.length);return l!==kc&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?Ac:Oc,i=a=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),u,s)))(e(l(t)))}return f.invert=function(n){return l(t((a||(a=r(u,o.map(e),nl)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,wc),c()):o.slice()},f.range=function(e){return arguments.length?(u=Array.from(e),c()):u.slice()},f.rangeRound=function(e){return u=Array.from(e),s=sl,c()},f.clamp=function(e){return arguments.length?(l=!!e||kc,c()):l!==kc},f.interpolate=function(e){return arguments.length?(s=e,c()):s},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function Cc(){return Ic()(kc,kc)}function Tc(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Mc(e){return(e=Tc(Math.abs(e)))?e[1]:NaN}var Dc,jc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zc(e){if(!(t=jc.exec(e)))throw new Error("invalid format: "+e);var t;return new Nc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Nc(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Pc(e,t){var n=Tc(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}zc.prototype=Nc.prototype,Nc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Fc={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Pc(100*e,t)},r:Pc,s:function(e,t){var n=Tc(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Dc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Tc(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Lc(e){return e}var Bc,Rc,Vc,Uc=Array.prototype.map,Hc=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Wc(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Lc:(t=Uc.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?Lc:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Uc.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=zc(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,v=e.comma,m=e.precision,y=e.trim,b=e.type;"n"===b?(v=!0,b="g"):Fc[b]||(void 0===m&&(m=12),y=!0,b="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var g="$"===d?i:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===d?a:/[%p]/.test(b)?s:"",w=Fc[b],x=/[defgprs%]/.test(b);function k(e){var i,a,s,d=g,k=_;if("c"===b)k=w(e)+k,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),m),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==f&&(S=!1),d=(S?"("===f?f:l:"-"===f||"("===f?"":f)+d,k=("s"===b?Hc[8+Dc/3]:"")+k+(S&&"("===f?")":""),x)for(i=-1,a=e.length;++i<a;)if(48>(s=e.charCodeAt(i))||s>57){k=(46===s?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}v&&!h&&(e=r(e,1/0));var O=d.length+e.length+k.length,A=O<p?new Array(p-O+1).join(t):"";switch(v&&h&&(e=r(A+e,A.length?p-k.length:1/0),A=""),n){case"<":e=d+e+k+A;break;case"=":e=d+A+e+k;break;case"^":e=A.slice(0,O=A.length>>1)+d+e+k+A.slice(O);break;default:e=A+d+e+k}return u(e)}return m=void 0===m?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=zc(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Mc(t)/3))),i=Math.pow(10,-r),a=Hc[8+r/3];return function(e){return n(i*e)+a}}}}function Zc(e,t,n,r){var i,a=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=za?i*=10:a>=Na?i*=5:a>=Pa&&(i*=2),t<e?-i:i}(e,t,n);switch((r=zc(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Mc(t)/3)))-Mc(Math.abs(e)))}(a,o))||(r.precision=i),Vc(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mc(t)-Mc(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Mc(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return Rc(r)}function Yc(e){var t=e.domain;return e.ticks=function(e){var n=t();return Fa(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Zc(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,u=a.length-1,s=a[o],l=a[u],c=10;for(l<s&&(i=s,s=l,l=i,i=o,o=u,u=i);c-- >0;){if((i=La(s,l,n))===r)return a[o]=s,a[u]=l,t(a);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function $c(){var e=Cc();return e.copy=function(){return Ec(e,$c())},yc.apply(e,arguments),Yc(e)}function Gc(e){return Math.log(e)}function qc(e){return Math.exp(e)}function Xc(e){return-Math.log(-e)}function Qc(e){return-Math.exp(-e)}function Kc(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Jc(e){return function(t,n){return-e(-t,n)}}function ef(e){var t,n,r=e(Gc,qc),i=r.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?Kc:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),i()[0]<0?(t=Jc(t),n=Jc(n),e(Xc,Qc)):e(Gc,qc),r}return r.base=function(e){return arguments.length?(a=+e,o()):a},r.domain=function(e){return arguments.length?(i(e),o()):i()},r.ticks=function(e){var r=i(),o=r[0],u=r[r.length-1],s=u<o;if(s){var l=[u,o];o=l[0],u=l[1]}var c,f,d=t(o),h=t(u),p=null==e?10:+e,v=[];if(!(a%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(!((f=d<0?c/n(-d):c*n(d))<o)){if(f>u)break;v.push(f)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(!((f=d>0?c/n(-d):c*n(d))<o)){if(f>u)break;v.push(f)}2*v.length<p&&(v=Fa(o,u,p))}else v=Fa(d,h,Math.min(h-d,p)).map(n);return s?v.reverse():v},r.tickFormat=function(e,i){if(null==e&&(e=10),null==i&&(i=10===a?"s":","),"function"!==typeof i&&(a%1||null!=(i=zc(i)).precision||(i.trim=!0),i=Rc(i)),e===1/0)return i;var o=Math.max(1,a*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*a<a-.5&&(r*=a),r<=o?i(e):""}},r.nice=function(){return i(function(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function tf(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nf(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rf(e){return e<0?-e*e:e*e}function af(e){var t=e(kc,kc),n=1;function r(){return 1===n?e(kc,kc):.5===n?e(nf,rf):e(tf(n),tf(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},Yc(t)}function of(){var e=af(Ic());return e.copy=function(){return Ec(e,of()).exponent(e.exponent())},yc.apply(e,arguments),e}function uf(){var e,t,n,r,i,a=0,o=1,u=kc,s=!1;function c(t){return null==t||isNaN(t=+t)?i:u(0===n?.5:(t=(r(t)-e)*n,s?Math.max(0,Math.min(1,t)):t))}function f(e){return function(t){var n,r,i;return arguments.length?(r=(n=l(t,2))[0],i=n[1],u=e(r,i),c):[u(0),u(1)]}}return c.domain=function(i){var u;return arguments.length?(u=l(i,2),a=u[0],o=u[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(s=!!e,c):s},c.interpolator=function(e){return arguments.length?(u=e,c):u},c.range=f(ul),c.rangeRound=f(sl),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function sf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lf(){var e=Yc(uf()(kc));return e.copy=function(){return sf(e,lf())},bc.apply(e,arguments)}function cf(){var e=ef(uf()).domain([1,10]);return e.copy=function(){return sf(e,cf()).base(e.base())},bc.apply(e,arguments)}function ff(){var e=af(uf());return e.copy=function(){return sf(e,ff()).exponent(e.exponent())},bc.apply(e,arguments)}Bc=Wc({thousands:",",grouping:[3],currency:["$",""]}),Rc=Bc.format,Vc=Bc.formatPrefix;var df=function(){function e(t,n,r){b(this,e),ii(this,"prefs"),ii(this,"svg_element_selection"),ii(this,"width"),ii(this,"height"),ii(this,"renderers"),ii(this,"tileSet"),ii(this,"_timer"),ii(this,"_scales"),ii(this,"zoomer"),ii(this,"transform"),ii(this,"_start"),ii(this,"scatterplot"),this.prefs=n,this.svg_element_selection=_a(t),this.width=+this.svg_element_selection.attr("width"),this.height=+this.svg_element_selection.attr("height"),this.renderers=new Map,this.scatterplot=r,this.renderers=new Map}return _(e,[{key:"attach_tiles",value:function(e){return this.tileSet=e,this.tileSet._zoom=this,this}},{key:"attach_renderer",value:function(e,t){return this.renderers.set(e,t),t.bind_zoom(this),t.zoom.initialize_zoom(),this}},{key:"zoom_to",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4e3,i=this.scales(),a=this.svg_element_selection,o=this.zoomer,u=this.width,s=this.height,l=sc.translate(u/2,s/2).scale(e).translate(-i.x(t),-i.y(n));a.transition().duration(r).call(o.transform,l)}},{key:"html_annotation",value:function(e){var t=this,n=this.svg_element_selection.node().parentNode.parentNode,r=.75;void 0!==this.scatterplot.prefs.tooltip_opacity&&(r=this.scatterplot.prefs.tooltip_opacity),_a(n).selectAll("div.tooltip").data(e).join((function(e){return e.append("div").attr("class","tooltip").style("top",0).style("left",0).style("position","absolute").style("z-index",100).style("border-radius","8px").style("padding","10px").style("background","ivory").style("opacity",r)}),(function(e){return e.html((function(e){return t.scatterplot.tooltip_html(e.data)}))}),(function(e){return e.call((function(e){return e.remove()}))})).html((function(e){return t.scatterplot.tooltip_html(e.data)})).style("transform",(function(e){return"translate(".concat(+e.x+e.dx,"px, ").concat(+e.y+e.dy,"px)")}))}},{key:"zoom_to_bbox",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.111,r=this.scales(),i=e.x.map(r.x),a=l(i,2),o=a[0],u=a[1],s=e.y.map(r.y),c=l(s,2),f=c[0],d=c[1],h=this.svg_element_selection,p=this.zoomer,v=this.width,m=this.height,y=sc.translate(v/2,m/2).scale(1/n/Math.max((u-o)/v,(d-f)/m)).translate(-(o+u)/2,-(f+d)/2);h.transition().duration(t).call(p.transform,y)}},{key:"initialize_zoom",value:function(){var e=this,t=this.width,n=this.height,r=this.svg_element_selection;this.transform=sc;var i=function(){var e,t,n,r=fc,i=dc,a=mc,o=pc,u=vc,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,f=yl,d=Hu("start","zoom","end"),h=500,p=0,v=10;function m(e){e.property("__zoom",hc).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",O).filter(u).on("touchstart.zoom",A).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new uc(t,e.x,e.y)}function b(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new uc(e.k,r,i)}function g(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function _(e,t,n,r){e.on("start.zoom",(function(){w(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,a=arguments,o=w(e,a).event(r),u=i.apply(e,a),s=null==n?g(u):"function"===typeof n?n.apply(e,a):n,l=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),c=e.__zoom,d="function"===typeof t?t.apply(e,a):t,h=f(c.invert(s).concat(l/c.k),d.invert(s).concat(l/d.k));return function(e){if(1===e)e=d;else{var t=h(e),n=l/t[2];e=new uc(n,s[0]-t[0]*n,s[1]-t[1]*n)}o.zoom(null,e)}}))}function w(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var u=w(this,n).event(e),c=this.__zoom,f=Math.max(s[0],Math.min(s[1],c.k*Math.pow(2,o.apply(this,arguments)))),d=wa(e);if(u.wheel)u.mouse[0][0]===d[0]&&u.mouse[0][1]===d[1]||(u.mouse[1]=c.invert(u.mouse[0]=d)),clearTimeout(u.wheel);else{if(c.k===f)return;u.mouse=[d,c.invert(d)],Al(this),u.start()}cc(e),u.wheel=setTimeout(h,150),u.zoom("mouse",a(b(y(c,f),u.mouse[0],u.mouse[1]),u.extent,l))}function h(){u.wheel=null,u.end()}}function S(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var u=e.currentTarget,s=w(this,i,!0).event(e),c=_a(e.view).on("mousemove.zoom",v,!0).on("mouseup.zoom",m,!0),f=wa(e,u),d=e.clientX,h=e.clientY;Xu(e.view),lc(e),s.mouse=[f,this.__zoom.invert(f)],Al(this),s.start()}function v(e){if(cc(e),!s.moved){var t=e.clientX-d,n=e.clientY-h;s.moved=t*t+n*n>p}s.event(e).zoom("mouse",a(b(s.that.__zoom,s.mouse[0]=wa(e,u),s.mouse[1]),s.extent,l))}function m(e){c.on("mousemove.zoom mouseup.zoom",null),Qu(e.view,s.moved),cc(e),s.event(e).end()}}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var u=this.__zoom,s=wa(e.changedTouches?e.changedTouches[0]:e,this),f=u.invert(s),d=u.k*(e.shiftKey?.5:2),h=a(b(y(u,d),s,f),i.apply(this,n),l);cc(e),c>0?_a(this).transition().duration(c).call(_,h,s,e):_a(this).call(m.transform,h,s,e)}}function A(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(r.apply(this,arguments)){var u,s,l,c,f=n.touches,d=f.length,p=w(this,a,n.changedTouches.length===d).event(n);for(lc(n),s=0;s<d;++s)c=[c=wa(l=f[s],this),this.__zoom.invert(c),l.identifier],p.touch0?p.touch1||p.touch0[2]===c[2]||(p.touch1=c,p.taps=0):(p.touch0=c,u=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),u&&(p.taps<2&&(t=c[0],e=setTimeout((function(){e=null}),h)),Al(this),p.start())}}function E(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,u,s,c=w(this,n).event(e),f=e.changedTouches,d=f.length;for(cc(e),i=0;i<d;++i)u=wa(o=f[i],this),c.touch0&&c.touch0[2]===o.identifier?c.touch0[0]=u:c.touch1&&c.touch1[2]===o.identifier&&(c.touch1[0]=u);if(o=c.that.__zoom,c.touch1){var h=c.touch0[0],p=c.touch0[1],v=c.touch1[0],m=c.touch1[1],g=(g=v[0]-h[0])*g+(g=v[1]-h[1])*g,_=(_=m[0]-p[0])*_+(_=m[1]-p[1])*_;o=y(o,Math.sqrt(g/_)),u=[(h[0]+v[0])/2,(h[1]+v[1])/2],s=[(p[0]+m[0])/2,(p[1]+m[1])/2]}else{if(!c.touch0)return;u=c.touch0[0],s=c.touch0[1]}c.zoom("touch",a(b(o,u,s),c.extent,l))}}function I(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.__zooming){var o,u,s=w(this,i).event(e),l=e.changedTouches,c=l.length;for(lc(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),o=0;o<c;++o)u=l[o],s.touch0&&s.touch0[2]===u.identifier?delete s.touch0:s.touch1&&s.touch1[2]===u.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(u=wa(u,this),Math.hypot(t[0]-u[0],t[1]-u[1])<v)){var f=_a(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",hc),e!==i?_(e,t,n,r):i.interrupt().each((function(){w(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,o=null==n?g(e):"function"===typeof n?n.apply(this,arguments):n,u=r.invert(o),s="function"===typeof t?t.apply(this,arguments):t;return a(b(y(r,s),o,u),e,l)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}),null,r)},m.translateTo=function(e,t,n,r,o){m.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,u=null==r?g(e):"function"===typeof r?r.apply(this,arguments):r;return a(sc.translate(u[0],u[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,l)}),r,o)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=_a(this.that).datum();d.call(e,this.that,new oc(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:d}),t)}},m.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:ac(+e),m):o},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:ac(!!e),m):r},m.touchable=function(e){return arguments.length?(u="function"===typeof e?e:ac(!!e),m):u},m.extent=function(e){return arguments.length?(i="function"===typeof e?e:ac([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],m):[s[0],s[1]]},m.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(e){return arguments.length?(a=e,m):a},m.duration=function(e){return arguments.length?(c=+e,m):c},m.interpolate=function(e){return arguments.length?(f=e,m):f},m.on=function(){var e=d.on.apply(d,arguments);return e===d?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m.tapDistance=function(e){return arguments.length?(v=+e,m):v},m}().scaleExtent([1/3,1e5]).extent([[0,0],[t,n]]).on("zoom",(function(t){try{document.getElementById("tooltipcircle").remove()}catch(n){}e.transform=t.transform,e.restart_timer(1e4)}));r.call(i),this.add_mouseover(),this.zoomer=i}},{key:"synthetic_mouseover",value:function(e){var t=e,n=this.renderers.get("regl"),r=n.aes.dim("x").current,i=n.aes.dim("y").current,a=this.scales(),o=a.x_,u=a.y_;try{_a("#tooltipcircle").remove()}catch(s){console.log("no circle")}_a("#deepscatter-svg").append("circle").attr("id","tooltipcircle").attr("class","label").attr("stroke","#110022").attr("r",12).attr("cx",o(r.value_for(t))).attr("cy",u(i.value_for(t)))}},{key:"add_mouseover",value:function(){var e=this,t=0,n=this.renderers.get("regl"),r=n.aes.dim("x").current,i=n.aes.dim("y").current;this.svg_element_selection.on("mousemove",(function(a){if(!(Date.now()-t<50)){t=Date.now();var o=n.color_pick(a.layerX,a.layerY),u=o?[o]:[],s=u[0],l=s?[{x:a.layerX,y:a.layerY,data:s,dx:0,dy:30}]:[],c=e.scales(),f=c.x_,d=c.y_;e.html_annotation(l),_a("#deepscatter-svg").selectAll("circle.label").data(u,(function(e){return e.ix})).join((function(t){return t.append("circle").attr("id","tooltipcircle").attr("class","label").attr("stroke","#110022").attr("r",12).attr("fill",(function(t){return e.renderers.get("regl").aes.dim("color").current.apply(t)})).attr("cx",(function(e){return f(r.value_for(e))})).attr("cy",(function(e){return d(i.value_for(e))}))}),(function(t){return t.attr("fill",(function(t){return e.renderers.get("regl").aes.dim("color").current.apply(t)}))}),(function(t){return t.call((function(t){t.remove(),e.prefs.exit_function&&e.prefs.exit_function()}))})).on("click",(function(t,n){e.scatterplot.click_function(n)}))}}))}},{key:"current_corners",value:function(){var e=this.width,t=this.height,n=this.scales();if(void 0!==n){var r=n.x_,i=n.y_;return{x:[r.invert(0),r.invert(e)],y:[i.invert(0),i.invert(t)]}}}},{key:"current_center",value:function(){var e=this.current_corners(),t=e.x,n=e.y;return[(t[0]+t[1])/2,(n[0]+n[1])/2]}},{key:"restart_timer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=Date.now()+e;this._timer&&(this._timer.stop_at>t&&(t=this._timer.stop_at),this._timer.stop());var n=Fu(this.tick.bind(this));return this._timer=n,this._timer.stop_at=t,this._timer}},{key:"data",value:function(e){return void 0===e?this.tileSet:(this.tileSet=e,this)}},{key:"scales",value:function(){if(this._scales)return this._scales.x_=this.transform.rescaleX(this._scales.x),this._scales.y_=this.transform.rescaleY(this._scales.y),this._scales;var e=this.width,t=this.height;if(void 0===this.tileSet)throw new Error("Error--scales created before tileSet present.");var n=this.tileSet.extent,r={};if(void 0===n)throw new Error("Error--scales created before extent present.");for(var i={},a=0,o=[["x",e],["y",t]];a<o.length;a++){var u=l(o[a],2),s=u[0],c=u[1],f=n[s],d=f[1]-f[0];i[s]={limits:f,size_range:d,pixels_per_unit:c/d}}var h=i.x.pixels_per_unit/i.y.pixels_per_unit,p=0,v=0;return h>1?p=(e-e/h)/2:v=(t-t*h)/2,r.x=$c().domain(i.x.limits).range([p,e-p]),r.y=$c().domain(i.y.limits).range([v,t-v]),r.x_=this.transform.rescaleX(r.x),r.y_=this.transform.rescaleY(r.y),this._scales=r,r}},{key:"webgl_scale",value:function(){var e=this.scales(),t=e.x,n=e.y,r=hf(t,n).flat();return r}},{key:"tick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._start=this._start||Date.now(),!0!==e&&this._timer&&this._timer.stop_at<=Date.now()&&this._timer.stop()}}]),e}();function hf(e,t){function n(e){return e[1]-e[0]}var r=Va(e.domain()),i=Va(t.domain()),a=n(e.range())/n(e.domain()),o=n(t.range())/n(t.domain());return[[a,0,-a*r+Va(e.range())],[0,o,-o*i+Va(t.range())],[0,0,1]]}var pf={exports:{}};pf.exports=function(){var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function i(e){var t=new Error("(regl) "+e);throw console.error(t),t}function a(e,t){e||i(t)}function o(e){return e?": "+e:""}function u(e,t,n){e in t||i("unknown parameter ("+e+")"+o(n)+". possible values: "+Object.keys(t).join())}function s(t,n){e(t)||i("invalid parameter type"+o(n)+". must be a typed array")}function l(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function c(e,t,n){l(e,t)||i("invalid parameter type"+o(n)+". expected "+t+", got "+typeof e)}function f(e,t){e>=0&&(0|e)===e||i("invalid parameter type, ("+e+")"+o(t)+". must be a nonnegative integer")}function d(e,t,n){t.indexOf(e)<0&&i("invalid value"+o(n)+". must be one of: "+t)}var h=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(e){Object.keys(e).forEach((function(e){h.indexOf(e)<0&&i('invalid regl constructor argument "'+e+'". must be one of '+h)}))}function v(e,t){for(e+="";e.length<t;)e=" "+e;return e}function m(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(e,t){this.number=e,this.line=t,this.errors=[]}function b(e,t,n){this.file=e,this.line=t,this.message=n}function g(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function _(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function w(e,t){var n=e.split("\n"),i=1,a=0,o={unknown:new m,0:new m};o.unknown.name=o[0].name=t||g(),o.unknown.lines.push(new y(0,""));for(var u=0;u<n.length;++u){var s=n[u],l=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(s);if(l)switch(l[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(l[2]);c&&(i=0|c[1],c[2]&&((a=0|c[2])in o||(o[a]=new m)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);f&&(o[a].name=f[1]?r(f[2]):f[2])}o[a].lines.push(new y(i++,s))}return Object.keys(o).forEach((function(e){var t=o[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),o}function x(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new b(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new b("unknown",0,e))}})),t}function k(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function S(e,t,r,i,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var u=e.getShaderInfoLog(t),s=i===e.FRAGMENT_SHADER?"fragment":"vertex";M(r,"string",s+" shader source must be a string",o);var l=w(r,o),c=x(u);k(l,c),Object.keys(l).forEach((function(e){var t=l[e];if(t.hasErrors){var r=[""],i=[""];a("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){a(v(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),a(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(r){var i=r.message,o=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(o){var u=o[1];i=o[2],"assign"===u&&(u="="),t=Math.max(e.line.indexOf(u,t),0)}else t=0;a(v("| ",6)),a(v("^^^",t+3)+n,"font-weight:bold"),a(v("| ",6)),a(i+n,"font-weight:bold")})),a(v("| ",6)+n)}else a(v(e.number,4)+"|  "),a(e.line+n,"color:red")})),"undefined"===typeof document||window.chrome?console.log(r.join("")):(i[0]=r.join("%c"),console.log.apply(console,i))}function a(e,t){r.push(e),i.push(t||"")}})),a.raise("Error compiling "+s+" shader, "+l[0].name)}}function O(e,t,r,i,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var u=e.getProgramInfoLog(t),s=w(r,o),l='Error linking program with vertex shader, "'+w(i,o)[0].name+'", and fragment shader "'+s[0].name+'"';"undefined"!==typeof document?console.log("%c"+l+n+"%c"+u,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(l+n+u),a.raise(l)}}function A(e){e._commandRef=g()}function E(e,t,n,r){function i(e){return e?r.id(e):0}function a(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}A(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var o=e._uniformSet={};a(o,t.static),a(o,t.dynamic);var u=e._attributeSet={};a(u,n.static),a(u,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function I(e,t){var n=_();i(e+" in command "+(t||g())+("unknown"===n?"":" called from "+n))}function C(e,t,n){e||I(t,n||g())}function T(e,t,n,r){e in t||I("unknown parameter ("+e+")"+o(n)+". possible values: "+Object.keys(t).join(),r||g())}function M(e,t,n,r){l(e,t)||I("invalid parameter type"+o(n)+". expected "+t+", got "+typeof e,r||g())}function D(e){e()}function j(e,t,n){e.texture?d(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):d(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var z=33071,N=9728,P=9984,F=9985,L=9986,B=9987,R=5121,V=5122,U=5123,H=5124,W=5125,Z=5126,Y=32819,$=32820,G=33635,q=34042,X=36193,Q={};function K(e,t){return e===$||e===Y||e===G?2:e===q?4:Q[e]*t}function J(e){return!(e&e-1)&&!!e}function ee(e,t,n){var r,i=t.width,o=t.height,u=t.channels;a(i>0&&i<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),e.wrapS===z&&e.wrapT===z||a(J(i)&&J(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==o&&a(e.minFilter!==P&&e.minFilter!==L&&e.minFilter!==F&&e.minFilter!==B,"min filter requires mipmap"):(a(J(i)&&J(o),"texture must be a square power of 2 to support mipmapping"),a(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===Z&&(n.extensions.indexOf("oes_texture_float_linear")<0&&a(e.minFilter===N&&e.magFilter===N,"filter not supported, must enable oes_texture_float_linear"),a(!e.genMipmaps,"mipmap generation not supported with float textures"));var s=t.images;for(r=0;r<16;++r)if(s[r]){var l=i>>r,c=o>>r;a(t.mipmask&1<<r,"missing mipmap data");var f=s[r];if(a(f.width===l&&f.height===c,"invalid shape for mip images"),a(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var d=Math.ceil(K(f.type,u)*l/f.unpackAlignment)*f.unpackAlignment;a(f.data.byteLength===d*c,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||a(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&a(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,n,r){var i=e.width,o=e.height,u=e.channels;a(i>0&&i<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),a(i===o,"cube map must be square"),a(t.wrapS===z&&t.wrapT===z,"wrap mode not supported by cube map");for(var s=0;s<n.length;++s){var l=n[s];a(l.width===i&&l.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(a(!l.compressed,"can not generate mipmap for compressed textures"),a(1===l.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=l.images,f=0;f<16;++f){var d=c[f];if(d){var h=i>>f,p=o>>f;a(l.mipmask&1<<f,"missing mipmap data"),a(d.width===h&&d.height===p,"invalid shape for mip images"),a(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?a(d.data.byteLength===h*p*Math.max(K(d.type,u),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}Q[5120]=Q[R]=1,Q[V]=Q[U]=Q[X]=Q[G]=Q[Y]=Q[$]=2,Q[H]=Q[W]=Q[Z]=Q[q]=4;var ne=t(a,{optional:D,raise:i,commandRaise:I,command:C,parameter:u,commandParameter:T,constructor:p,type:c,commandType:M,isTypedArray:s,nni:f,oneOf:d,shaderError:S,linkError:O,callSite:_,saveCommandRef:A,saveDrawInfo:E,framebufferFormat:j,guessCommand:g,texture2D:ee,textureCube:te}),re=0,ie=0,ae=5,oe=6;function ue(e,t){this.id=re++,this.type=e,this.data=t}function se(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function le(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+se(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return le(e.substr(0,r.index)).concat(le(r[1])).concat(le(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+se(e)+'"'];for(var a=[],o=0;o<i.length;++o)a=a.concat(le(i[o]));return a}function ce(e){return"["+le(e).join("][")+"]"}function fe(e,t){return new ue(e,ce(t+""))}function de(e){return"function"===typeof e&&!e._reglType||e instanceof ue}function he(e,t){return"function"===typeof e?new ue(ie,e):"number"===typeof e||"boolean"===typeof e?new ue(ae,e):Array.isArray(e)?new ue(oe,e.map((function(e,n){return he(e,t+"["+n+"]")}))):e instanceof ue?e:void ne(!1,"invalid option type in uniform "+t)}var pe={DynamicVariable:ue,define:fe,isDynamic:de,unbox:he,accessor:ce},ve={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},me="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function ye(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function be(e,n,r){var i,a=document.createElement("canvas");function o(){var t=window.innerWidth,n=window.innerHeight;if(e!==document.body){var i=a.getBoundingClientRect();t=i.right-i.left,n=i.bottom-i.top}a.width=r*t,a.height=r*n}function u(){i?i.disconnect():window.removeEventListener("resize",o),e.removeChild(a)}return t(a.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(a),e===document.body&&(a.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(o)}))).observe(e):window.addEventListener("resize",o,!1),o(),{canvas:a,onDestroy:u}}function ge(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function _e(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function we(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function xe(e){return"string"===typeof e?e.split():(ne(Array.isArray(e),"invalid extension array"),e)}function ke(e){return"string"===typeof e?(ne("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Se(e){var t,n,r,i,a=e||{},o={},u=[],s=[],l="undefined"===typeof window?1:window.devicePixelRatio,c=!1,f=function(e){e&&ne.raise(e)},d=function(){};if("string"===typeof a?(ne("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(a),ne(t,"invalid query string for element")):"object"===typeof a?_e(a)?t=a:we(a)?r=(i=a).canvas:(ne.constructor(a),"gl"in a?i=a.gl:"canvas"in a?r=ke(a.canvas):"container"in a&&(n=ke(a.container)),"attributes"in a&&(o=a.attributes,ne.type(o,"object","invalid context attributes")),"extensions"in a&&(u=xe(a.extensions)),"optionalExtensions"in a&&(s=xe(a.optionalExtensions)),"onDone"in a&&(ne.type(a.onDone,"function","invalid or missing onDone callback"),f=a.onDone),"profile"in a&&(c=!!a.profile),"pixelRatio"in a&&(l=+a.pixelRatio,ne(l>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){ne("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var h=be(n||document.body,f,l);if(!h)return null;r=h.canvas,d=h.onDestroy}void 0===o.premultipliedAlpha&&(o.premultipliedAlpha=!0),i=ge(r,o)}return i?{gl:i,canvas:r,container:n,extensions:u,optionalExtensions:s,pixelRatio:l,profile:c,onDone:f,onDestroy:d}:(d(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Oe(e,t){var n={};function r(t){ne.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(a){}return!!r}for(var i=0;i<t.extensions.length;++i){var a=t.extensions[i];if(!r(a))return t.onDestroy(),t.onDone('"'+a+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function Ae(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Ee=5120,Ie=5121,Ce=5122,Te=5123,Me=5124,De=5125,je=5126;function ze(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Ne(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function Pe(){var e=Ae(8,(function(){return[]}));function t(t){var n=ze(t),r=e[Ne(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[Ne(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Ee:r=new Int8Array(t(n),0,n);break;case Ie:r=new Uint8Array(t(n),0,n);break;case Ce:r=new Int16Array(t(2*n),0,n);break;case Te:r=new Uint16Array(t(2*n),0,n);break;case Me:r=new Int32Array(t(4*n),0,n);break;case De:r=new Uint32Array(t(4*n),0,n);break;case je:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:i}}var Fe=Pe();Fe.zero=Pe();var Le=3408,Be=3410,Re=3411,Ve=3412,Ue=3413,He=3414,We=3415,Ze=33901,Ye=33902,$e=3379,Ge=3386,qe=34921,Xe=36347,Qe=36348,Ke=35661,Je=35660,et=34930,tt=36349,nt=34076,rt=34024,it=7936,at=7937,ot=7938,ut=35724,st=34047,lt=36063,ct=34852,ft=3553,dt=34067,ht=34069,pt=33984,vt=6408,mt=5126,yt=5121,bt=36160,gt=36053,_t=36064,wt=16384,xt=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(st));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(ct),i=e.getParameter(lt));var a=!!t.oes_texture_float;if(a){var o=e.createTexture();e.bindTexture(ft,o),e.texImage2D(ft,0,vt,1,1,0,vt,mt,null);var u=e.createFramebuffer();if(e.bindFramebuffer(bt,u),e.framebufferTexture2D(bt,_t,ft,o,0),e.bindTexture(ft,null),e.checkFramebufferStatus(bt)!==gt)a=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(wt);var s=Fe.allocType(mt,4);e.readPixels(0,0,1,1,vt,mt,s),e.getError()?a=!1:(e.deleteFramebuffer(u),e.deleteTexture(o),a=1===s[0]),Fe.freeType(s)}}var l=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var c=e.createTexture(),f=Fe.allocType(yt,36);e.activeTexture(pt),e.bindTexture(dt,c),e.texImage2D(ht,0,vt,3,3,0,vt,yt,f),Fe.freeType(f),e.bindTexture(dt,null),e.deleteTexture(c),l=!e.getError()}return{colorBits:[e.getParameter(Be),e.getParameter(Re),e.getParameter(Ve),e.getParameter(Ue)],depthBits:e.getParameter(He),stencilBits:e.getParameter(We),subpixelBits:e.getParameter(Le),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(Ze),lineWidthDims:e.getParameter(Ye),maxViewportDims:e.getParameter(Ge),maxCombinedTextureUnits:e.getParameter(Ke),maxCubeMapSize:e.getParameter(nt),maxRenderbufferSize:e.getParameter(rt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter($e),maxAttributes:e.getParameter(qe),maxVertexUniforms:e.getParameter(Xe),maxVertexTextureUnits:e.getParameter(Je),maxVaryingVectors:e.getParameter(Qe),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(ut),renderer:e.getParameter(at),vendor:e.getParameter(it),version:e.getParameter(ot),readFloat:a,npotTextureCube:l}};function kt(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var St=function(e){return Object.keys(e).map((function(t){return e[t]}))},Ot={shape:Mt,flatten:Tt};function At(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function Et(e,t,n,r){for(var i=0,a=0;a<t;++a)for(var o=e[a],u=0;u<n;++u)r[i++]=o[u]}function It(e,t,n,r,i,a){for(var o=a,u=0;u<t;++u)for(var s=e[u],l=0;l<n;++l)for(var c=s[l],f=0;f<r;++f)i[o++]=c[f]}function Ct(e,t,n,r,i){for(var a=1,o=n+1;o<t.length;++o)a*=t[o];var u=t[n];if(t.length-n===4){var s=t[n+1],l=t[n+2],c=t[n+3];for(o=0;o<u;++o)It(e[o],s,l,c,r,i),i+=a}else for(o=0;o<u;++o)Ct(e[o],t,n+1,r,i),i+=a}function Tt(e,t,n,r){var i=1;if(t.length)for(var a=0;a<t.length;++a)i*=t[a];else i=0;var o=r||Fe.allocType(n,i);switch(t.length){case 0:break;case 1:At(e,t[0],o);break;case 2:Et(e,t[0],t[1],o);break;case 3:It(e,t[0],t[1],t[2],o,0);break;default:Ct(e,t,0,o,0)}return o}function Mt(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var Dt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},jt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},zt={dynamic:35048,stream:35040,static:35044},Nt=Ot.flatten,Pt=Ot.shape,Ft=35044,Lt=35040,Bt=5121,Rt=5126,Vt=[];function Ut(e){return 0|Dt[Object.prototype.toString.call(e)]}function Ht(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function Wt(e,t,n,r,i,a,o){for(var u=0,s=0;s<n;++s)for(var l=0;l<r;++l)e[u++]=t[i*s+a*l+o]}function Zt(t,n,r,i){var a=0,o={};function u(e){this.id=a++,this.buffer=t.createBuffer(),this.type=e,this.usage=Ft,this.byteLength=0,this.dimension=1,this.dtype=Bt,this.persistentData=null,r.profile&&(this.stats={size:0})}u.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},u.prototype.destroy=function(){h(this)};var s=[];function l(e,t){var n=s.pop();return n||(n=new u(e)),n.bind(),d(n,t,Lt,0,1,!1),n}function c(e){s.push(e)}function f(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function d(t,n,r,i,a,o){var u,s;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||Rt,n.length>0)if(Array.isArray(n[0])){u=Pt(n);for(var l=1,c=1;c<u.length;++c)l*=u[c];t.dimension=l,f(t,s=Nt(n,u,t.dtype),r),o?t.persistentData=s:Fe.freeType(s)}else if("number"===typeof n[0]){t.dimension=a;var d=Fe.allocType(t.dtype,n.length);Ht(d,n),f(t,d,r),o?t.persistentData=d:Fe.freeType(d)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||Ut(n[0])||Rt,f(t,s=Nt(n,[n.length,n[0].length],t.dtype),r),o?t.persistentData=s:Fe.freeType(s)):ne.raise("invalid buffer data")}else if(e(n))t.dtype=i||Ut(n),t.dimension=a,f(t,n,r),o&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(kt(n)){u=n.shape;var h=n.stride,p=n.offset,v=0,m=0,y=0,b=0;1===u.length?(v=u[0],m=1,y=h[0],b=0):2===u.length?(v=u[0],m=u[1],y=h[0],b=h[1]):ne.raise("invalid shape"),t.dtype=i||Ut(n.data)||Rt,t.dimension=m;var g=Fe.allocType(t.dtype,v*m);Wt(g,n.data,v,m,y,b,p),f(t,g,r),o?t.persistentData=g:Fe.freeType(g)}else n instanceof ArrayBuffer?(t.dtype=Bt,t.dimension=a,f(t,n,r),o&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):ne.raise("invalid buffer data")}function h(e){n.bufferCount--,i(e);var r=e.buffer;ne(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete o[e.id]}function p(i,a,s,l){n.bufferCount++;var c=new u(a);function f(n){var i=Ft,a=null,o=0,u=0,s=1;return Array.isArray(n)||e(n)||kt(n)||n instanceof ArrayBuffer?a=n:"number"===typeof n?o=0|n:n&&(ne.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ne(null===a||Array.isArray(a)||e(a)||kt(a),"invalid data for buffer"),a=n.data),"usage"in n&&(ne.parameter(n.usage,zt,"invalid buffer usage"),i=zt[n.usage]),"type"in n&&(ne.parameter(n.type,jt,"invalid buffer type"),u=jt[n.type]),"dimension"in n&&(ne.type(n.dimension,"number","invalid dimension"),s=0|n.dimension),"length"in n&&(ne.nni(o,"buffer length must be a nonnegative integer"),o=0|n.length)),c.bind(),a?d(c,a,i,u,s,l):(o&&t.bufferData(c.type,o,i),c.dtype=u||Bt,c.usage=i,c.dimension=s,c.byteLength=o),r.profile&&(c.stats.size=c.byteLength*Vt[c.dtype]),f}function p(e,n){ne(n+e.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+c.byteLength),t.bufferSubData(c.type,n,e)}function v(t,n){var r,i=0|(n||0);if(c.bind(),e(t)||t instanceof ArrayBuffer)p(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var a=Fe.allocType(c.dtype,t.length);Ht(a,t),p(a,i),Fe.freeType(a)}else if(Array.isArray(t[0])||e(t[0])){r=Pt(t);var o=Nt(t,r,c.dtype);p(o,i),Fe.freeType(o)}else ne.raise("invalid buffer data")}else if(kt(t)){r=t.shape;var u=t.stride,s=0,l=0,d=0,h=0;1===r.length?(s=r[0],l=1,d=u[0],h=0):2===r.length?(s=r[0],l=r[1],d=u[0],h=u[1]):ne.raise("invalid shape");var v=Array.isArray(t.data)?c.dtype:Ut(t.data),m=Fe.allocType(v,s*l);Wt(m,t.data,s,l,d,h,t.offset),p(m,i),Fe.freeType(m)}else ne.raise("invalid data for buffer subdata");return f}return o[c.id]=c,s||f(i),f._reglType="buffer",f._buffer=c,f.subdata=v,r.profile&&(f.stats=c.stats),f.destroy=function(){h(c)},f}function v(){St(o).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(o).forEach((function(t){e+=o[t].stats.size})),e}),{create:p,createStream:l,destroyStream:c,clear:function(){St(o).forEach(h),s.forEach(h)},getBuffer:function(e){return e&&e._buffer instanceof u?e._buffer:null},restore:v,_initBuffer:d}}Vt[5120]=1,Vt[5122]=2,Vt[5124]=4,Vt[5121]=1,Vt[5123]=2,Vt[5125]=4,Vt[5126]=4;var Yt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},$t=0,Gt=1,qt=4,Xt=5120,Qt=5121,Kt=5122,Jt=5123,en=5124,tn=5125,nn=34963,rn=35040,an=35044;function on(t,n,r,i){var a={},o=0,u={uint8:Qt,uint16:Jt};function s(e){this.id=o++,a[this.id]=this,this.buffer=e,this.primType=qt,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(u.uint32=tn),s.prototype.bind=function(){this.buffer.bind()};var l=[];function c(e){var t=l.pop();return t||(t=new s(r.create(null,nn,!0,!1)._buffer)),d(t,e,rn,-1,-1,0,0),t}function f(e){l.push(e)}function d(i,a,o,u,s,l,c){var f;if(i.buffer.bind(),a){var d=c;c||e(a)&&(!kt(a)||e(a.data))||(d=n.oes_element_index_uint?tn:Jt),r._initBuffer(i.buffer,a,o,d,3)}else t.bufferData(nn,l,o),i.buffer.dtype=f||Qt,i.buffer.usage=o,i.buffer.dimension=3,i.buffer.byteLength=l;if(f=c,!c){switch(i.buffer.dtype){case Qt:case Xt:f=Qt;break;case Jt:case Kt:f=Jt;break;case tn:case en:f=tn;break;default:ne.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,ne(f!==tn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=s;h<0&&(h=i.buffer.byteLength,f===Jt?h>>=1:f===tn&&(h>>=2)),i.vertCount=h;var p=u;if(u<0){p=qt;var v=i.buffer.dimension;1===v&&(p=$t),2===v&&(p=Gt),3===v&&(p=qt)}i.primType=p}function h(e){i.elementsCount--,ne(null!==e.buffer,"must not double destroy elements"),delete a[e.id],e.buffer.destroy(),e.buffer=null}function p(t,n){var a=r.create(null,nn,!0),o=new s(a._buffer);function l(t){if(t)if("number"===typeof t)a(t),o.primType=qt,o.vertCount=0|t,o.type=Qt;else{var n=null,r=an,i=-1,s=-1,c=0,f=0;Array.isArray(t)||e(t)||kt(t)?n=t:(ne.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,ne(Array.isArray(n)||e(n)||kt(n),"invalid data for element buffer")),"usage"in t&&(ne.parameter(t.usage,zt,"invalid element buffer usage"),r=zt[t.usage]),"primitive"in t&&(ne.parameter(t.primitive,Yt,"invalid element buffer primitive"),i=Yt[t.primitive]),"count"in t&&(ne("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),s=0|t.count),"type"in t&&(ne.parameter(t.type,u,"invalid buffer type"),f=u[t.type]),"length"in t?c=0|t.length:(c=s,f===Jt||f===Kt?c*=2:f!==tn&&f!==en||(c*=4))),d(o,n,r,i,s,c,f)}else a(),o.primType=qt,o.vertCount=0,o.type=Qt;return l}return i.elementsCount++,l(t),l._reglType="elements",l._elements=o,l.subdata=function(e,t){return a.subdata(e,t),l},l.destroy=function(){h(o)},l}return{create:p,createStream:c,destroyStream:f,getElements:function(e){return"function"===typeof e&&e._elements instanceof s?e._elements:null},clear:function(){St(a).forEach(h)}}}var un=new Float32Array(1),sn=new Uint32Array(un.buffer),ln=5123;function cn(e){for(var t=Fe.allocType(ln,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{un[0]=e[n];var r=sn[0],i=r>>>31<<15,a=(r<<1>>>24)-127,o=r>>13&1023;if(a<-24)t[n]=i;else if(a<-14){var u=-14-a;t[n]=i+(o+1024>>u)}else t[n]=a>15?i+31744:i+(a+15<<10)+o}return t}function fn(t){return Array.isArray(t)||e(t)}var dn=function(e){return!(e&e-1)&&!!e},hn=34467,pn=3553,vn=34067,mn=34069,yn=6408,bn=6406,gn=6407,_n=6409,wn=6410,xn=32854,kn=32855,Sn=36194,On=32819,An=32820,En=33635,In=34042,Cn=6402,Tn=34041,Mn=35904,Dn=35906,jn=36193,zn=33776,Nn=33777,Pn=33778,Fn=33779,Ln=35986,Bn=35987,Rn=34798,Vn=35840,Un=35841,Hn=35842,Wn=35843,Zn=36196,Yn=5121,$n=5123,Gn=5125,qn=5126,Xn=10242,Qn=10243,Kn=10497,Jn=33071,er=33648,tr=10240,nr=10241,rr=9728,ir=9729,ar=9984,or=9985,ur=9986,sr=9987,lr=33170,cr=4352,fr=4353,dr=4354,hr=34046,pr=3317,vr=37440,mr=37441,yr=37443,br=37444,gr=33984,_r=[ar,ur,or,sr],wr=[0,_n,wn,gn,yn],xr={};function kr(e){return"[object "+e+"]"}xr[_n]=xr[bn]=xr[Cn]=1,xr[Tn]=xr[wn]=2,xr[gn]=xr[Mn]=3,xr[yn]=xr[Dn]=4;var Sr=kr("HTMLCanvasElement"),Or=kr("OffscreenCanvas"),Ar=kr("CanvasRenderingContext2D"),Er=kr("ImageBitmap"),Ir=kr("HTMLImageElement"),Cr=kr("HTMLVideoElement"),Tr=Object.keys(Dt).concat([Sr,Or,Ar,Er,Ir,Cr]),Mr=[];Mr[Yn]=1,Mr[qn]=4,Mr[jn]=2,Mr[$n]=2,Mr[Gn]=4;var Dr=[];function jr(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function zr(e){return!!Array.isArray(e)&&!(0===e.length||!fn(e[0]))}function Nr(e){return Object.prototype.toString.call(e)}function Pr(e){return Nr(e)===Sr}function Fr(e){return Nr(e)===Or}function Lr(e){return Nr(e)===Ar}function Br(e){return Nr(e)===Er}function Rr(e){return Nr(e)===Ir}function Vr(e){return Nr(e)===Cr}function Ur(e){if(!e)return!1;var t=Nr(e);return Tr.indexOf(t)>=0||jr(e)||zr(e)||kt(e)}function Hr(e){return 0|Dt[Object.prototype.toString.call(e)]}function Wr(e,t){var n=t.length;switch(e.type){case Yn:case $n:case Gn:case qn:var r=Fe.allocType(e.type,n);r.set(t),e.data=r;break;case jn:e.data=cn(t);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function Zr(e,t){return Fe.allocType(e.type===jn?qn:e.type,t)}function Yr(e,t){e.type===jn?(e.data=cn(t),Fe.freeType(t)):e.data=t}function $r(e,t,n,r,i,a){for(var o=e.width,u=e.height,s=e.channels,l=Zr(e,o*u*s),c=0,f=0;f<u;++f)for(var d=0;d<o;++d)for(var h=0;h<s;++h)l[c++]=t[n*d+r*f+i*h+a];Yr(e,l)}function Gr(e,t,n,r,i,a){var o;if(o="undefined"!==typeof Dr[e]?Dr[e]:xr[e]*Mr[t],a&&(o*=6),i){for(var u=0,s=n;s>=1;)u+=o*s*s,s/=2;return u}return o*n*r}function qr(n,r,i,a,o,u,s){var l={"don't care":cr,"dont care":cr,nice:dr,fast:fr},c={repeat:Kn,clamp:Jn,mirror:er},f={nearest:rr,linear:ir},d=t({mipmap:sr,"nearest mipmap nearest":ar,"linear mipmap nearest":or,"nearest mipmap linear":ur,"linear mipmap linear":sr},f),h={none:0,browser:br},p={uint8:Yn,rgba4:On,rgb565:En,"rgb5 a1":An},v={alpha:bn,luminance:_n,"luminance alpha":wn,rgb:gn,rgba:yn,rgba4:xn,"rgb5 a1":kn,rgb565:Sn},m={};r.ext_srgb&&(v.srgb=Mn,v.srgba=Dn),r.oes_texture_float&&(p.float32=p.float=qn),r.oes_texture_half_float&&(p.float16=p["half float"]=jn),r.webgl_depth_texture&&(t(v,{depth:Cn,"depth stencil":Tn}),t(p,{uint16:$n,uint32:Gn,"depth stencil":In})),r.webgl_compressed_texture_s3tc&&t(m,{"rgb s3tc dxt1":zn,"rgba s3tc dxt1":Nn,"rgba s3tc dxt3":Pn,"rgba s3tc dxt5":Fn}),r.webgl_compressed_texture_atc&&t(m,{"rgb atc":Ln,"rgba atc explicit alpha":Bn,"rgba atc interpolated alpha":Rn}),r.webgl_compressed_texture_pvrtc&&t(m,{"rgb pvrtc 4bppv1":Vn,"rgb pvrtc 2bppv1":Un,"rgba pvrtc 4bppv1":Hn,"rgba pvrtc 2bppv1":Wn}),r.webgl_compressed_texture_etc1&&(m["rgb etc1"]=Zn);var y=Array.prototype.slice.call(n.getParameter(hn));Object.keys(m).forEach((function(e){var t=m[e];y.indexOf(t)>=0&&(v[e]=t)}));var b=Object.keys(v);i.textureFormats=b;var g=[];Object.keys(v).forEach((function(e){var t=v[e];g[t]=e}));var _=[];Object.keys(p).forEach((function(e){var t=p[e];_[t]=e}));var w=[];Object.keys(f).forEach((function(e){var t=f[e];w[t]=e}));var x=[];Object.keys(d).forEach((function(e){var t=d[e];x[t]=e}));var k=[];Object.keys(c).forEach((function(e){var t=c[e];k[t]=e}));var S=b.reduce((function(e,t){var n=v[t];return n===_n||n===bn||n===_n||n===wn||n===Cn||n===Tn||r.ext_srgb&&(n===Mn||n===Dn)?e[n]=n:n===kn||t.indexOf("rgba")>=0?e[n]=yn:e[n]=gn,e}),{});function O(){this.internalformat=yn,this.format=yn,this.type=Yn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=br,this.width=0,this.height=0,this.channels=0}function A(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function E(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(ne.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ne.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ne.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ne.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var n=t.type;ne(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(n,p,"invalid texture type"),e.type=p[n]}var a=e.width,o=e.height,u=e.channels,s=!1;"shape"in t?(ne(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),a=t.shape[0],o=t.shape[1],3===t.shape.length&&(u=t.shape[2],ne(u>0&&u<=4,"invalid number of channels"),s=!0),ne(a>=0&&a<=i.maxTextureSize,"invalid width"),ne(o>=0&&o<=i.maxTextureSize,"invalid height")):("radius"in t&&(a=o=t.radius,ne(a>=0&&a<=i.maxTextureSize,"invalid radius")),"width"in t&&(a=t.width,ne(a>=0&&a<=i.maxTextureSize,"invalid width")),"height"in t&&(o=t.height,ne(o>=0&&o<=i.maxTextureSize,"invalid height")),"channels"in t&&(u=t.channels,ne(u>0&&u<=4,"invalid number of channels"),s=!0)),e.width=0|a,e.height=0|o,e.channels=0|u;var l=!1;if("format"in t){var c=t.format;ne(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(c,v,"invalid texture format");var f=e.internalformat=v[c];e.format=S[f],c in p&&("type"in t||(e.type=p[c])),c in m&&(e.compressed=!0),l=!0}!s&&l?e.channels=xr[e.format]:s&&!l?e.channels!==wr[e.format]&&(e.format=e.internalformat=wr[e.channels]):l&&s&&ne(e.channels===xr[e.format],"number of channels inconsistent with specified format")}}function I(e){n.pixelStorei(vr,e.flipY),n.pixelStorei(mr,e.premultiplyAlpha),n.pixelStorei(yr,e.colorSpace),n.pixelStorei(pr,e.unpackAlignment)}function C(){O.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function T(t,n){var r=null;if(Ur(n)?r=n:n&&(ne.type(n,"object","invalid pixel data type"),E(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),Ur(n.data)&&(r=n.data)),ne(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ne(!r,"can not specify copy and data field for the same texture");var a=o.viewportWidth,u=o.viewportHeight;t.width=t.width||a-t.xOffset,t.height=t.height||u-t.yOffset,t.needsCopy=!0,ne(t.xOffset>=0&&t.xOffset<a&&t.yOffset>=0&&t.yOffset<u&&t.width>0&&t.width<=a&&t.height>0&&t.height<=u,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==Yn||(t.type=Hr(r));else if(jr(r))t.channels=t.channels||4,Wr(t,r),t.alignment=1,t.needsFree=!0;else if(kt(r)){var s=r.data;Array.isArray(s)||t.type!==Yn||(t.type=Hr(s));var l,c,f,d,h,p,v=r.shape,m=r.stride;3===v.length?(f=v[2],p=m[2]):(ne(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,p=1),l=v[0],c=v[1],d=m[0],h=m[1],t.alignment=1,t.width=l,t.height=c,t.channels=f,t.format=t.internalformat=wr[f],t.needsFree=!0,$r(t,s,d,h,p,r.offset)}else if(Pr(r)||Fr(r)||Lr(r))Pr(r)||Fr(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Br(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(Rr(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(Vr(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(zr(r)){var y=t.width||r[0].length,b=t.height||r.length,g=t.channels;g=fn(r[0][0])?g||r[0][0].length:g||1;for(var _=Ot.shape(r),w=1,x=0;x<_.length;++x)w*=_[x];var k=Zr(t,w);Ot.flatten(r,_,"",k),Yr(t,k),t.alignment=1,t.width=y,t.height=b,t.channels=g,t.format=t.internalformat=wr[g],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===qn?ne(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===jn&&ne(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function M(e,t,r){var i=e.element,o=e.data,u=e.internalformat,s=e.format,l=e.type,c=e.width,f=e.height;I(e),i?n.texImage2D(t,r,s,s,l,i):e.compressed?n.compressedTexImage2D(t,r,u,c,f,0,o):e.needsCopy?(a(),n.copyTexImage2D(t,r,s,e.xOffset,e.yOffset,c,f,0)):n.texImage2D(t,r,s,c,f,0,s,l,o||null)}function D(e,t,r,i,o){var u=e.element,s=e.data,l=e.internalformat,c=e.format,f=e.type,d=e.width,h=e.height;I(e),u?n.texSubImage2D(t,o,r,i,c,f,u):e.compressed?n.compressedTexSubImage2D(t,o,r,i,l,d,h,s):e.needsCopy?(a(),n.copyTexSubImage2D(t,o,r,i,e.xOffset,e.yOffset,d,h)):n.texSubImage2D(t,o,r,i,d,h,c,f,s)}var j=[];function z(){return j.pop()||new C}function N(e){e.needsFree&&Fe.freeType(e.data),C.call(e),j.push(e)}function P(){O.call(this),this.genMipmaps=!1,this.mipmapHint=cr,this.mipmask=0,this.images=Array(16)}function F(e,t,n){var r=e.images[0]=z();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function L(e,t){var n=null;if(Ur(t))A(n=e.images[0]=z(),e),T(n,t),e.mipmask=1;else if(E(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)A(n=e.images[i]=z(),e),n.width>>=i,n.height>>=i,T(n,r[i]),e.mipmask|=1<<i;else A(n=e.images[0]=z(),e),T(n,t),e.mipmask=1;A(e,e.images[0]),!e.compressed||e.internalformat!==zn&&e.internalformat!==Nn&&e.internalformat!==Pn&&e.internalformat!==Fn||ne(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function B(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;M(n[r],t,r)}}var R=[];function V(){var e=R.pop()||new P;O.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function U(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&N(t[n]),t[n]=null;R.push(e)}function H(){this.minFilter=rr,this.magFilter=rr,this.wrapS=Jn,this.wrapT=Jn,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=cr}function W(e,t){if("min"in t){var n=t.min;ne.parameter(n,d),e.minFilter=d[n],_r.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ne.parameter(r,f),e.magFilter=f[r]}var a=e.wrapS,o=e.wrapT;if("wrap"in t){var u=t.wrap;"string"===typeof u?(ne.parameter(u,c),a=o=c[u]):Array.isArray(u)&&(ne.parameter(u[0],c),ne.parameter(u[1],c),a=c[u[0]],o=c[u[1]])}else{if("wrapS"in t){var s=t.wrapS;ne.parameter(s,c),a=c[s]}if("wrapT"in t){var h=t.wrapT;ne.parameter(h,c),o=c[h]}}if(e.wrapS=a,e.wrapT=o,"anisotropic"in t){var p=t.anisotropic;ne("number"===typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var v=!1;switch(typeof t.mipmap){case"string":ne.parameter(t.mipmap,l,"invalid mipmap hint"),e.mipmapHint=l[t.mipmap],e.genMipmaps=!0,v=!0;break;case"boolean":v=e.genMipmaps=t.mipmap;break;case"object":ne(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,v=!0;break;default:ne.raise("invalid mipmap type")}v&&!("min"in t)&&(e.minFilter=ar)}}function Z(e,t){n.texParameteri(t,nr,e.minFilter),n.texParameteri(t,tr,e.magFilter),n.texParameteri(t,Xn,e.wrapS),n.texParameteri(t,Qn,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,hr,e.anisotropic),e.genMipmaps&&(n.hint(lr,e.mipmapHint),n.generateMipmap(t))}var Y=0,$={},G=i.maxTextureUnits,q=Array(G).map((function(){return null}));function X(e){O.call(this),this.mipmask=0,this.internalformat=yn,this.id=Y++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new H,s.profile&&(this.stats={size:0})}function Q(e){n.activeTexture(gr),n.bindTexture(e.target,e.texture)}function K(){var e=q[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(pn,null)}function J(e){var t=e.texture;ne(t,"must not double destroy texture");var r=e.unit,i=e.target;r>=0&&(n.activeTexture(gr+r),n.bindTexture(i,null),q[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete $[e.id],u.textureCount--}function ee(e,t){var r=new X(pn);function a(e,t){var n=r.texInfo;H.call(n);var o=V();return"number"===typeof e?F(o,0|e,"number"===typeof t?0|t:0|e):e?(ne.type(e,"object","invalid arguments to regl.texture"),W(n,e),L(o,e)):F(o,1,1),n.genMipmaps&&(o.mipmask=(o.width<<1)-1),r.mipmask=o.mipmask,A(r,o),ne.texture2D(n,o,i),r.internalformat=o.internalformat,a.width=o.width,a.height=o.height,Q(r),B(o,pn),Z(n,pn),K(),U(o),s.profile&&(r.stats.size=Gr(r.internalformat,r.type,o.width,o.height,n.genMipmaps,!1)),a.format=g[r.internalformat],a.type=_[r.type],a.mag=w[n.magFilter],a.min=x[n.minFilter],a.wrapS=k[n.wrapS],a.wrapT=k[n.wrapT],a}function o(e,t,n,i){ne(!!e,"must specify image data");var o=0|t,u=0|n,s=0|i,l=z();return A(l,r),l.width=0,l.height=0,T(l,e),l.width=l.width||(r.width>>s)-o,l.height=l.height||(r.height>>s)-u,ne(r.type===l.type&&r.format===l.format&&r.internalformat===l.internalformat,"incompatible format for texture.subimage"),ne(o>=0&&u>=0&&o+l.width<=r.width&&u+l.height<=r.height,"texture.subimage write out of bounds"),ne(r.mipmask&1<<s,"missing mipmap data"),ne(l.data||l.element||l.needsCopy,"missing image data"),Q(r),D(l,pn,o,u,s),K(),N(l),a}function l(e,t){var i=0|e,o=0|t||i;if(i===r.width&&o===r.height)return a;a.width=r.width=i,a.height=r.height=o,Q(r);for(var u=0;r.mipmask>>u;++u){var l=i>>u,c=o>>u;if(!l||!c)break;n.texImage2D(pn,u,r.format,l,c,0,r.format,r.type,null)}return K(),s.profile&&(r.stats.size=Gr(r.internalformat,r.type,i,o,!1,!1)),a}return $[r.id]=r,u.textureCount++,a(e,t),a.subimage=o,a.resize=l,a._reglType="texture2d",a._texture=r,s.profile&&(a.stats=r.stats),a.destroy=function(){r.decRef()},a}function te(e,t,r,a,o,l){var c=new X(vn);$[c.id]=c,u.cubeCount++;var f=new Array(6);function d(e,t,n,r,a,o){var u,l=c.texInfo;for(H.call(l),u=0;u<6;++u)f[u]=V();if("number"!==typeof e&&e)if("object"===typeof e)if(t)L(f[0],e),L(f[1],t),L(f[2],n),L(f[3],r),L(f[4],a),L(f[5],o);else if(W(l,e),E(c,e),"faces"in e){var h=e.faces;for(ne(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),u=0;u<6;++u)ne("object"===typeof h[u]&&!!h[u],"invalid input for cube map face"),A(f[u],c),L(f[u],h[u])}else for(u=0;u<6;++u)L(f[u],e);else ne.raise("invalid arguments to cube map");else{var p=0|e||1;for(u=0;u<6;++u)F(f[u],p,p)}for(A(c,f[0]),ne.optional((function(){i.npotTextureCube||ne(dn(c.width)&&dn(c.height),"your browser does not support non power or two texture dimensions")})),l.genMipmaps?c.mipmask=(f[0].width<<1)-1:c.mipmask=f[0].mipmask,ne.textureCube(c,l,f,i),c.internalformat=f[0].internalformat,d.width=f[0].width,d.height=f[0].height,Q(c),u=0;u<6;++u)B(f[u],mn+u);for(Z(l,vn),K(),s.profile&&(c.stats.size=Gr(c.internalformat,c.type,d.width,d.height,l.genMipmaps,!0)),d.format=g[c.internalformat],d.type=_[c.type],d.mag=w[l.magFilter],d.min=x[l.minFilter],d.wrapS=k[l.wrapS],d.wrapT=k[l.wrapT],u=0;u<6;++u)U(f[u]);return d}function h(e,t,n,r,i){ne(!!t,"must specify image data"),ne("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var a=0|n,o=0|r,u=0|i,s=z();return A(s,c),s.width=0,s.height=0,T(s,t),s.width=s.width||(c.width>>u)-a,s.height=s.height||(c.height>>u)-o,ne(c.type===s.type&&c.format===s.format&&c.internalformat===s.internalformat,"incompatible format for texture.subimage"),ne(a>=0&&o>=0&&a+s.width<=c.width&&o+s.height<=c.height,"texture.subimage write out of bounds"),ne(c.mipmask&1<<u,"missing mipmap data"),ne(s.data||s.element||s.needsCopy,"missing image data"),Q(c),D(s,mn+e,a,o,u),K(),N(s),d}function p(e){var t=0|e;if(t!==c.width){d.width=c.width=t,d.height=c.height=t,Q(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)n.texImage2D(mn+r,i,c.format,t>>i,t>>i,0,c.format,c.type,null);return K(),s.profile&&(c.stats.size=Gr(c.internalformat,c.type,d.width,d.height,!1,!0)),d}}return d(e,t,r,a,o,l),d.subimage=h,d.resize=p,d._reglType="textureCube",d._texture=c,s.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d}function re(){for(var e=0;e<G;++e)n.activeTexture(gr+e),n.bindTexture(pn,null),q[e]=null;St($).forEach(J),u.cubeCount=0,u.textureCount=0}function ie(){for(var e=0;e<G;++e){var t=q[e];t&&(t.bindCount=0,t.unit=-1,q[e]=null)}St($).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!==(e.mipmask&1<<t))if(e.target===pn)n.texImage2D(pn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(mn+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);Z(e.texInfo,e.target)}))}function ae(){for(var e=0;e<G;++e){var t=q[e];t&&(t.bindCount=0,t.unit=-1,q[e]=null),n.activeTexture(gr+e),n.bindTexture(pn,null),n.bindTexture(vn,null)}}return t(X.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var r=0;r<G;++r){var i=q[r];if(i){if(i.bindCount>0)continue;i.unit=-1}q[r]=e,t=r;break}t>=G&&ne.raise("insufficient number of texture units"),s.profile&&u.maxTextureUnits<t+1&&(u.maxTextureUnits=t+1),e.unit=t,n.activeTexture(gr+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&J(this)}}),s.profile&&(u.getTotalTextureSize=function(){var e=0;return Object.keys($).forEach((function(t){e+=$[t].stats.size})),e}),{create2D:ee,createCube:te,clear:re,getTexture:function(e){return null},restore:ie,refresh:ae}}Dr[xn]=2,Dr[kn]=2,Dr[Sn]=2,Dr[Tn]=4,Dr[zn]=.5,Dr[Nn]=.5,Dr[Pn]=1,Dr[Fn]=1,Dr[Ln]=.5,Dr[Bn]=1,Dr[Rn]=1,Dr[Vn]=.5,Dr[Un]=.25,Dr[Hn]=.5,Dr[Wn]=.25,Dr[Zn]=.5;var Xr=36161,Qr=32854,Kr=32855,Jr=36194,ei=33189,ti=36168,ni=34041,ri=35907,ii=34836,ai=34842,oi=34843,ui=[];function si(e,t,n){return ui[e]*t*n}ui[Qr]=2,ui[Kr]=2,ui[Jr]=2,ui[ei]=2,ui[ti]=1,ui[ni]=4,ui[ri]=4,ui[ii]=16,ui[ai]=8,ui[oi]=6;var li=function(e,t,n,r,i){var a={rgba4:Qr,rgb565:Jr,"rgb5 a1":Kr,depth:ei,stencil:ti,"depth stencil":ni};t.ext_srgb&&(a.srgba=ri),t.ext_color_buffer_half_float&&(a.rgba16f=ai,a.rgb16f=oi),t.webgl_color_buffer_float&&(a.rgba32f=ii);var o=[];Object.keys(a).forEach((function(e){var t=a[e];o[t]=e}));var u=0,s={};function l(e){this.id=u++,this.refCount=1,this.renderbuffer=e,this.format=Qr,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(t){var n=t.renderbuffer;ne(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(Xr,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete s[t.id],r.renderbufferCount--}function f(t,u){var c=new l(e.createRenderbuffer());function f(t,r){var u=0,s=0,l=Qr;if("object"===typeof t&&t){var d=t;if("shape"in d){var h=d.shape;ne(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),u=0|h[0],s=0|h[1]}else"radius"in d&&(u=s=0|d.radius),"width"in d&&(u=0|d.width),"height"in d&&(s=0|d.height);"format"in d&&(ne.parameter(d.format,a,"invalid renderbuffer format"),l=a[d.format])}else"number"===typeof t?(u=0|t,s="number"===typeof r?0|r:u):t?ne.raise("invalid arguments to renderbuffer constructor"):u=s=1;if(ne(u>0&&s>0&&u<=n.maxRenderbufferSize&&s<=n.maxRenderbufferSize,"invalid renderbuffer size"),u!==c.width||s!==c.height||l!==c.format)return f.width=c.width=u,f.height=c.height=s,c.format=l,e.bindRenderbuffer(Xr,c.renderbuffer),e.renderbufferStorage(Xr,l,u,s),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=si(c.format,c.width,c.height)),f.format=o[c.format],f}function d(t,r){var a=0|t,o=0|r||a;return a===c.width&&o===c.height||(ne(a>0&&o>0&&a<=n.maxRenderbufferSize&&o<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=c.width=a,f.height=c.height=o,e.bindRenderbuffer(Xr,c.renderbuffer),e.renderbufferStorage(Xr,c.format,a,o),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=si(c.format,c.width,c.height))),f}return s[c.id]=c,r.renderbufferCount++,f(t,u),f.resize=d,f._reglType="renderbuffer",f._renderbuffer=c,i.profile&&(f.stats=c.stats),f.destroy=function(){c.decRef()},f}function d(){St(s).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Xr,t.renderbuffer),e.renderbufferStorage(Xr,t.format,t.width,t.height)})),e.bindRenderbuffer(Xr,null)}return l.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(s).forEach((function(t){e+=s[t].stats.size})),e}),{create:f,clear:function(){St(s).forEach(c)},restore:d}},ci=36160,fi=36161,di=3553,hi=34069,pi=36064,vi=36096,mi=36128,yi=33306,bi=36053,gi=36054,_i=36055,wi=36057,xi=36061,ki=36193,Si=5121,Oi=5126,Ai=6407,Ei=6408,Ii=6402,Ci=[Ai,Ei],Ti=[];Ti[Ei]=4,Ti[Ai]=3;var Mi=[];Mi[Si]=1,Mi[Oi]=4,Mi[ki]=2;var Di=33189,ji=36168,zi=34041,Ni=[32854,32855,36194,35907,34842,34843,34836],Pi={};function Fi(e,n,r,i,a,o){var u={cur:null,next:null,dirty:!1,setFBO:null},s=["rgba"],l=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&l.push("srgba"),n.ext_color_buffer_half_float&&l.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&l.push("rgba32f");var c=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function h(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),a=Math.max(1,r.height);ne(i===t&&a===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var o=e.renderbuffer._renderbuffer;ne(o.width===t&&o.height===n,"inconsistent width/height for renderbuffer"),o.refCount+=1}}function p(t,n){n&&(n.texture?e.framebufferTexture2D(ci,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(ci,t,fi,n.renderbuffer._renderbuffer.renderbuffer))}function v(e){var t=di,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ne.type(i,"function","invalid attachment data");var a=i._reglType;return"texture2d"===a?(n=i,ne(t===di)):"textureCube"===a?(n=i,ne(t>=hi&&t<hi+6,"invalid cube map target")):"renderbuffer"===a?(r=i,t=fi):ne.raise("invalid regl object for attachment"),new f(t,n,r)}function m(e,t,n,r,o){if(n){var u=i.create2D({width:e,height:t,format:r,type:o});return u._texture.refCount=0,new f(di,u,null)}var s=a.create({width:e,height:t,format:r});return s._renderbuffer.refCount=0,new f(fi,null,s)}function y(e){return e&&(e.texture||e.renderbuffer)}function b(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&c.push("half float","float16"),n.oes_texture_float&&c.push("float","float32");var g=0,_={};function w(){this.id=g++,_[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function x(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function k(t){var n=t.framebuffer;ne(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,o.framebufferCount--,delete _[t.id]}function S(t){var n;e.bindFramebuffer(ci,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)p(pi+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(ci,pi+n,di,null,0);e.framebufferTexture2D(ci,yi,di,null,0),e.framebufferTexture2D(ci,vi,di,null,0),e.framebufferTexture2D(ci,mi,di,null,0),p(vi,t.depthAttachment),p(mi,t.stencilAttachment),p(yi,t.depthStencilAttachment);var a=e.checkFramebufferStatus(ci);e.isContextLost()||a===bi||ne.raise("framebuffer configuration not supported, status = "+Pi[a]),e.bindFramebuffer(ci,u.next?u.next.framebuffer:null),u.cur=u.next,e.getError()}function O(e,i){var a=new w;function f(e,t){var i;ne(u.next!==a,"can not update framebuffer which is currently in use");var o=0,d=0,p=!0,b=!0,g=null,_=!0,w="rgba",k="uint8",O=1,A=null,E=null,I=null,C=!1;if("number"===typeof e)o=0|e,d=0|t||o;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var T=e;if("shape"in T){var M=T.shape;ne(Array.isArray(M)&&M.length>=2,"invalid shape for framebuffer"),o=M[0],d=M[1]}else"radius"in T&&(o=d=T.radius),"width"in T&&(o=T.width),"height"in T&&(d=T.height);("color"in T||"colors"in T)&&(g=T.color||T.colors,Array.isArray(g)&&ne(1===g.length||n.webgl_draw_buffers,"multiple render targets not supported")),g||("colorCount"in T&&(O=0|T.colorCount,ne(O>0,"invalid color buffer count")),"colorTexture"in T&&(_=!!T.colorTexture,w="rgba4"),"colorType"in T&&(k=T.colorType,_?(ne(n.oes_texture_float||!("float"===k||"float32"===k),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(n.oes_texture_half_float||!("half float"===k||"float16"===k),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===k||"float16"===k?(ne(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==k&&"float32"!==k||(ne(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),ne.oneOf(k,c,"invalid color type")),"colorFormat"in T&&(w=T.colorFormat,s.indexOf(w)>=0?_=!0:l.indexOf(w)>=0?_=!1:ne.optional((function(){_?ne.oneOf(T.colorFormat,s,"invalid color format for texture"):ne.oneOf(T.colorFormat,l,"invalid color format for renderbuffer")})))),("depthTexture"in T||"depthStencilTexture"in T)&&(C=!(!T.depthTexture&&!T.depthStencilTexture),ne(!C||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in T&&("boolean"===typeof T.depth?p=T.depth:(A=T.depth,b=!1)),"stencil"in T&&("boolean"===typeof T.stencil?b=T.stencil:(E=T.stencil,p=!1)),"depthStencil"in T&&("boolean"===typeof T.depthStencil?p=b=T.depthStencil:(I=T.depthStencil,p=!1,b=!1))}else o=d=1;var D=null,j=null,z=null,N=null;if(Array.isArray(g))D=g.map(v);else if(g)D=[v(g)];else for(D=new Array(O),i=0;i<O;++i)D[i]=m(o,d,_,w,k);ne(n.webgl_draw_buffers||D.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(D.length<=r.maxColorAttachments,"too many color attachments, not supported"),o=o||D[0].width,d=d||D[0].height,A?j=v(A):p&&!b&&(j=m(o,d,C,"depth","uint32")),E?z=v(E):b&&!p&&(z=m(o,d,!1,"stencil","uint8")),I?N=v(I):!A&&!E&&b&&p&&(N=m(o,d,C,"depth stencil","depth stencil")),ne(!!A+!!E+!!I<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var P=null;for(i=0;i<D.length;++i)if(h(D[i],o,d),ne(!D[i]||D[i].texture&&Ci.indexOf(D[i].texture._texture.format)>=0||D[i].renderbuffer&&Ni.indexOf(D[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),D[i]&&D[i].texture){var F=Ti[D[i].texture._texture.format]*Mi[D[i].texture._texture.type];null===P?P=F:ne(P===F,"all color attachments much have the same number of bits per pixel.")}return h(j,o,d),ne(!j||j.texture&&j.texture._texture.format===Ii||j.renderbuffer&&j.renderbuffer._renderbuffer.format===Di,"invalid depth attachment for framebuffer object"),h(z,o,d),ne(!z||z.renderbuffer&&z.renderbuffer._renderbuffer.format===ji,"invalid stencil attachment for framebuffer object"),h(N,o,d),ne(!N||N.texture&&N.texture._texture.format===zi||N.renderbuffer&&N.renderbuffer._renderbuffer.format===zi,"invalid depth-stencil attachment for framebuffer object"),x(a),a.width=o,a.height=d,a.colorAttachments=D,a.depthAttachment=j,a.stencilAttachment=z,a.depthStencilAttachment=N,f.color=D.map(y),f.depth=y(j),f.stencil=y(z),f.depthStencil=y(N),f.width=a.width,f.height=a.height,S(a),f}function d(e,t){ne(u.next!==a,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===a.width&&r===a.height)return f;for(var i=a.colorAttachments,o=0;o<i.length;++o)b(i[o],n,r);return b(a.depthAttachment,n,r),b(a.stencilAttachment,n,r),b(a.depthStencilAttachment,n,r),a.width=f.width=n,a.height=f.height=r,S(a),f}return o.framebufferCount++,f(e,i),t(f,{resize:d,_reglType:"framebuffer",_framebuffer:a,destroy:function(){k(a),x(a)},use:function(e){u.setFBO({framebuffer:f},e)}})}function A(e){var a=Array(6);function o(e){var r;ne(a.indexOf(u.next)<0,"can not update framebuffer which is currently in use");var l,f={color:null},d=0,h=null,p="rgba",v="uint8",m=1;if("number"===typeof e)d=0|e;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var y=e;if("shape"in y){var b=y.shape;ne(Array.isArray(b)&&b.length>=2,"invalid shape for framebuffer"),ne(b[0]===b[1],"cube framebuffer must be square"),d=b[0]}else"radius"in y&&(d=0|y.radius),"width"in y?(d=0|y.width,"height"in y&&ne(y.height===d,"must be square")):"height"in y&&(d=0|y.height);("color"in y||"colors"in y)&&(h=y.color||y.colors,Array.isArray(h)&&ne(1===h.length||n.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in y&&(m=0|y.colorCount,ne(m>0,"invalid color buffer count")),"colorType"in y&&(ne.oneOf(y.colorType,c,"invalid color type"),v=y.colorType),"colorFormat"in y&&(p=y.colorFormat,ne.oneOf(y.colorFormat,s,"invalid color format for texture"))),"depth"in y&&(f.depth=y.depth),"stencil"in y&&(f.stencil=y.stencil),"depthStencil"in y&&(f.depthStencil=y.depthStencil)}else d=1;if(h)if(Array.isArray(h))for(l=[],r=0;r<h.length;++r)l[r]=h[r];else l=[h];else{l=Array(m);var g={radius:d,format:p,type:v};for(r=0;r<m;++r)l[r]=i.createCube(g)}for(f.color=Array(l.length),r=0;r<l.length;++r){var _=l[r];ne("function"===typeof _&&"textureCube"===_._reglType,"invalid cube map"),d=d||_.width,ne(_.width===d&&_.height===d,"invalid cube map shape"),f.color[r]={target:hi,data:l[r]}}for(r=0;r<6;++r){for(var w=0;w<l.length;++w)f.color[w].target=hi+r;r>0&&(f.depth=a[0].depth,f.stencil=a[0].stencil,f.depthStencil=a[0].depthStencil),a[r]?a[r](f):a[r]=O(f)}return t(o,{width:d,height:d,color:l})}function l(e){var t,n=0|e;if(ne(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===o.width)return o;var i=o.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)a[t].resize(n);return o.width=o.height=n,o}return o(e),t(o,{faces:a,resize:l,_reglType:"framebufferCube",destroy:function(){a.forEach((function(e){e.destroy()}))}})}function E(){u.cur=null,u.next=null,u.dirty=!0,St(_).forEach((function(t){t.framebuffer=e.createFramebuffer(),S(t)}))}return t(u,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:O,createCube:A,clear:function(){St(_).forEach(k)},restore:E})}Pi[bi]="complete",Pi[gi]="incomplete attachment",Pi[wi]="incomplete dimensions",Pi[_i]="incomplete, missing attachment",Pi[xi]="unsupported";var Li=5126,Bi=34962,Ri=34963,Vi=["attributes","elements","offset","count","primitive","instances"];function Ui(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Li,this.offset=0,this.stride=0,this.divisor=0}function Hi(t,n,r,i,a,o,u){for(var s=r.maxAttributes,l=new Array(s),c=0;c<s;++c)l[c]=new Ui;var f=0,d={},h={Record:Ui,scope:{},state:l,currentVAO:null,targetVAO:null,restore:v()?x:function(){},createVAO:k,getVAO:y,destroyBuffer:p,setVAO:v()?b:g,clear:v()?_:function(){}};function p(e){for(var n=0;n<l.length;++n){var r=l[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}}function v(){return n.oes_vertex_array_object}function m(){return n.angle_instanced_arrays}function y(e){return"function"===typeof e&&e._vao?e._vao:null}function b(e){if(e!==h.currentVAO){var t=v();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),h.currentVAO=e}}function g(e){if(e!==h.currentVAO){if(e)e.bindAttrs();else{for(var n=m(),r=0;r<l.length;++r){var i=l[r];i.buffer?(t.enableVertexAttribArray(r),i.buffer.bind(),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}u.elements?t.bindBuffer(Ri,u.elements.buffer.buffer):t.bindBuffer(Ri,null)}h.currentVAO=e}}function _(){St(d).forEach((function(e){e.destroy()}))}function w(){this.id=++f,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=v();this.vao=e?e.createVertexArrayOES():null,d[this.id]=this,this.buffers=[]}function x(){v()&&St(d).forEach((function(e){e.refresh()}))}function k(t){var r=new w;function u(t){var i;if(Array.isArray(t))i=t,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4;else{if(ne("object"===typeof t,"invalid arguments for create vao"),ne("attributes"in t,"must specify attributes for vao"),t.elements){var l=t.elements;r.ownsElements?"function"===typeof l&&"elements"===l._reglType?(r.elements.destroy(),r.ownsElements=!1):(r.elements(l),r.ownsElements=!1):o.getElements(t.elements)?(r.elements=t.elements,r.ownsElements=!1):(r.elements=o.create(t.elements),r.ownsElements=!0)}else r.elements=null,r.ownsElements=!1;i=t.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in t&&(r.offset=0|t.offset),"count"in t&&(r.count=0|t.count),"instances"in t&&(r.instances=0|t.instances),"primitive"in t&&(ne(t.primitive in Yt,"bad primitive type: "+t.primitive),r.primitive=Yt[t.primitive]),ne.optional((function(){for(var e=Object.keys(t),n=0;n<e.length;++n)ne(Vi.indexOf(e[n])>=0,'invalid option for vao: "'+e[n]+'" valid options are '+Vi)})),ne(Array.isArray(i),"attributes must be an array")}ne(i.length<s,"too many attributes"),ne(i.length>0,"must specify at least one attribute");var c={},f=r.attributes;f.length=i.length;for(var d=0;d<i.length;++d){var h,p=i[d],v=f[d]=new Ui,m=p.data||p;Array.isArray(m)||e(m)||kt(m)?(r.buffers[d]&&(h=r.buffers[d],e(m)&&h._buffer.byteLength>=m.byteLength?h.subdata(m):(h.destroy(),r.buffers[d]=null)),r.buffers[d]||(h=r.buffers[d]=a.create(p,Bi,!1,!0)),v.buffer=a.getBuffer(h),v.size=0|v.buffer.dimension,v.normalized=!1,v.type=v.buffer.dtype,v.offset=0,v.stride=0,v.divisor=0,v.state=1,c[d]=1):a.getBuffer(p)?(v.buffer=a.getBuffer(p),v.size=0|v.buffer.dimension,v.normalized=!1,v.type=v.buffer.dtype,v.offset=0,v.stride=0,v.divisor=0,v.state=1):a.getBuffer(p.buffer)?(v.buffer=a.getBuffer(p.buffer),v.size=0|(+p.size||v.buffer.dimension),v.normalized=!!p.normalized||!1,"type"in p?(ne.parameter(p.type,jt,"invalid buffer type"),v.type=jt[p.type]):v.type=v.buffer.dtype,v.offset=0|(p.offset||0),v.stride=0|(p.stride||0),v.divisor=0|(p.divisor||0),v.state=1,ne(v.size>=1&&v.size<=4,"size must be between 1 and 4"),ne(v.offset>=0,"invalid offset"),ne(v.stride>=0&&v.stride<=255,"stride must be between 0 and 255"),ne(v.divisor>=0,"divisor must be positive"),ne(!v.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in p?(ne(d>0,"first attribute must not be a constant"),v.x=+p.x||0,v.y=+p.y||0,v.z=+p.z||0,v.w=+p.w||0,v.state=2):ne(!1,"invalid attribute spec for location "+d)}for(var y=0;y<r.buffers.length;++y)!c[y]&&r.buffers[y]&&(r.buffers[y].destroy(),r.buffers[y]=null);return r.refresh(),u}return i.vaoCount+=1,u.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},u._vao=r,u._reglType="vao",u(t)}return w.prototype.bindAttrs=function(){for(var e=m(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Bi,i.buffer.buffer),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var a=n.length;a<s;++a)t.disableVertexAttribArray(a);var u=o.getElements(this.elements);u?t.bindBuffer(Ri,u.buffer.buffer):t.bindBuffer(Ri,null)},w.prototype.refresh=function(){var e=v();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),h.currentVAO=null,e.bindVertexArrayOES(null))},w.prototype.destroy=function(){if(this.vao){var e=v();this===h.currentVAO&&(h.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),d[this.id]&&(delete d[this.id],i.vaoCount-=1)},h}var Wi=35632,Zi=35633,Yi=35718,$i=35721;function Gi(e,n,r,i){var a={},o={};function u(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function s(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function l(t,r,i){var u=t===Wi?a:o,s=u[r];if(!s){var l=n.str(r);s=e.createShader(t),e.shaderSource(s,l),e.compileShader(s),ne.shaderError(e,s,l,t,i),u[r]=s}return s}var c={},f=[],d=0;function h(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,r,a){var o,c,f=l(Wi,t.fragId),d=l(Zi,t.vertId),h=t.program=e.createProgram();if(e.attachShader(h,f),e.attachShader(h,d),a)for(o=0;o<a.length;++o){var p=a[o];e.bindAttribLocation(h,p[0],p[1])}e.linkProgram(h),ne.linkError(e,h,n.str(t.fragId),n.str(t.vertId),r);var v=e.getProgramParameter(h,Yi);i.profile&&(t.stats.uniformsCount=v);var m=t.uniforms;for(o=0;o<v;++o)if(c=e.getActiveUniform(h,o)){if(c.size>1)for(var y=0;y<c.size;++y){var b=c.name.replace("[0]","["+y+"]");s(m,new u(b,n.id(b),e.getUniformLocation(h,b),c))}var g=c.name;c.size>1&&(g=g.replace("[0]","")),s(m,new u(g,n.id(g),e.getUniformLocation(h,g),c))}var _=e.getProgramParameter(h,$i);i.profile&&(t.stats.attributesCount=_);var w=t.attributes;for(o=0;o<_;++o)(c=e.getActiveAttrib(h,o))&&s(w,new u(c.name,n.id(c.name),e.getAttribLocation(h,c.name),c))}function v(){a={},o={};for(var e=0;e<f.length;++e)p(f[e],null,f[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);St(a).forEach(t),a={},St(o).forEach(t),o={},f.forEach((function(t){e.deleteProgram(t.program)})),f.length=0,c={},r.shaderCount=0},program:function(n,i,u,s){ne.command(n>=0,"missing vertex shader",u),ne.command(i>=0,"missing fragment shader",u);var l=c[i];l||(l=c[i]={});var d=l[n];if(d&&(d.refCount++,!s))return d;var v=new h(i,n);return r.shaderCount++,p(v,u,s),d||(l[n]=v),f.push(v),t(v,{destroy:function(){if(v.refCount--,v.refCount<=0){e.deleteProgram(v.program);var t=f.indexOf(v);f.splice(t,1),r.shaderCount--}l[v.vertId].refCount<=0&&(e.deleteShader(o[v.vertId]),delete o[v.vertId],delete c[v.fragId][v.vertId]),Object.keys(c[v.fragId]).length||(e.deleteShader(a[v.fragId]),delete a[v.fragId],delete c[v.fragId])}})},restore:v,shader:l,frag:-1,vert:-1}}var qi=6408,Xi=5121,Qi=3333,Ki=5126;function Ji(t,n,r,i,a,o,u){function s(s){var l;null===n.next?(ne(a.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),l=Xi):(ne(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),l=n.next.colorAttachments[0].texture._texture.type,ne.optional((function(){o.oes_texture_float?(ne(l===Xi||l===Ki,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),l===Ki&&ne(u.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(l===Xi,"Reading from a framebuffer is only allowed for the type 'uint8'")})));var c=0,f=0,d=i.framebufferWidth,h=i.framebufferHeight,p=null;e(s)?p=s:s&&(ne.type(s,"object","invalid arguments to regl.read()"),c=0|s.x,f=0|s.y,ne(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),ne(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),d=0|(s.width||i.framebufferWidth-c),h=0|(s.height||i.framebufferHeight-f),p=s.data||null),p&&(l===Xi?ne(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):l===Ki&&ne(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(d>0&&d+c<=i.framebufferWidth,"invalid width for read pixels"),ne(h>0&&h+f<=i.framebufferHeight,"invalid height for read pixels"),r();var v=d*h*4;return p||(l===Xi?p=new Uint8Array(v):l===Ki&&(p=p||new Float32Array(v))),ne.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),ne(p.byteLength>=v,"data buffer for regl.read() too small"),t.pixelStorei(Qi,4),t.readPixels(c,f,d,h,qi,l,p),p}function l(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=s(e)})),t}function c(e){return e&&"framebuffer"in e?l(e):s(e)}return c}function ea(e){return Array.prototype.slice.call(e)}function ta(e){return ea(e).join("")}function na(){var e=0,n=[],r=[];function i(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var a="g"+e++;return n.push(a),r.push(t),a}function a(){var n=[];function r(){n.push.apply(n,ea(arguments))}var i=[];function a(){var t="v"+e++;return i.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,ea(arguments)),n.push(";")),t}return t(r,{def:a,toString:function(){return ta([i.length>0?"var "+i.join(",")+";":"",ta(n)])}})}function o(){var e=a(),n=a(),r=e.toString,i=n.toString;function o(t,r){n(t,r,"=",e.def(t,r),";")}return t((function(){e.apply(e,ea(arguments))}),{def:e.def,entry:e,exit:n,save:o,set:function(t,n,r){o(t,n),e(t,n,"=",r,";")},toString:function(){return r()+i()}})}function u(){var e=ta(arguments),n=o(),r=o(),i=n.toString,a=r.toString;return t(n,{then:function(){return n.apply(n,ea(arguments)),this},else:function(){return r.apply(r,ea(arguments)),this},toString:function(){var t=a();return t&&(t="else{"+t+"}"),ta(["if(",e,"){",i(),"}",t])}})}var s=a(),l={};function c(e,n){var r=[];function i(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var a=0;a<n;++a)i();var u=o(),s=u.toString;return l[e]=t(u,{arg:i,toString:function(){return ta(["function(",r.join(),"){",s(),"}"])}})}function f(){var e=['"use strict";',s,"return {"];Object.keys(l).forEach((function(t){e.push('"',t,'":',l[t].toString(),",")})),e.push("}");var t=ta(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}return{global:s,link:i,block:a,proc:c,scope:o,cond:u,compile:f}}var ra="xyzw".split(""),ia=5121,aa=1,oa=2,ua=0,sa=1,la=2,ca=3,fa=4,da=5,ha=6,pa="dither",va="blend.enable",ma="blend.color",ya="blend.equation",ba="blend.func",ga="depth.enable",_a="depth.func",wa="depth.range",xa="depth.mask",ka="colorMask",Sa="cull.enable",Oa="cull.face",Aa="frontFace",Ea="lineWidth",Ia="polygonOffset.enable",Ca="polygonOffset.offset",Ta="sample.alpha",Ma="sample.enable",Da="sample.coverage",ja="stencil.enable",za="stencil.mask",Na="stencil.func",Pa="stencil.opFront",Fa="stencil.opBack",La="scissor.enable",Ba="scissor.box",Ra="viewport",Va="profile",Ua="framebuffer",Ha="vert",Wa="frag",Za="elements",Ya="primitive",$a="count",Ga="offset",qa="instances",Xa="vao",Qa="Width",Ka="Height",Ja=Ua+Qa,eo=Ua+Ka,to=Ra+Qa,no=Ra+Ka,ro="drawingBuffer",io=ro+Qa,ao=ro+Ka,oo=[ba,ya,Na,Pa,Fa,Da,Ra,Ba,Ca],uo=34962,so=34963,lo=3553,co=34067,fo=2884,ho=3042,po=3024,vo=2960,mo=2929,yo=3089,bo=32823,go=32926,_o=32928,wo=5126,xo=35664,ko=35665,So=35666,Oo=5124,Ao=35667,Eo=35668,Io=35669,Co=35670,To=35671,Mo=35672,Do=35673,jo=35674,zo=35675,No=35676,Po=35678,Fo=35680,Lo=4,Bo=1028,Ro=1029,Vo=2304,Uo=2305,Ho=32775,Wo=32776,Zo=519,Yo=7680,$o=0,Go=1,qo=32774,Xo=513,Qo=36160,Ko=36064,Jo={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},eu=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],tu={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},nu={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ru={frag:35632,vert:35633},iu={cw:Vo,ccw:Uo};function au(t){return Array.isArray(t)||e(t)||kt(t)}function ou(e){return e.sort((function(e,t){return e===Ra?-1:t===Ra?1:e<t?-1:1}))}function uu(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function su(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function lu(e){return new uu(!1,!1,!1,e)}function cu(e,t){var n=e.type;if(n===ua){var r=e.data.length;return new uu(!0,r>=1,r>=2,t)}if(n===fa){var i=e.data;return new uu(i.thisDep,i.contextDep,i.propDep,t)}if(n===da)return new uu(!1,!1,!1,t);if(n===ha){for(var a=!1,o=!1,u=!1,s=0;s<e.data.length;++s){var l=e.data[s];if(l.type===sa)u=!0;else if(l.type===la)o=!0;else if(l.type===ca)a=!0;else if(l.type===ua){a=!0;var c=l.data;c>=1&&(o=!0),c>=2&&(u=!0)}else l.type===fa&&(a=a||l.data.thisDep,o=o||l.data.contextDep,u=u||l.data.propDep)}return new uu(a,o,u,t)}return new uu(n===ca,n===la,n===sa,t)}var fu=new uu(!1,!1,!1,(function(){}));function du(e,n,r,i,a,o,u,s,l,c,f,d,h,p,v){var m=c.Record,y={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(y.min=Ho,y.max=Wo);var b=r.angle_instanced_arrays,g=r.webgl_draw_buffers,_=r.oes_vertex_array_object,w={dirty:!0,profile:v.profile},x={},k=[],S={},O={};function A(e){return e.replace(".","_")}function E(e,t,n){var r=A(e);k.push(e),x[r]=w[r]=!!n,S[r]=t}function I(e,t,n){var r=A(e);k.push(e),Array.isArray(n)?(w[r]=n.slice(),x[r]=n.slice()):w[r]=x[r]=n,O[r]=t}E(pa,po),E(va,ho),I(ma,"blendColor",[0,0,0,0]),I(ya,"blendEquationSeparate",[qo,qo]),I(ba,"blendFuncSeparate",[Go,$o,Go,$o]),E(ga,mo,!0),I(_a,"depthFunc",Xo),I(wa,"depthRange",[0,1]),I(xa,"depthMask",!0),I(ka,ka,[!0,!0,!0,!0]),E(Sa,fo),I(Oa,"cullFace",Ro),I(Aa,Aa,Uo),I(Ea,Ea,1),E(Ia,bo),I(Ca,"polygonOffset",[0,0]),E(Ta,go),E(Ma,_o),I(Da,"sampleCoverage",[1,!1]),E(ja,vo),I(za,"stencilMask",-1),I(Na,"stencilFunc",[Zo,0,-1]),I(Pa,"stencilOpSeparate",[Bo,Yo,Yo,Yo]),I(Fa,"stencilOpSeparate",[Ro,Yo,Yo,Yo]),E(La,yo),I(Ba,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),I(Ra,Ra,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var C={gl:e,context:h,strings:n,next:x,current:w,draw:d,elements:o,buffer:a,shader:f,attributes:c.state,vao:c,uniforms:l,framebuffer:s,extensions:r,timer:p,isBufferArgs:au},T={primTypes:Yt,compareFuncs:tu,blendFuncs:Jo,blendEquations:y,stencilOps:nu,glTypes:jt,orientationType:iu};ne.optional((function(){C.isArrayLike=fn})),g&&(T.backBuffer=[Ro],T.drawBuffer=Ae(i.maxDrawbuffers,(function(e){return 0===e?[0]:Ae(e,(function(e){return Ko+e}))})));var M=0;function D(){var e=na(),t=e.link,r=e.global;e.id=M++,e.batchId="0";var i=t(C),a=e.shared={props:"a0"};Object.keys(C).forEach((function(e){a[e]=r.def(i,".",e)})),ne.optional((function(){e.CHECK=t(ne),e.commandStr=ne.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,n,r){e("if(!(",n,"))",this.CHECK,".commandRaise(",t(r),",",this.command,");")},T.invalidBlendCombinations=eu}));var o=e.next={},u=e.current={};Object.keys(O).forEach((function(e){Array.isArray(w[e])&&(o[e]=r.def(a.next,".",e),u[e]=r.def(a.current,".",e))}));var s=e.constants={};Object.keys(T).forEach((function(e){s[e]=r.def(JSON.stringify(T[e]))})),e.invoke=function(n,r){switch(r.type){case ua:var i=["this",a.context,a.props,e.batchId];return n.def(t(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case sa:return n.def(a.props,r.data);case la:return n.def(a.context,r.data);case ca:return n.def("this",r.data);case fa:return r.data.append(e,n),r.data.ref;case da:return r.data.toString();case ha:return r.data.map((function(t){return e.invoke(n,t)}))}},e.attribCache={};var l={};return e.scopeAttrib=function(e){var r=n.id(e);if(r in l)return l[r];var i=c.scope[r];return i||(i=c.scope[r]=new m),l[r]=t(i)},e}function j(e){var t,n=e.static,r=e.dynamic;if(Va in n){var i=!!n[Va];(t=lu((function(e,t){return i}))).enable=i}else if(Va in r){var a=r[Va];t=cu(a,(function(e,t){return e.invoke(t,a)}))}return t}function z(e,t){var n=e.static,r=e.dynamic;if(Ua in n){var i=n[Ua];return i?(i=s.getFramebuffer(i),ne.command(i,"invalid framebuffer object"),lu((function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var a=r.context;return t.set(a,"."+Ja,n+".width"),t.set(a,"."+eo,n+".height"),n}))):lu((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Ja,r+"."+io),t.set(r,"."+eo,r+"."+ao),"null"}))}if(Ua in r){var a=r[Ua];return cu(a,(function(e,t){var n=e.invoke(t,a),r=e.shared,i=r.framebuffer,o=t.def(i,".getFramebuffer(",n,")");ne.optional((function(){e.assert(t,"!"+n+"||"+o,"invalid framebuffer object")})),t.set(i,".next",o);var u=r.context;return t.set(u,"."+Ja,o+"?"+o+".width:"+u+"."+io),t.set(u,"."+eo,o+"?"+o+".height:"+u+"."+ao),o}))}return null}function N(e,t,n){var r=e.static,i=e.dynamic;function a(e){if(e in r){var a=r[e];ne.commandType(a,"object","invalid "+e,n.commandStr);var o,u,s=!0,l=0|a.x,c=0|a.y;return"width"in a?(o=0|a.width,ne.command(o>=0,"invalid "+e,n.commandStr)):s=!1,"height"in a?(u=0|a.height,ne.command(u>=0,"invalid "+e,n.commandStr)):s=!1,new uu(!s&&t&&t.thisDep,!s&&t&&t.contextDep,!s&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=o;"width"in a||(r=t.def(n,".",Ja,"-",l));var i=u;return"height"in a||(i=t.def(n,".",eo,"-",c)),[l,c,r,i]}))}if(e in i){var f=i[e],d=cu(f,(function(t,n){var r=t.invoke(n,f);ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=t.shared.context,a=n.def(r,".x|0"),o=n.def(r,".y|0"),u=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Ja,"-",a,")"),s=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",eo,"-",o,")");return ne.optional((function(){t.assert(n,u+">=0&&"+s+">=0","invalid "+e)})),[a,o,u,s]}));return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new uu(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Ja),t.def(n,".",eo)]})):null}var o=a(Ra);if(o){var u=o;o=new uu(o.thisDep,o.contextDep,o.propDep,(function(e,t){var n=u.append(e,t),r=e.shared.context;return t.set(r,"."+to,n[2]),t.set(r,"."+no,n[3]),n}))}return{viewport:o,scissor_box:a(Ba)}}function P(e,t){var n=e.static;if("string"===typeof n[Wa]&&"string"===typeof n[Ha]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,i=Object.keys(r);if(i.length>0&&"number"===typeof r[i[0]]){for(var a=[],o=0;o<i.length;++o)ne("number"===typeof r[i[o]],"must specify all vertex attribute locations when using vaos"),a.push([0|r[i[o]],i[o]]);return a}}return null}function F(e,t,r){var i=e.static,a=e.dynamic;function o(e){if(e in i){var t=n.id(i[e]);ne.optional((function(){f.shader(ru[e],t,ne.guessCommand())}));var r=lu((function(){return t}));return r.id=t,r}if(e in a){var o=a[e];return cu(o,(function(t,n){var r=t.invoke(n,o),i=n.def(t.shared.strings,".id(",r,")");return ne.optional((function(){n(t.shared.shader,".shader(",ru[e],",",i,",",t.command,");")})),i}))}return null}var u,s=o(Wa),l=o(Ha),c=null;return su(s)&&su(l)?(c=f.program(l.id,s.id,null,r),u=lu((function(e,t){return e.link(c)}))):u=new uu(s&&s.thisDep||l&&l.thisDep,s&&s.contextDep||l&&l.contextDep,s&&s.propDep||l&&l.propDep,(function(e,t){var n,r=e.shared.shader;n=s?s.append(e,t):t.def(r,".",Wa);var i=r+".program("+(l?l.append(e,t):t.def(r,".",Ha))+","+n;return ne.optional((function(){i+=","+e.command})),t.def(i+")")})),{frag:s,vert:l,progVar:u,program:c}}function L(e,t){var n=e.static,r=e.dynamic,i={},a=!1;function u(){if(Xa in n){var e=n[Xa];return null!==e&&null===c.getVAO(e)&&(e=c.createVAO(e)),a=!0,i.vao=e,lu((function(t){var n=c.getVAO(e);return n?t.link(n):"null"}))}if(Xa in r){a=!0;var t=r[Xa];return cu(t,(function(e,n){var r=e.invoke(n,t);return n.def(e.shared.vao+".getVAO("+r+")")}))}return null}var s=u(),l=!1;function f(){if(Za in n){var e=n[Za];if(i.elements=e,au(e)){var u=i.elements=o.create(e,!0);e=o.getElements(u),l=!0}else e&&(e=o.getElements(e),l=!0,ne.command(e,"invalid elements",t.commandStr));var c=lu((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return c.value=e,c}if(Za in r){l=!0;var f=r[Za];return cu(f,(function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,a=e.invoke(t,f),o=t.def("null"),u=t.def(r,"(",a,")"),s=e.cond(u).then(o,"=",i,".createStream(",a,");").else(o,"=",i,".getElements(",a,");");return ne.optional((function(){e.assert(s.else,"!"+a+"||"+o,"invalid elements")})),t.entry(s),t.exit(e.cond(u).then(i,".destroyStream(",o,");")),e.ELEMENTS=o,o}))}return a?new uu(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}var d=f();function h(){if(Ya in n){var e=n[Ya];return i.primitive=e,ne.commandParameter(e,Yt,"invalid primitve",t.commandStr),lu((function(t,n){return Yt[e]}))}if(Ya in r){var o=r[Ya];return cu(o,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,o);return ne.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(Yt))})),t.def(n,"[",r,"]")}))}return l?su(d)?d.value?lu((function(e,t){return t.def(e.ELEMENTS,".primType")})):lu((function(){return Lo})):new uu(d.thisDep,d.contextDep,d.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",Lo)})):a?new uu(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+Lo)})):null}function p(e,o){if(e in n){var u=0|n[e];return o?i.offset=u:i.instances=u,ne.command(!o||u>=0,"invalid "+e,t.commandStr),lu((function(e,t){return o&&(e.OFFSET=u),u}))}if(e in r){var c=r[e];return cu(c,(function(t,n){var r=t.invoke(n,c);return o&&(t.OFFSET=r,ne.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}if(o){if(l)return lu((function(e,t){return e.OFFSET=0,0}));if(a)return new uu(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(a)return new uu(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}var v=p(Ga,!0);function m(){if($a in n){var e=0|n[$a];return i.count=e,ne.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),lu((function(){return e}))}if($a in r){var o=r[$a];return cu(o,(function(e,t){var n=e.invoke(t,o);return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(l){if(su(d)){if(d)return v?new uu(v.thisDep,v.contextDep,v.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ne.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):lu((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var u=lu((function(){return-1}));return ne.optional((function(){u.MISSING=!0})),u}var c=new uu(d.thisDep||v.thisDep,d.contextDep||v.contextDep,d.propDep||v.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ne.optional((function(){c.DYNAMIC=!0})),c}return a?new uu(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")})):null}var y=h(),b=m(),g=p(qa,!1);return{elements:d,primitive:y,count:b,instances:g,offset:v,vao:s,vaoActive:a,elementsActive:l,static:i}}function B(e,t){var n=e.static,r=e.dynamic,a={};return k.forEach((function(e){var o=A(e);function u(t,i){if(e in n){var u=t(n[e]);a[o]=lu((function(){return u}))}else if(e in r){var s=r[e];a[o]=cu(s,(function(e,t){return i(e,t,e.invoke(t,s))}))}}switch(e){case Sa:case va:case pa:case ja:case ga:case La:case Ia:case Ta:case Ma:case xa:return u((function(n){return ne.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ne.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case _a:return u((function(n){return ne.commandParameter(n,tu,"invalid "+e,t.commandStr),tu[n]}),(function(t,n,r){var i=t.constants.compareFuncs;return ne.optional((function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(tu))})),n.def(i,"[",r,"]")}));case wa:return u((function(e){return ne.command(fn(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case ba:return u((function(e){ne.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,a="dstAlpha"in e?e.dstAlpha:e.dst;return ne.commandParameter(n,Jo,o+".srcRGB",t.commandStr),ne.commandParameter(r,Jo,o+".srcAlpha",t.commandStr),ne.commandParameter(i,Jo,o+".dstRGB",t.commandStr),ne.commandParameter(a,Jo,o+".dstAlpha",t.commandStr),ne.command(-1===eu.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[Jo[n],Jo[i],Jo[r],Jo[a]]}),(function(t,n,r){var i=t.constants.blendFuncs;function a(a,o){var u=n.def('"',a,o,'" in ',r,"?",r,".",a,o,":",r,".",a);return ne.optional((function(){t.assert(n,u+" in "+i,"invalid "+e+"."+a+o+", must be one of "+Object.keys(Jo))})),u}ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var o=a("src","RGB"),u=a("dst","RGB");ne.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+o+'+", "+'+u+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var s=n.def(i,"[",o,"]"),l=n.def(i,"[",a("src","Alpha"),"]");return[s,n.def(i,"[",u,"]"),l,n.def(i,"[",a("dst","Alpha"),"]")]}));case ya:return u((function(n){return"string"===typeof n?(ne.commandParameter(n,y,"invalid "+e,t.commandStr),[y[n],y[n]]):"object"===typeof n?(ne.commandParameter(n.rgb,y,e+".rgb",t.commandStr),ne.commandParameter(n.alpha,y,e+".alpha",t.commandStr),[y[n.rgb],y[n.alpha]]):void ne.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var i=t.constants.blendEquations,a=n.def(),o=n.def(),u=t.cond("typeof ",r,'==="string"');return ne.optional((function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(y))}n(u.then,e,r),t.assert(u.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(u.else,e+".rgb",r+".rgb"),n(u.else,e+".alpha",r+".alpha")})),u.then(a,"=",o,"=",i,"[",r,"];"),u.else(a,"=",i,"[",r,".rgb];",o,"=",i,"[",r,".alpha];"),n(u),[a,o]}));case ma:return u((function(e){return ne.command(fn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Ae(4,(function(t){return+e[t]}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Ae(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case za:return u((function(e){return ne.commandType(e,"number",o,t.commandStr),0|e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case Na:return u((function(n){ne.commandType(n,"object",o,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,a="mask"in n?n.mask:-1;return ne.commandParameter(r,tu,e+".cmp",t.commandStr),ne.commandType(i,"number",e+".ref",t.commandStr),ne.commandType(a,"number",e+".mask",t.commandStr),[tu[r],i,a]}),(function(e,t,n){var r=e.constants.compareFuncs;return ne.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",Yo),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case Pa:case Fa:return u((function(n){ne.commandType(n,"object",o,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",a=n.zpass||"keep";return ne.commandParameter(r,nu,e+".fail",t.commandStr),ne.commandParameter(i,nu,e+".zfail",t.commandStr),ne.commandParameter(a,nu,e+".zpass",t.commandStr),[e===Fa?Ro:Bo,nu[r],nu[i],nu[a]]}),(function(t,n,r){var i=t.constants.stencilOps;function a(a){return ne.optional((function(){t.assert(n,'!("'+a+'" in '+r+")||("+r+"."+a+" in "+i+")","invalid "+e+"."+a+", must be one of "+Object.keys(nu))})),n.def('"',a,'" in ',r,"?",i,"[",r,".",a,"]:",Yo)}return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===Fa?Ro:Bo,a("fail"),a("zfail"),a("zpass")]}));case Ca:return u((function(e){ne.commandType(e,"object",o,t.commandStr);var n=0|e.factor,r=0|e.units;return ne.commandType(n,"number",o+".factor",t.commandStr),ne.commandType(r,"number",o+".units",t.commandStr),[n,r]}),(function(t,n,r){return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case Oa:return u((function(e){var n=0;return"front"===e?n=Bo:"back"===e&&(n=Ro),ne.command(!!n,o,t.commandStr),n}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',Bo,":",Ro)}));case Ea:return u((function(e){return ne.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case Aa:return u((function(e){return ne.commandParameter(e,iu,o,t.commandStr),iu[e]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+Vo+":"+Uo)}));case ka:return u((function(e){return ne.command(fn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Ae(4,(function(e){return"!!"+n+"["+e+"]"}))}));case Da:return u((function(e){ne.command("object"===typeof e&&e,o,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ne.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),a}function R(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach((function(e){var r,a=n[e];if("number"===typeof a||"boolean"===typeof a)r=lu((function(){return a}));else if("function"===typeof a){var o=a._reglType;"texture2d"===o||"textureCube"===o?r=lu((function(e){return e.link(a)})):"framebuffer"===o||"framebufferCube"===o?(ne.command(a.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=lu((function(e){return e.link(a.color[0])}))):ne.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else fn(a)?r=lu((function(t){var n=t.global.def("[",Ae(a.length,(function(n){return ne.command("number"===typeof a[n]||"boolean"===typeof a[n],"invalid uniform "+e,t.commandStr),a[n]})),"]");return n})):ne.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=a,i[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];i[e]=cu(t,(function(e,n){return e.invoke(n,t)}))})),i}function V(e,t){var r=e.static,i=e.dynamic,o={};return Object.keys(r).forEach((function(e){var i=r[e],u=n.id(e),s=new m;if(au(i))s.state=aa,s.buffer=a.getBuffer(a.create(i,uo,!1,!0)),s.type=0;else{var l=a.getBuffer(i);if(l)s.state=aa,s.buffer=l,s.type=0;else if(ne.command("object"===typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var c=i.constant;s.buffer="null",s.state=oa,"number"===typeof c?s.x=c:(ne.command(fn(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,t.commandStr),ra.forEach((function(e,t){t<c.length&&(s[e]=c[t])})))}else{l=au(i.buffer)?a.getBuffer(a.create(i.buffer,uo,!1,!0)):a.getBuffer(i.buffer),ne.command(!!l,'missing buffer for attribute "'+e+'"',t.commandStr);var f=0|i.offset;ne.command(f>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|i.stride;ne.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var h=0|i.size;ne.command(!("size"in i)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!i.normalized,v=0;"type"in i&&(ne.commandParameter(i.type,jt,"invalid type for attribute "+e,t.commandStr),v=jt[i.type]);var y=0|i.divisor;ne.optional((function(){"divisor"in i&&(ne.command(0===y||b,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),ne.command(y>=0,'invalid divisor for attribute "'+e+'"',t.commandStr));var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(t){ne.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)}))})),s.buffer=l,s.state=aa,s.size=h,s.normalized=p,s.type=v||l.dtype,s.offset=f,s.stride=d,s.divisor=y}}o[e]=lu((function(e,t){var n=e.attribCache;if(u in n)return n[u];var r={isStream:!1};return Object.keys(s).forEach((function(e){r[e]=s[e]})),s.buffer&&(r.buffer=e.link(s.buffer),r.type=r.type||r.buffer+".dtype"),n[u]=r,r}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,r){var i=n.invoke(r,t),a=n.shared,o=n.constants,u=a.isBufferArgs,s=a.buffer;ne.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+u+"("+i+")||"+s+".getBuffer("+i+")||"+s+".getBuffer("+i+".buffer)||"+u+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+a.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var l={isStream:r.def(!1)},c=new m;c.state=aa,Object.keys(c).forEach((function(e){l[e]=r.def(""+c[e])}));var f=l.buffer,d=l.type;function h(e){r(l[e],"=",i,".",e,"|0;")}return r("if(",u,"(",i,")){",l.isStream,"=true;",f,"=",s,".createStream(",uo,",",i,");",d,"=",f,".dtype;","}else{",f,"=",s,".getBuffer(",i,");","if(",f,"){",d,"=",f,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",oa,";","if(typeof "+i+'.constant === "number"){',l[ra[0]],"=",i,".constant;",ra.slice(1).map((function(e){return l[e]})).join("="),"=0;","}else{",ra.map((function(e,t){return l[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",u,"(",i,".buffer)){",f,"=",s,".createStream(",uo,",",i,".buffer);","}else{",f,"=",s,".getBuffer(",i,".buffer);","}",d,'="type" in ',i,"?",o.glTypes,"[",i,".type]:",f,".dtype;",l.normalized,"=!!",i,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",l.isStream,"){",s,".destroyStream(",f,");","}"),l}o[e]=cu(t,n)})),o}function U(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=lu((function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=cu(t,(function(e,n){return e.invoke(n,t)}))})),r}function H(e,t,n,i,a){var o=e.static,u=e.dynamic;ne.optional((function(){var e=[Ua,Ha,Wa,Za,Ya,Ga,$a,qa,Va,Xa].concat(k);function t(t){Object.keys(t).forEach((function(t){ne.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',a.commandStr)}))}t(o),t(u)}));var s=P(e,t),l=z(e),f=N(e,l,a),d=L(e,a),h=B(e,a),p=F(e,a,s);function v(e){var t=f[e];t&&(h[e]=t)}v(Ra),v(A(Ba));var m=Object.keys(h).length>0,y={framebuffer:l,draw:d,shader:p,state:h,dirty:m,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(y.profile=j(e),y.uniforms=R(n,a),y.drawVAO=y.scopeVAO=d.vao,!y.drawVAO&&p.program&&!s&&r.angle_instanced_arrays&&d.static.elements){var b=!0,g=p.program.attributes.map((function(e){var n=t.static[e];return b=b&&!!n,n}));if(b&&g.length>0){var _=c.getVAO(c.createVAO({attributes:g,elements:d.static.elements}));y.drawVAO=new uu(null,null,null,(function(e,t){return e.link(_)})),y.useVAO=!0}}return s?y.useVAO=!0:y.attributes=V(t,a),y.context=U(i),y}function W(e,t,n){var r=e.shared.context,i=e.scope();Object.keys(n).forEach((function(a){t.save(r,"."+a);var o=n[a].append(e,t);Array.isArray(o)?i(r,".",a,"=[",o.join(),"];"):i(r,".",a,"=",o,";")})),t(i)}function Z(e,t,n,r){var i,a=e.shared,o=a.gl,u=a.framebuffer;g&&(i=t.def(a.extensions,".webgl_draw_buffers"));var s,l=e.constants,c=l.drawBuffer,f=l.backBuffer;s=n?n.append(e,t):t.def(u,".next"),r||t("if(",s,"!==",u,".cur){"),t("if(",s,"){",o,".bindFramebuffer(",Qo,",",s,".framebuffer);"),g&&t(i,".drawBuffersWEBGL(",c,"[",s,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",Qo,",null);"),g&&t(i,".drawBuffersWEBGL(",f,");"),t("}",u,".cur=",s,";"),r||t("}")}function Y(e,t,n){var r=e.shared,i=r.gl,a=e.current,o=e.next,u=r.current,s=r.next,l=e.cond(u,".dirty");k.forEach((function(t){var r,c,f=A(t);if(!(f in n.state))if(f in o){r=o[f],c=a[f];var d=Ae(w[f].length,(function(e){return l.def(r,"[",e,"]")}));l(e.cond(d.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(i,".",O[f],"(",d,");",d.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else{r=l.def(s,".",f);var h=e.cond(r,"!==",u,".",f);l(h),f in S?h(e.cond(r).then(i,".enable(",S[f],");").else(i,".disable(",S[f],");"),u,".",f,"=",r,";"):h(i,".",O[f],"(",r,");",u,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&l(u,".dirty=false;"),t(l)}function $(e,t,n,r){var i=e.shared,a=e.current,o=i.current,u=i.gl;ou(Object.keys(n)).forEach((function(i){var s=n[i];if(!r||r(s)){var l=s.append(e,t);if(S[i]){var c=S[i];su(s)?t(u,l?".enable(":".disable(",c,");"):t(e.cond(l).then(u,".enable(",c,");").else(u,".disable(",c,");")),t(o,".",i,"=",l,";")}else if(fn(l)){var f=a[i];t(u,".",O[i],"(",l,");",l.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";")}else t(u,".",O[i],"(",l,");",o,".",i,"=",l,";")}}))}function G(e,t){b&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function q(e,t,n,r,i){var a,o,u,s=e.shared,l=e.stats,c=s.current,f=s.timer,d=n.profile;function h(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function v(e){e(a=t.def(),"=",h(),";"),"string"===typeof i?e(l,".count+=",i,";"):e(l,".count++;"),p&&(r?e(o=t.def(),"=",f,".getNumPendingQueries();"):e(f,".beginQuery(",l,");"))}function m(e){e(l,".cpuTime+=",h(),"-",a,";"),p&&(r?e(f,".pushScopeStats(",o,",",f,".getNumPendingQueries(),",l,");"):e(f,".endQuery();"))}function y(e){var n=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",n,";")}if(d){if(su(d))return void(d.enable?(v(t),m(t.exit),y("true")):y("false"));y(u=d.append(e,t))}else u=t.def(c,".profile");var b=e.block();v(b),t("if(",u,"){",b,"}");var g=e.block();m(g),t.exit("if(",u,"){",g,"}")}function X(e,t,n,r,i){var a=e.shared;function o(e){switch(e){case xo:case Ao:case To:return 2;case ko:case Eo:case Mo:return 3;case So:case Io:case Do:return 4;default:return 1}}function u(n,r,i){var o=a.gl,u=t.def(n,".location"),s=t.def(a.attributes,"[",u,"]"),l=i.state,c=i.buffer,f=[i.x,i.y,i.z,i.w],d=["buffer","normalized","offset","stride"];function h(){t("if(!",s,".buffer){",o,".enableVertexAttribArray(",u,");}");var n,a=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",s,".type!==",a,"||",s,".size!==",n,"||",d.map((function(e){return s+"."+e+"!=="+i[e]})).join("||"),"){",o,".bindBuffer(",uo,",",c,".buffer);",o,".vertexAttribPointer(",[u,n,a,i.normalized,i.stride,i.offset],");",s,".type=",a,";",s,".size=",n,";",d.map((function(e){return s+"."+e+"="+i[e]+";"})).join(""),"}"),b){var l=i.divisor;t("if(",s,".divisor!==",l,"){",e.instancing,".vertexAttribDivisorANGLE(",[u,l],");",s,".divisor=",l,";}")}}function p(){t("if(",s,".buffer){",o,".disableVertexAttribArray(",u,");",s,".buffer=null;","}if(",ra.map((function(e,t){return s+"."+e+"!=="+f[t]})).join("||"),"){",o,".vertexAttrib4f(",u,",",f,");",ra.map((function(e,t){return s+"."+e+"="+f[t]+";"})).join(""),"}")}l===aa?h():l===oa?p():(t("if(",l,"===",aa,"){"),h(),t("}else{"),p(),t("}"))}r.forEach((function(r){var a,s=r.name,l=n.attributes[s];if(l){if(!i(l))return;a=l.append(e,t)}else{if(!i(fu))return;var c=e.scopeAttrib(s);ne.optional((function(){e.assert(t,c+".state","missing attribute "+s)})),a={},Object.keys(new m).forEach((function(e){a[e]=t.def(c,".",e)}))}u(e.link(r),o(r.info.type),a)}))}function Q(e,t,r,i,a,o){for(var u,s=e.shared,l=s.gl,c={},f=0;f<i.length;++f){var d=i[f],h=d.name,p=d.info.type,v=d.info.size,m=r.uniforms[h];if(v>1){if(!m)continue;var y=h.replace("[0]","");if(c[y])continue;c[y]=1}var b,g=e.link(d)+".location";if(m){if(!a(m))continue;if(su(m)){var _=m.value;if(ne.command(null!==_&&"undefined"!==typeof _,'missing uniform "'+h+'"',e.commandStr),p===Po||p===Fo){ne.command("function"===typeof _&&(p===Po&&("texture2d"===_._reglType||"framebuffer"===_._reglType)||p===Fo&&("textureCube"===_._reglType||"framebufferCube"===_._reglType)),"invalid texture for uniform "+h,e.commandStr);var w=e.link(_._texture||_.color[0]._texture);t(l,".uniform1i(",g,",",w+".bind());"),t.exit(w,".unbind();")}else if(p===jo||p===zo||p===No){ne.optional((function(){ne.command(fn(_),"invalid matrix for uniform "+h,e.commandStr),ne.command(p===jo&&4===_.length||p===zo&&9===_.length||p===No&&16===_.length,"invalid length for matrix uniform "+h,e.commandStr)}));var x=e.global.def("new Float32Array(["+Array.prototype.slice.call(_)+"])"),k=2;p===zo?k=3:p===No&&(k=4),t(l,".uniformMatrix",k,"fv(",g,",false,",x,");")}else{switch(p){case wo:1===v?ne.commandType(_,"number","uniform "+h,e.commandStr):ne.command(fn(_)&&_.length===v,"uniform "+h,e.commandStr),u="1f";break;case xo:ne.command(fn(_)&&_.length&&_.length%2===0&&_.length<=2*v,"uniform "+h,e.commandStr),u="2f";break;case ko:ne.command(fn(_)&&_.length&&_.length%3===0&&_.length<=3*v,"uniform "+h,e.commandStr),u="3f";break;case So:ne.command(fn(_)&&_.length&&_.length%4===0&&_.length<=4*v,"uniform "+h,e.commandStr),u="4f";break;case Co:1===v?ne.commandType(_,"boolean","uniform "+h,e.commandStr):ne.command(fn(_)&&_.length===v,"uniform "+h,e.commandStr),u="1i";break;case Oo:1===v?ne.commandType(_,"number","uniform "+h,e.commandStr):ne.command(fn(_)&&_.length===v,"uniform "+h,e.commandStr),u="1i";break;case To:case Ao:ne.command(fn(_)&&_.length&&_.length%2===0&&_.length<=2*v,"uniform "+h,e.commandStr),u="2i";break;case Mo:case Eo:ne.command(fn(_)&&_.length&&_.length%3===0&&_.length<=3*v,"uniform "+h,e.commandStr),u="3i";break;case Do:case Io:ne.command(fn(_)&&_.length&&_.length%4===0&&_.length<=4*v,"uniform "+h,e.commandStr),u="4i"}v>1?(u+="v",_=e.global.def("["+Array.prototype.slice.call(_)+"]")):_=fn(_)?Array.prototype.slice.call(_):_,t(l,".uniform",u,"(",g,",",_,");")}continue}b=m.append(e,t)}else{if(!a(fu))continue;b=t.def(s.uniforms,"[",n.id(h),"]")}p===Po?(ne(!Array.isArray(b),"must specify a scalar prop for textures"),t("if(",b,"&&",b,'._reglType==="framebuffer"){',b,"=",b,".color[0];","}")):p===Fo&&(ne(!Array.isArray(b),"must specify a scalar prop for cube maps"),t("if(",b,"&&",b,'._reglType==="framebufferCube"){',b,"=",b,".color[0];","}")),ne.optional((function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+h+'".  '+r)}function r(e,t){1===t&&ne(!Array.isArray(b),"must not specify an array type for uniform"),n("Array.isArray("+b+") && typeof "+b+'[0]===" '+e+'" || typeof '+b+'==="'+e+'"',"invalid type, expected "+e)}function i(t,r,i){Array.isArray(b)?ne(b.length&&b.length%t===0&&b.length<=t*i,"must have length of "+(1===i?"":"n * ")+t):n(s.isArrayLike+"("+b+")&&"+b+".length && "+b+".length % "+t+" === 0 && "+b+".length<="+t*i,"invalid vector, should have length of "+(1===i?"":"n * ")+t,e.commandStr)}function a(t){ne(!Array.isArray(b),"must not specify a value type"),n("typeof "+b+'==="function"&&'+b+'._reglType==="texture'+(t===lo?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(p){case Oo:r("number",v);break;case Ao:i(2,"number",v);break;case Eo:i(3,"number",v);break;case Io:i(4,"number",v);break;case wo:r("number",v);break;case xo:i(2,"number",v);break;case ko:i(3,"number",v);break;case So:i(4,"number",v);break;case Co:r("boolean",v);break;case To:i(2,"boolean",v);break;case Mo:i(3,"boolean",v);break;case Do:i(4,"boolean",v);break;case jo:i(4,"number",v);break;case zo:i(9,"number",v);break;case No:i(16,"number",v);break;case Po:a(lo);break;case Fo:a(co)}}));var S=1;switch(p){case Po:case Fo:var O=t.def(b,"._texture");t(l,".uniform1i(",g,",",O,".bind());"),t.exit(O,".unbind();");continue;case Oo:case Co:u="1i";break;case Ao:case To:u="2i",S=2;break;case Eo:case Mo:u="3i",S=3;break;case Io:case Do:u="4i",S=4;break;case wo:u="1f";break;case xo:u="2f",S=2;break;case ko:u="3f",S=3;break;case So:u="4f",S=4;break;case jo:u="Matrix2fv";break;case zo:u="Matrix3fv";break;case No:u="Matrix4fv"}if(-1===u.indexOf("Matrix")&&v>1&&(u+="v",S=1),"M"===u.charAt(0)){t(l,".uniform",u,"(",g,",");var A=Math.pow(p-jo+2,2),E=e.global.def("new Float32Array(",A,")");Array.isArray(b)?t("false,(",Ae(A,(function(e){return E+"["+e+"]="+b[e]})),",",E,")"):t("false,(Array.isArray(",b,")||",b," instanceof Float32Array)?",b,":(",Ae(A,(function(e){return E+"["+e+"]="+b+"["+e+"]"})),",",E,")"),t(");")}else if(S>1){for(var I=[],C=[],T=0;T<S;++T)Array.isArray(b)?C.push(b[T]):C.push(t.def(b+"["+T+"]")),o&&I.push(t.def());o&&t("if(!",e.batchId,"||",I.map((function(e,t){return e+"!=="+C[t]})).join("||"),"){",I.map((function(e,t){return e+"="+C[t]+";"})).join("")),t(l,".uniform",u,"(",g,",",C.join(","),");"),o&&t("}")}else{if(ne(!Array.isArray(b),"uniform value must not be an array"),o){var M=t.def();t("if(!",e.batchId,"||",M,"!==",b,"){",M,"=",b,";")}t(l,".uniform",u,"(",g,",",b,");"),o&&t("}")}}}function K(e,t,n,r){var i=e.shared,a=i.gl,o=i.draw,u=r.draw;function s(){var s,l=u.elements,c=t;return l?((l.contextDep&&r.contextDynamic||l.propDep)&&(c=n),s=l.append(e,c),u.elementsActive&&c("if("+s+")"+a+".bindBuffer("+so+","+s+".buffer.buffer);")):(s=c.def(),c(s,"=",o,".",Za,";","if(",s,"){",a,".bindBuffer(",so,",",s,".buffer.buffer);}","else if(",i.vao,".currentVAO){",s,"=",e.shared.elements+".getElements("+i.vao,".currentVAO.elements);",_?"":"if("+s+")"+a+".bindBuffer("+so+","+s+".buffer.buffer);","}")),s}function l(){var i,a=u.count,s=t;return a?((a.contextDep&&r.contextDynamic||a.propDep)&&(s=n),i=a.append(e,s),ne.optional((function(){a.MISSING&&e.assert(t,"false","missing vertex count"),a.DYNAMIC&&e.assert(s,i+">=0","missing vertex count")}))):(i=s.def(o,".",$a),ne.optional((function(){e.assert(s,i+">=0","missing vertex count")}))),i}var c=s();function f(i){var a=u[i];return a?a.contextDep&&r.contextDynamic||a.propDep?a.append(e,n):a.append(e,t):t.def(o,".",i)}var d,h,p=f(Ya),v=f(Ga),m=l();if("number"===typeof m){if(0===m)return}else n("if(",m,"){"),n.exit("}");b&&(d=f(qa),h=e.instancing);var y=c+".type",g=u.elements&&su(u.elements)&&!u.vaoActive;function w(){function e(){n(h,".drawElementsInstancedANGLE(",[p,m,y,v+"<<(("+y+"-"+ia+")>>1)",d],");")}function t(){n(h,".drawArraysInstancedANGLE(",[p,v,m,d],");")}c&&"null"!==c?g?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}function x(){function e(){n(a+".drawElements("+[p,m,y,v+"<<(("+y+"-"+ia+")>>1)"]+");")}function t(){n(a+".drawArrays("+[p,v,m]+");")}c&&"null"!==c?g?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}b&&("number"!==typeof d||d>=0)?"string"===typeof d?(n("if(",d,">0){"),w(),n("}else if(",d,"<0){"),x(),n("}")):w():x()}function J(e,t,n,r,i){var a=D(),o=a.proc("body",i);return ne.optional((function(){a.commandStr=t.commandStr,a.command=a.link(t.commandStr)})),b&&(a.instancing=o.def(a.shared.extensions,".angle_instanced_arrays")),e(a,o,n,r),a.compile().body}function ee(e,t,n,r){G(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),X(e,t,n,r.attributes,(function(){return!0}))),Q(e,t,n,r.uniforms,(function(){return!0}),!1),K(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);G(e,n),W(e,n,t.context),Z(e,n,t.framebuffer),Y(e,n,t),$(e,n,t.state),q(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),a=n.def(r,".id"),o=n.def(i,"[",a,"]");n(e.cond(o).then(o,".call(this,a0);").else(o,"=",i,"[",a,"]=",e.link((function(n){return J(ee,e,t,n,1)})),"(",r,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function re(e,t,n,r){function i(){return!0}e.batchId="a1",G(e,t),X(e,t,n,r.attributes,i),Q(e,t,n,r.uniforms,i,!1),K(e,t,t,n)}function ie(e,t,n,r){G(e,t);var i=n.contextDep,a=t.def(),o="a0",u="a1",s=t.def();e.shared.props=s,e.batchId=a;var l=e.scope(),c=e.scope();function f(e){return e.contextDep&&i||e.propDep}function d(e){return!f(e)}if(t(l.entry,"for(",a,"=0;",a,"<",u,";++",a,"){",s,"=",o,"[",a,"];",c,"}",l.exit),n.needsContext&&W(e,c,n.context),n.needsFramebuffer&&Z(e,c,n.framebuffer),$(e,c,n.state,f),n.profile&&f(n.profile)&&q(e,c,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?c(e.shared.vao,".setVAO(",n.drawVAO.append(e,c),");"):l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):l(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(l(e.shared.vao,".setVAO(null);"),X(e,l,n,r.attributes,d),X(e,c,n,r.attributes,f)),Q(e,l,n,r.uniforms,d,!1),Q(e,c,n,r.uniforms,f,!0),K(e,l,c,n);else{var h=e.global.def("{}"),p=n.shader.progVar.append(e,c),v=c.def(p,".id"),m=c.def(h,"[",v,"]");c(e.shared.gl,".useProgram(",p,".program);","if(!",m,"){",m,"=",h,"[",v,"]=",e.link((function(t){return J(re,e,n,t,2)})),"(",p,");}",m,".call(this,a0[",a,"],",a,");")}}function ae(e,t){var n=e.proc("batch",2);e.batchId="0",G(e,n);var r=!1,i=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(W(e,n,t.context),i=!1);var a=t.framebuffer,o=!1;function u(e){return e.contextDep&&r||e.propDep}a?(a.propDep?r=o=!0:a.contextDep&&r&&(o=!0),o||Z(e,n,a)):Z(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),Y(e,n,t),$(e,n,t.state,(function(e){return!u(e)})),t.profile&&u(t.profile)||q(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=o;var s=t.shader.progVar;if(s.contextDep&&r||s.propDep)ie(e,n,t,null);else{var l=s.append(e,n);if(n(e.shared.gl,".useProgram(",l,".program);"),t.shader.program)ie(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var c=e.global.def("{}"),f=n.def(l,".id"),d=n.def(c,"[",f,"]");n(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",c,"[",f,"]=",e.link((function(n){return J(ie,e,t,n,2)})),"(",l,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function oe(e,t){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,a=i.current;function o(n){var a=t.shader[n];a&&r.set(i.shader,"."+n,a.append(e,r))}W(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),ou(Object.keys(t.state)).forEach((function(n){var a=t.state[n].append(e,r);fn(a)?a.forEach((function(t,i){r.set(e.next[n],"["+i+"]",t)})):r.set(i.next,"."+n,a)})),q(e,r,t,!0,!0),[Za,Ga,$a,qa,Ya].forEach((function(n){var a=t.draw[n];a&&r.set(i.draw,"."+n,""+a.append(e,r))})),Object.keys(t.uniforms).forEach((function(a){var o=t.uniforms[a].append(e,r);Array.isArray(o)&&(o="["+o.join()+"]"),r.set(i.uniforms,"["+n.id(a)+"]",o)})),Object.keys(t.attributes).forEach((function(n){var i=t.attributes[n].append(e,r),a=e.scopeAttrib(n);Object.keys(new m).forEach((function(e){r.set(a,"."+e,i[e])}))})),t.scopeVAO&&r.set(i.vao,".targetVAO",t.scopeVAO.append(e,r)),o(Ha),o(Wa),Object.keys(t.state).length>0&&(r(a,".dirty=true;"),r.exit(a,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function ue(e){if("object"===typeof e&&!fn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(pe.isDynamic(e[t[n]]))return!0;return!1}}function se(e,t,n){var r=t.static[n];if(r&&ue(r)){var i=e.global,a=Object.keys(r),o=!1,u=!1,s=!1,l=e.global.def("{}");a.forEach((function(t){var n=r[t];if(pe.isDynamic(n)){"function"===typeof n&&(n=r[t]=pe.unbox(n));var a=cu(n,null);o=o||a.thisDep,s=s||a.propDep,u=u||a.contextDep}else{switch(i(l,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}})),t.dynamic[n]=new pe.DynamicVariable(fa,{thisDep:o,contextDep:u,propDep:s,ref:l,append:c}),delete t.static[n]}function c(e,t){a.forEach((function(n){var i=r[n];if(pe.isDynamic(i)){var a=e.invoke(t,i);t(l,".",n,"=",a,";")}}))}}function le(e,n,r,i,a){var o=D();o.stats=o.link(a),Object.keys(n.static).forEach((function(e){se(o,n,e)})),oo.forEach((function(t){se(o,e,t)}));var u=H(e,n,r,i,o);return te(o,u),oe(o,u),ae(o,u),t(o.compile(),{destroy:function(){u.shader.program.destroy()}})}return{next:x,current:w,procs:function(){var e=D(),t=e.proc("poll"),n=e.proc("refresh"),a=e.block();t(a),n(a);var o,u=e.shared,s=u.gl,l=u.next,c=u.current;a(c,".dirty=false;"),Z(e,t),Z(e,n,null,!0),b&&(o=e.link(b)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var d=n.def(u.attributes,"[",f,"]"),h=e.cond(d,".buffer");h.then(s,".enableVertexAttribArray(",f,");",s,".bindBuffer(",uo,",",d,".buffer.buffer);",s,".vertexAttribPointer(",f,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(s,".disableVertexAttribArray(",f,");",s,".vertexAttrib4f(",f,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(h),b&&n(o,".vertexAttribDivisorANGLE(",f,",",d,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(S).forEach((function(r){var i=S[r],o=a.def(l,".",r),u=e.block();u("if(",o,"){",s,".enable(",i,")}else{",s,".disable(",i,")}",c,".",r,"=",o,";"),n(u),t("if(",o,"!==",c,".",r,"){",u,"}")})),Object.keys(O).forEach((function(r){var i,o,u=O[r],f=w[r],d=e.block();if(d(s,".",u,"("),fn(f)){var h=f.length;i=e.global.def(l,".",r),o=e.global.def(c,".",r),d(Ae(h,(function(e){return i+"["+e+"]"})),");",Ae(h,(function(e){return o+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",Ae(h,(function(e){return i+"["+e+"]!=="+o+"["+e+"]"})).join("||"),"){",d,"}")}else i=a.def(l,".",r),o=a.def(c,".",r),d(i,");",c,".",r,"=",i,";"),t("if(",i,"!==",o,"){",d,"}");n(d)})),e.compile()}(),compile:le}}function hu(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var pu=34918,vu=34919,mu=35007,yu=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var a=[];function o(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(mu,n),a.push(n),h(a.length-1,a.length,e)}function u(){t.ext_disjoint_timer_query.endQueryEXT(mu)}function s(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var l=[];function c(){return l.pop()||new s}function f(e){l.push(e)}var d=[];function h(e,t,n){var r=c();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,d.push(r)}var p=[],v=[];function m(){var e,n,r=a.length;if(0!==r){v.length=Math.max(v.length,r+1),p.length=Math.max(p.length,r+1),p[0]=0,v[0]=0;var o=0;for(e=0,n=0;n<a.length;++n){var u=a[n];t.ext_disjoint_timer_query.getQueryObjectEXT(u,vu)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(u,pu),i(u)):a[e++]=u,p[n+1]=o,v[n+1]=e}for(a.length=e,e=0,n=0;n<d.length;++n){var s=d[n],l=s.startQueryIndex,c=s.endQueryIndex;s.sum+=p[c]-p[l];var h=v[l],m=v[c];m===h?(s.stats.gpuTime+=s.sum/1e6,f(s)):(s.startQueryIndex=h,s.endQueryIndex=m,d[e++]=s)}d.length=e}}return{beginQuery:o,endQuery:u,pushScopeStats:h,update:m,getNumPendingQueries:function(){return a.length},clear:function(){n.push.apply(n,a);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);a.length=0,n.length=0},restore:function(){a.length=0,n.length=0}}},bu=16384,gu=256,_u=1024,wu=34962,xu="webglcontextlost",ku="webglcontextrestored",Su=1,Ou=2,Au=3;function Eu(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function Iu(e){var n=Se(e);if(!n)return null;var r=n.gl,i=r.getContextAttributes(),a=r.isContextLost(),o=Oe(r,n);if(!o)return null;var u=ye(),s=hu(),l=o.extensions,c=yu(r,l),f=me(),d=r.drawingBufferWidth,h=r.drawingBufferHeight,p={tick:0,time:0,viewportWidth:d,viewportHeight:h,framebufferWidth:d,framebufferHeight:h,drawingBufferWidth:d,drawingBufferHeight:h,pixelRatio:n.pixelRatio},v={},m={elements:null,primitive:4,count:-1,offset:0,instances:-1},y=xt(r,l),b=Zt(r,s,n,w),g=on(r,l,b,s),_=Hi(r,l,y,s,b,g,m);function w(e){return _.destroyBuffer(e)}var x=Gi(r,u,s,n),k=qr(r,l,y,(function(){A.procs.poll()}),p,s,n),S=li(r,l,y,s,n),O=Fi(r,l,y,k,S,s),A=du(r,u,l,y,b,g,k,O,v,_,x,m,p,c,n),E=Ji(r,O,A.procs.poll,p,i,l,y),I=A.next,C=r.canvas,T=[],M=[],D=[],j=[n.onDestroy],z=null;function N(){if(0===T.length)return c&&c.update(),void(z=null);z=ve.next(N),$();for(var e=T.length-1;e>=0;--e){var t=T[e];t&&t(p,null,0)}r.flush(),c&&c.update()}function P(){!z&&T.length>0&&(z=ve.next(N))}function F(){z&&(ve.cancel(N),z=null)}function L(e){e.preventDefault(),a=!0,F(),M.forEach((function(e){e()}))}function B(e){r.getError(),a=!1,o.restore(),x.restore(),b.restore(),k.restore(),S.restore(),O.restore(),_.restore(),c&&c.restore(),A.procs.refresh(),P(),D.forEach((function(e){e()}))}function R(){T.length=0,F(),C&&(C.removeEventListener(xu,L),C.removeEventListener(ku,B)),x.clear(),O.clear(),S.clear(),_.clear(),k.clear(),g.clear(),b.clear(),c&&c.clear(),j.forEach((function(e){e()}))}function V(e){function n(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(r){n[e+"."+r]=t[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(i){var a=e[i];if(pe.isDynamic(a))r[i]=pe.unbox(a,i);else{if(t&&Array.isArray(a))for(var o=0;o<a.length;++o)if(pe.isDynamic(a[o]))return void(r[i]=pe.unbox(a,i));n[i]=a}})),{dynamic:r,static:n}}ne(!!e,"invalid args to regl({...})"),ne.type(e,"object","invalid args to regl({...})");var i=r(e.context||{},!0),o=r(e.uniforms||{},!0),u=r(e.attributes||{},!1),s=r(n(e),!1),l={gpuTime:0,cpuTime:0,count:0},c=A.compile(s,u,o,i,l),f=c.draw,d=c.batch,h=c.scope,p=[];function v(e){for(;p.length<e;)p.push(null);return p}function m(e,t){var n;if(a&&ne.raise("context lost"),"function"===typeof e)return h.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)h.call(this,null,t,n);else{if(!Array.isArray(e))return h.call(this,e,t,0);for(n=0;n<e.length;++n)h.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return d.call(this,v(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return d.call(this,e,e.length)}}return t(m,{stats:l,destroy:function(){c.destroy()}})}C&&(C.addEventListener(xu,L,!1),C.addEventListener(ku,B,!1));var U=O.setFBO=V({framebuffer:pe.define.call(null,Su,"framebuffer")});function H(e,t){var n=0;A.procs.poll();var i=t.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=bu),"depth"in t&&(r.clearDepth(+t.depth),n|=gu),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=_u),ne(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function W(e){if(ne("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)U(t({framebuffer:e.framebuffer.faces[n]},e),H);else U(e,H);else H(null,e)}function Z(e){function t(){var t=Eu(T,e);function n(){var e=Eu(T,n);T[e]=T[T.length-1],T.length-=1,T.length<=0&&F()}ne(t>=0,"cannot cancel a frame twice"),T[t]=n}return ne.type(e,"function","regl.frame() callback must be a function"),T.push(e),P(),{cancel:t}}function Y(){var e=I.viewport,t=I.scissor_box;e[0]=e[1]=t[0]=t[1]=0,p.viewportWidth=p.framebufferWidth=p.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,p.viewportHeight=p.framebufferHeight=p.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function $(){p.tick+=1,p.time=q(),Y(),A.procs.poll()}function G(){k.refresh(),Y(),A.procs.refresh(),c&&c.update()}function q(){return(me()-f)/1e3}function X(e,t){var n;switch(ne.type(t,"function","listener callback must be a function"),e){case"frame":return Z(t);case"lost":n=M;break;case"restore":n=D;break;case"destroy":n=j;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}G();var Q=t(V,{clear:W,prop:pe.define.bind(null,Su),context:pe.define.bind(null,Ou),this:pe.define.bind(null,Au),draw:V({}),buffer:function(e){return b.create(e,wu,!1,!1)},elements:function(e){return g.create(e,!1)},texture:k.create2D,cube:k.createCube,renderbuffer:S.create,framebuffer:O.create,framebufferCube:O.createCube,vao:_.createVAO,attributes:i,frame:Z,on:X,limits:y,hasExtension:function(e){return y.extensions.indexOf(e.toLowerCase())>=0},read:E,destroy:R,_gl:r,_refresh:G,poll:function(){$(),c&&c.update()},now:q,stats:s});return n.onDone(null,Q),Q}return Iu}();var vf=pf.exports,mf=function(e,t,n,r){return yf[0]=r,yf[1]=n,yf[2]=t,yf[3]=e,bf[0]},yf=new Uint8Array(4),bf=new Float32Array(yf.buffer);var gf=function(){function e(){b(this,e),ii(this,"timer"),ii(this,"transform"),this.transform="arithmetic"}return _(e,[{key:"update",value:function(e,t){if(0===t)return this.value=e,void(void 0!==this.timer&&this.timer.stop());this.start=this.value,this.target=e,this.start_timer(t)}},{key:"start_timer",value:function(e){var t=this;void 0!==this.timer&&this.timer.stop();var n=Fu((function(r){var i=r/e;if(i>=1)return t.value=t.target,void n.stop();var a=1-i,o=i;t.value="geometric"===t.transform?Math.pow(t.start,a)*Math.pow(t.target,o):t.start*a+t.target*o}));this.timer=n}}]),e}(),_f=function(e){x(n,e);var t=Gr(n);function n(){var e;return b(this,n),e=t.call(this),ii(yt(e),"value",1e4),ii(yt(e),"start",1e4),ii(yt(e),"target",1e4),e.transform="geometric",e}return _(n)}(gf),wf=function(e){x(n,e);var t=Gr(n);function n(){var e;return b(this,n),e=t.apply(this,arguments),ii(yt(e),"value",10),ii(yt(e),"start",10),ii(yt(e),"target",10),e}return _(n)}(gf),xf=function(e){x(n,e);var t=Gr(n);function n(){var e;return b(this,n),e=t.call(this),ii(yt(e),"value",2),ii(yt(e),"start",2),ii(yt(e),"target",2),e.transform="geometric",e}return _(n)}(gf),kf=function(){function e(){b(this,e),ii(this,"maxPoints"),ii(this,"targetOpacity"),ii(this,"pointSize"),this.maxPoints=new _f,this.targetOpacity=new wf,this.pointSize=new xf}return _(e,[{key:"apply_prefs",value:function(e){var t=e.duration;this.maxPoints.update(e.max_points,t),this.targetOpacity.update(e.alpha,t),this.pointSize.update(e.point_size,t)}},{key:"max_points",get:function(){return this.maxPoints.value}},{key:"alpha",get:function(){return this.targetOpacity.value}},{key:"point_size",get:function(){return this.pointSize.value}}]),e}(),Sf=function(){function e(t,n,r){b(this,e),ii(this,"scatterplot"),ii(this,"holder"),ii(this,"canvas"),ii(this,"tileSet"),ii(this,"width"),ii(this,"height"),ii(this,"deferred_functions"),ii(this,"_use_scale_to_download_tiles",!0),ii(this,"zoom"),ii(this,"aes"),ii(this,"_zoom"),ii(this,"_initializations"),ii(this,"render_props"),this.scatterplot=r,this.holder=_a(t),this.canvas=_a(this.holder.node().firstElementChild).node(),this.tileSet=n,this.width=+_a(this.canvas).attr("width"),this.height=+_a(this.canvas).attr("height"),this.deferred_functions=[],this._use_scale_to_download_tiles=!0,this.render_props=new kf}return _(e,[{key:"discard_share",get:function(){return 0}},{key:"prefs",get:function(){var e=o({},this.scatterplot.prefs);return e.arrow_table=void 0,e.arrow_buffer=void 0,e}},{key:"alpha",get:function(){return this.render_props.alpha}},{key:"optimal_alpha",get:function(){var e=this.prefs.zoom_balance,t=this.alpha,n=this.point_size,r=this.max_ix,i=this.width,a=this.discard_share,o=this.height,u=this.zoom.transform.k,s=t,l=1/Math.pow(u,2),c=s*(i*o)/(Ra([r,this.tileSet.highest_known_ix||1e10])*(1-a)*l*Math.pow(Math.PI*Math.exp(Math.log(1*u)*e)*n,2));return c>1?1:c<1/255?1/255:c}},{key:"point_size",get:function(){return this.render_props.point_size}},{key:"max_ix",get:function(){var e=this.prefs,t=this.render_props.max_points;if(!this._use_scale_to_download_tiles)return t;var n=this.zoom.transform.k,r=Math.exp(Math.log(n)*e.zoom_balance);return t*n*n/r/r}},{key:"visible_tiles",value:function(){var e,t=this,n=this.max_ix,r=this.tileSet;return(e="x"==this.aes.dim("x").current.field&&"y"==this.aes.dim("y").current.field&&"x"==this.aes.dim("x").last.field&&"y"==this.aes.dim("y").last.field?r.map((function(e){return e})).filter((function(e){return e.is_visible(n,t.zoom.current_corners())})):r.map((function(e){return e})).filter((function(e){return e.min_ix<t.max_ix}))).sort((function(e,t){return e.min_ix-t.min_ix})),e}},{key:"bind_zoom",value:function(e){return this.zoom=e,this}},{key:"initialize",value:function(){var e=$r(Xr().mark((function e(){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Of=1664525,Af=1013904223,Ef=1/4294967296;function If(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random(),t=0|(0<=e&&e<1?e/Ef:Math.abs(e));return function(){return Ef*((t=Of*t+Af|0)>>>0)}}function Cf(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}var Tf=Cf("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Mf=Cf("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Df=Cf("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),jf=Cf("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),zf=Cf("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Nf=Cf("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Pf=Cf("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Ff=Cf("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Lf=Cf("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Bf=Cf("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Rf=function(e){return Ks(e[e.length-1])},Vf=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Cf),Uf=Rf(Vf),Hf=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Cf),Wf=Rf(Hf),Zf=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Cf),Yf=Rf(Zf),$f=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Cf),Gf=Rf($f),qf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Cf),Xf=Rf(qf),Qf=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Cf),Kf=Rf(Qf),Jf=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Cf),ed=Rf(Jf),td=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Cf),nd=Rf(td),rd=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Cf),id=Rf(rd),ad=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Cf),od=Rf(ad),ud=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Cf),sd=Rf(ud),ld=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Cf),cd=Rf(ld),fd=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Cf),dd=Rf(fd),hd=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Cf),pd=Rf(hd),vd=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Cf),md=Rf(vd),yd=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Cf),bd=Rf(yd),gd=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Cf),_d=Rf(gd),wd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Cf),xd=Rf(wd),kd=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Cf),Sd=Rf(kd),Od=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Cf),Ad=Rf(Od),Ed=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Cf),Id=Rf(Ed),Cd=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Cf),Td=Rf(Cd),Md=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Cf),Dd=Rf(Md),jd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Cf),zd=Rf(jd),Nd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Cf),Pd=Rf(Nd),Fd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Cf),Ld=Rf(Fd),Bd=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Cf),Rd=Rf(Bd);var Vd=gl(Ws(300,.5,0),Ws(-240,.5,1)),Ud=gl(Ws(-100,.75,.35),Ws(80,1.5,.8)),Hd=gl(Ws(260,.75,.35),Ws(80,1.5,.8)),Wd=Ws();var Zd=_s(),Yd=Math.PI/3,$d=2*Math.PI/3;function Gd(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var qd=Gd(Cf("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Xd=Gd(Cf("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Qd=Gd(Cf("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Kd=Gd(Cf("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Jd=Object.freeze(Object.defineProperty({__proto__:null,schemeCategory10:Tf,schemeAccent:Mf,schemeDark2:Df,schemePaired:jf,schemePastel1:zf,schemePastel2:Nf,schemeSet1:Pf,schemeSet2:Ff,schemeSet3:Lf,schemeTableau10:Bf,interpolateBrBG:Uf,schemeBrBG:Vf,interpolatePRGn:Wf,schemePRGn:Hf,interpolatePiYG:Yf,schemePiYG:Zf,interpolatePuOr:Gf,schemePuOr:$f,interpolateRdBu:Xf,schemeRdBu:qf,interpolateRdGy:Kf,schemeRdGy:Qf,interpolateRdYlBu:ed,schemeRdYlBu:Jf,interpolateRdYlGn:nd,schemeRdYlGn:td,interpolateSpectral:id,schemeSpectral:rd,interpolateBuGn:od,schemeBuGn:ad,interpolateBuPu:sd,schemeBuPu:ud,interpolateGnBu:cd,schemeGnBu:ld,interpolateOrRd:dd,schemeOrRd:fd,interpolatePuBuGn:pd,schemePuBuGn:hd,interpolatePuBu:md,schemePuBu:vd,interpolatePuRd:bd,schemePuRd:yd,interpolateRdPu:_d,schemeRdPu:gd,interpolateYlGnBu:xd,schemeYlGnBu:wd,interpolateYlGn:Sd,schemeYlGn:kd,interpolateYlOrBr:Ad,schemeYlOrBr:Od,interpolateYlOrRd:Id,schemeYlOrRd:Ed,interpolateBlues:Td,schemeBlues:Cd,interpolateGreens:Dd,schemeGreens:Md,interpolateGreys:zd,schemeGreys:jd,interpolatePurples:Pd,schemePurples:Nd,interpolateReds:Ld,schemeReds:Fd,interpolateOranges:Rd,schemeOranges:Bd,interpolateCividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},interpolateCubehelixDefault:Vd,interpolateRainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Wd.h=360*e-100,Wd.s=1.5-1.5*t,Wd.l=.8-.9*t,Wd+""},interpolateWarm:Ud,interpolateCool:Hd,interpolateSinebow:function(e){var t;return e=(.5-e)*Math.PI,Zd.r=255*(t=Math.sin(e))*t,Zd.g=255*(t=Math.sin(e+Yd))*t,Zd.b=255*(t=Math.sin(e+$d))*t,Zd+""},interpolateTurbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},interpolateViridis:qd,interpolateMagma:Xd,interpolateInferno:Qd,interpolatePlasma:Kd},Symbol.toStringTag,{value:"Module"}));function eh(e){return void 0!==e.op}function th(e){return void 0!==e.constant}var nh={sqrt:function(){return of.apply(null,arguments).exponent(.5)},log:function e(){var t=ef(Ic()).domain([1,10]);return t.copy=function(){return Ec(t,e()).base(t.base())},yc.apply(t,arguments),t},linear:$c,literal:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,wc),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,wc):[0,1],Yc(r)}},rh=4096;function ih(e){var t=new Uint8Array(16384);return t.set(e.flat()),t}function ah(e){var t=Ha(rh).map((function(t){var n=_s(e(t/rh));return[n.r,n.g,n.b,255]}));return ih(t)}for(var oh={white:ih(Ha(rh).map((function(){return[.5,.5,.5,.5]})))},uh={},sh=0,lh=Object.entries(Jd);sh<lh.length;sh++){var ch=l(lh[sh],2),fh=ch[0],dh=ch[1];if(fh.startsWith("scheme")&&"string"===typeof dh[0]){var hh,ph=Array(rh),vh=dh.map((function(e){var t=_s(e);return[t.r,t.g,t.b,255]})),mh=Qr(Ha(rh));try{for(mh.s();!(hh=mh.n()).done;){ph[ux=hh.value]=vh[ux%dh.length]}}catch(Lk){mh.e(Lk)}finally{mh.f()}var yh=fh.replace("scheme","").toLowerCase();oh[yh]=ih(ph),uh[yh]=dh}if(fh.startsWith("interpolate")){var bh=fh.replace("interpolate","").toLowerCase();if(oh[bh]=ah(dh),"rainbow"===bh){var gh=Wa(If(1));oh.shufbow=gh(oh[bh])}}}!function(){var e,t=["#E69F00","#CC79A7","#56B4E9","#009E73","#0072B2","#D55E00","#F0E442"],n=Array.from({length:rh}),r=t.map((function(e){var t=_s(e);return[t.r,t.g,t.b,255]})),i=Qr(Ha(rh));try{for(i.s();!(e=i.n()).done;){var a=e.value;n[a]=r[a%t.length]}}catch(Lk){i.e(Lk)}finally{i.f()}oh.okabe=ih(n),uh.okabe=t}();var _h=function(){function e(t,n,r,i){if(b(this,e),ii(this,"scatterplot"),ii(this,"field",null),ii(this,"regl"),ii(this,"_texture_buffer",null),ii(this,"_domain"),ii(this,"_range"),ii(this,"_transform"),ii(this,"dataset"),ii(this,"partner",null),ii(this,"_textures",{}),ii(this,"_constant"),ii(this,"_scale",(function(e){return 1})),ii(this,"current_encoding"),ii(this,"aesthetic_map"),ii(this,"id"),ii(this,"_domains"),this.aesthetic_map=i,void 0===this.aesthetic_map)throw new Error("Aesthetic map is undefined");this.scatterplot=t,this.regl=n,this._domain=this.default_domain,this._range=[0,1],this.dataset=r,this._domains={},this.id=""+Math.random(),this.current_encoding={constant:1}}return _(e,[{key:"apply",value:function(e){return this.scale(this.value_for(e))}},{key:"transform",get:function(){return this._transform?this._transform:this.default_transform},set:function(e){this._transform=e}},{key:"scale",get:function(){var e,t=nh[this.transform]().domain(this.domain).range(this.range),n=this.range;if("string"==typeof n){var r=Jd["interpolate"+(e=n,"ylorrd"===e?"YlOrRd":e.charAt(0).toUpperCase()+e.slice(1))];if(void 0!==r)return"sqrt"===this.transform?ff(r).exponent(.5).domain(this.domain):"log"===this.transform?cf(r).domain(this.domain):lf(r).domain(this.domain)}if(this.is_dictionary())if(t=_c().domain(this.domain),"string"===typeof n&&uh[n]){if(null===this.column.data[0].dictionary)throw new Error("Dictionary is null");t.range(uh[n]).domain(this.column.data[0].dictionary.toArray())}else t.range(this.range);return t}},{key:"column",get:function(){if(null===this.field)throw new Error("Can't retrieve column for aesthetic without a field");if(this.dataset.root_tile.record_batch){var e=this.dataset.root_tile.record_batch.getChild(this.field);if(void 0===e||null===e)throw new Error("Can't find column "+this.field);return e}throw new Error("Table is null")}},{key:"default_domain",get:function(){if(void 0==this.field)return[1,1];if(this._domains[this.field])return this._domains[this.field];if(!this.dataset.ready)return[1,1];var e=this.column;return e?(e.type.dictionary?this._domains[this.field]=[0,this.aesthetic_map.texture_size-1]:this._domains[this.field]=Ca(e.toArray()),console.log("Inferring range of "+this.field+" to be "+this._domains[this.field]),this._domains[this.field]):[1,1]}},{key:"default_data",value:function(){return Array(this.aesthetic_map.texture_size).fill(this.default_constant)}},{key:"domain",get:function(){return this._domain||this.default_domain}},{key:"range",get:function(){return this._range||this.default_range}},{key:"value_for",value:function(e){return null===this.field?this.default_constant:e[this.field]}},{key:"map_position",get:function(){return 0===this.use_map_on_regl?0:this.aesthetic_map.get_position(this.id)}},{key:"texture_buffer",get:function(){return this._texture_buffer||(this._texture_buffer=new Float32Array(this.aesthetic_map.texture_size),this._texture_buffer.set(this.default_data())),this._texture_buffer}},{key:"post_to_regl_buffer",value:function(){this.aesthetic_map.set_one_d(this.id,this.texture_buffer)}},{key:"convert_string_encoding",value:function(e){return{field:e,domain:this.default_domain,range:this.default_range}}},{key:"complete_domain",value:function(e){return e.domain=e.domain||this.default_domain,e}},{key:"custom",value:function(e){var t,n=e,r=new Array(rh),i=n.map((function(e){var t=_s(e);return[t.r,t.g,t.b,255]})),a=Qr(Ha(rh));try{for(a.s();!(t=a.n()).done;){var o=t.value;r[o]=i[o%n.length]}}catch(Lk){a.e(Lk)}finally{a.f()}oh.custom=ih(r),uh.custom=n}},{key:"reset_to_defaults",value:function(){this._domain=this.default_domain,this._range=[0,1],this._transform=void 0,this._constant=this.default_constant,this.field=null,this.current_encoding={constant:this.default_constant}}},{key:"update",value:function(e){var t=this;if("null"===e&&(e=null),null===e)return this.current_encoding={constant:this.default_constant},void this.reset_to_defaults();if(void 0!==e)if("string"===typeof e&&(e=this.convert_string_encoding(e)),"object"===typeof e)if(0!==Object.keys(e).length){var n,r;if(e.domain&&"string"===typeof e.domain&&"progressive"===e.domain)!function(){var i=[t.dataset.root_tile],a=[].concat(i);if(t.dataset.root_tile.children.length>0){for(var o=function(){if(0===a.length)return"break";var e=[];a.map((function(t,n){t.children.length>0&&(i.push.apply(i,t.children),e.push.apply(e,t.children))})),a=e};;){if("break"===o())break}n=i[0].record_batch.getChild(e.field).data[0].values[0],r=n,i.forEach((function(t,i){t.record_batch.getChild(e.field).data[0].values.forEach((function(e,t){e<n&&(n=e),e>r&&(r=e)}))})),console.warn("deprecated code"),e.domain=[n,r]}}();if(this.current_encoding=e,!th(e)&&(this.field=e.field,!eh(e)))if(void 0===e.lambda){void 0===e.domain&&(e.domain=this.default_domain),e.range&&(this._domain=e.domain,this._range=e.range),this._transform=e.transform||void 0}else{var i=e,a=i.lambda,o=i.field;a?(this.apply_function_for_textures(o,this.domain,a),this.post_to_regl_buffer()):e.range&&(this.encode_for_textures(this.range),this.post_to_regl_buffer())}}else this.reset_to_defaults();else{var u={constant:e};this.current_encoding=u}}},{key:"encode_for_textures",value:function(e){var t=this.aesthetic_map.texture_size,n=Array(t);this.scaleFunc=nh[this.transform]().range(e).domain([0,t-1]);for(var r=0;r<t;r+=1)n[r]=this.scaleFunc(r)}},{key:"arrow_column",value:function(){if(null===this.field)throw new Error("Can't retrieve column for aesthetic without a field");var e=this.dataset.root_tile.record_batch.getChild(this.field);if(null===e)throw"No column ".concat(this.field," on arrow table for aesthetic");return e}},{key:"is_dictionary",value:function(){return null!==this.field&&void 0!==this.field&&void 0!==this.arrow_column().type.dictionary}},{key:"constant",get:function(){return th(this.current_encoding)?this.current_encoding.constant:this.default_constant}},{key:"use_map_on_regl",get:function(){return this.is_dictionary()&&-2047===this.domain[0]&&2047==this.domain[1]?1:0}},{key:"apply_function_for_textures",value:function(e,t,n){var r,i=this,a=this.aesthetic_map.texture_size;r="string"===typeof n?function(e){if("function"===typeof e.lambda)throw"Must pass a string to lambda, not a function.";var t=e.lambda;if(void 0===e.field)throw"Must pass a field to lambda.";var n=Yh(t).lambda.split("=>",2).map((function(e){return e.trim()})),r=l(n,2),i=r[0],a=r[1];return new Function(i,a)}(Yh(n)):n,this.scaleFunc=$c().range(t).domain([0,a-1]);var o=Ha(a);if(void 0===e||void 0===this.dataset.root_tile.record_batch)return void 0===e&&console.warn("SETTING EMPTY FIELD"),void 0===this.dataset.root_tile.record_batch&&console.warn("SETTING EMPTY TABLE"),void this.texture_buffer.set(Ha(a).map((function(e){return 1})));var u=this.column;if(!u)throw new Error("Column ".concat(e," does not exist on table."));if(u.type.dictionary){o.fill();var s,c=Qr(u.data[0].dictionary.toArray().entries());try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),d=f[0],h=f[1];o[d]=h}}catch(Lk){c.e(Lk)}finally{c.f()}}else o=o.map((function(e){return i.scale(e)}));var p=o.map((function(e){return r(e)}));this.texture_buffer.set(p)}}]),e}(),wh=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"default_domain",get:function(){return[0,1]}}],[{key:"default_constant",get:function(){return 1.5}},{key:"get_default_domain",value:function(){return[0,1]}}]),n}(_h),xh=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(_h),kh=function(e){x(n,e);var t=Gr(n);function n(){var e;return b(this,n),e=t.apply(this,arguments),ii(yt(e),"default_constant",1),ii(yt(e),"default_transform","sqrt"),e}return _(n,[{key:"default_domain",get:function(){return[0,10]}},{key:"default_range",get:function(){return[0,1]}}],[{key:"default_constant",get:function(){return 1.5}},{key:"get_default_domain",value:function(){return[0,10]}}]),n}(wh),Sh=function(e){x(n,e);var t=Gr(n);function n(e,r,i,a){var o;return b(this,n),o=t.call(this,e,r,i,a),ii(yt(o),"default_range",[-1,1]),ii(yt(o),"default_constant",0),ii(yt(o),"default_transform","literal"),o._transform="literal",o}return _(n,[{key:"range",get:function(){return this._range?this._range:this.dataset.extent&&this.dataset.extent[this.field]?this.dataset.extent[this.field]:void this.default_range}}],[{key:"default_constant",get:function(){return 0}}]),n}(wh),Oh=function(e){x(n,e);var t=Gr(n);function n(){var e;return b(this,n),e=t.apply(this,arguments),ii(yt(e),"field","x"),e}return _(n)}(Sh),Ah=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(Oh),Eh=function(e){x(n,e);var t=Gr(n);function n(){var e;return b(this,n),e=t.apply(this,arguments),ii(yt(e),"field","y"),e}return _(n)}(Sh),Ih=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(Eh),Ch=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(function(e){x(n,e);var t=Gr(n);function n(e,r,i,a){var o;return b(this,n),o=t.call(this,e,r,i,a),ii(yt(o),"current_encoding"),ii(yt(o),"default_transform","literal"),ii(yt(o),"default_constant",1),ii(yt(o),"default_range",[0,1]),o.current_encoding={constant:1},o}return _(n,[{key:"default_domain",get:function(){return[0,1]}},{key:"update",value:function(e){Bt(gt(n.prototype),"update",this).call(this,e),0===Object.keys(this.current_encoding).length&&(this.current_encoding={constant:1})}},{key:"ops_to_array",value:function(){var e=this.current_encoding;return null===e||void 0===e?[0,0,0]:eh(e)?"within"===e.op?[4,e.a,e.b]:[[null,"lt","gt","eq"].indexOf(e.op),e.a,0]:[0,0,0]}}]),n}(xh)),Th=function(e){x(n,e);var t=Gr(n);function n(){var e;return b(this,n),e=t.apply(this,arguments),ii(yt(e),"default_transform","linear"),ii(yt(e),"default_range",[0,1]),ii(yt(e),"default_constant",.5),e}return _(n,[{key:"default_domain",get:function(){return[0,1]}}]),n}(_h);var Mh=function(e){x(n,e);var t=Gr(n);function n(){var e;return b(this,n),e=t.apply(this,arguments),ii(yt(e),"jitter_int_formatted",0),ii(yt(e),"default_transform","linear"),ii(yt(e),"_method","None"),e}return _(n,[{key:"default_constant",get:function(){return 0}},{key:"default_domain",get:function(){return[0,1]}},{key:"default_range",get:function(){return[0,1]}},{key:"method",get:function(){return this.current_encoding&&this.current_encoding.method?this.current_encoding.method:"None"},set:function(e){this._method=e}},{key:"jitter_int_format",get:function(){return"spiral"===(e=this.method)?1:"uniform"===e?2:"normal"===e?3:"circle"===e?4:"time"===e?5:0;var e}}]),n}(_h),Dh=[.7,0,.5],jh=function(e){x(n,e);var t=Gr(n);function n(){var e;return b(this,n),e=t.apply(this,arguments),ii(yt(e),"texture_type","uint8"),ii(yt(e),"default_constant",[.7,0,.5]),ii(yt(e),"default_transform","linear"),ii(yt(e),"current_encoding",{constant:Dh}),e}return _(n,[{key:"default_range",get:function(){return[0,1]}},{key:"default_data",value:function(){return oh.viridis}},{key:"use_map_on_regl",get:function(){return 1}},{key:"texture_buffer",get:function(){return this._texture_buffer||(this._texture_buffer=new Uint8Array(4*this.aesthetic_map.texture_size),this._texture_buffer.set(this.default_data())),this._texture_buffer}},{key:"post_to_regl_buffer",value:function(){this.aesthetic_map.set_color(this.id,this.texture_buffer)}},{key:"update",value:function(e){console.log("UPDATING COLOR"),th(e)&&"string"===typeof e.constant&&(e.constant=n.convert_color(e.constant)),Bt(gt(n.prototype),"update",this).call(this,e),this.current_encoding=e,e.range&&"string"===typeof e.range[0]?(console.log("encoding to buffer"),this.encode_for_textures(e.range),this.post_to_regl_buffer()):e.range&&this.post_to_regl_buffer()}},{key:"encode_for_textures",value:function(e){if(oh[e])this.texture_buffer.set(oh[e]);else if(e.length===4*this.aesthetic_map.texture_size)this.texture_buffer.set(e);else if(e.length>0&&e[0].length>0&&3===e[0].length){var t=Ha(rh).map((function(t){var n=l(e[t%e.length],3);return[n[0],n[1],n[2],255]}));this.texture_buffer.set(t.flat())}else console.warn("request range of ".concat(e," for color ").concat(this.field," unknown"))}}],[{key:"convert_color",value:function(e){var t=_s(e);return[t.r/255,t.g/255,t.b/255]}}]),n}(_h),zh=function(){function e(t,n,r,i){if(b(this,e),ii(this,"_states"),ii(this,"dataset"),ii(this,"regl"),ii(this,"scatterplot"),ii(this,"needs_transitions",!1),ii(this,"aesthetic_map"),void 0===i)throw new Error("Aesthetic map is undefined.");this.scatterplot=t,this.regl=n,this.dataset=r,this.aesthetic_map=i,this.aesthetic_map=i}return _(e,[{key:"current",get:function(){return this.states[0]}},{key:"last",get:function(){return this.states[1]}},{key:"states",get:function(){return void 0!==this._states||(this._states=[new this.Factory(this.scatterplot,this.regl,this.dataset,this.aesthetic_map),new this.Factory(this.scatterplot,this.regl,this.dataset,this.aesthetic_map)]),this._states}},{key:"update",value:function(e){JSON.stringify(e)==JSON.stringify(this.states[0].current_encoding)||void 0===e?(this.needs_transitions&&this.states[1].update(this.states[0].current_encoding),this.needs_transitions=!1):(this.states.reverse(),this.states[0].update(e),this.needs_transitions=!0)}}]),e}(),Nh=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"Factory",get:function(){return Oh}}]),n}(zh),Ph=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"Factory",get:function(){return Ah}}]),n}(zh),Fh=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"Factory",get:function(){return Eh}}]),n}(zh),Lh=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"Factory",get:function(){return Ih}}]),n}(zh),Bh=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"Factory",get:function(){return kh}}]),n}(zh),Rh=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"Factory",get:function(){return Th}}]),n}(zh),Vh=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"Factory",get:function(){return Mh}}]),n}(zh),Uh=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"Factory",get:function(){return jh}}]),n}(zh),Hh=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"Factory",get:function(){return Ch}}]),n}(zh),Wh=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"Factory",get:function(){return Ch}}]),n}(zh),Zh={x:Nh,x0:Ph,y:Fh,y0:Lh,size:Bh,jitter_speed:Rh,jitter_radius:Vh,color:Uh,filter:Hh,filter2:Wh};function Yh(e){var t=l(e.split("=>").map((function(e){return e.trim()})),2),n=t[0],r=t[1];if(void 0===r)throw"Couldn't parse ".concat(e," into a function");return"{"!==r.slice(0,1)&&"return"!==r.slice(0,6)&&(r="return ".concat(r)),{field:n,lambda:"".concat(n," => ").concat(r)}}var $h=function(e){function t(e,n,r){return b(this,t),ii(this,"tileSet"),ii(this,"scatterplot"),ii(this,"regl"),ii(this,"encoding"),ii(this,"position_interpolation"),ii(this,"store"),ii(this,"aesthetic_map"),this.scatterplot=e,this.store={},this.regl=n,this.tileSet=r,this.position_interpolation=!1,this.aesthetic_map=new Gh(this.regl),this}return _(t,[{key:"dim",value:function(e){if(this.store[e])return this.store[e];if(void 0!==Zh[e])return this.store[e]=new Zh[e](this.scatterplot,this.regl,this.tileSet,this.aesthetic_map),this.store[e];throw new Error("Unknown aesthetic ".concat(e))}},{key:Symbol.iterator,value:Xr().mark((function e(){var t,n,r,i,a;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=Object.entries(this.store);case 1:if(!(t<n.length)){e.next=8;break}return r=l(n[t],2),i=r[0],a=r[1],e.next=5,[i,a];case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"interpret_position",value:function(e){if(e){e.x0||e.position0?this.position_interpolation=!0:(e.x||e.position)&&(this.position_interpolation=!1);for(var t=0,n=["position","position0"];t<n.length;t++){var r=n[t],i=r.replace("position","");if(e[r]){if("literal"===e[r])e["x".concat(i)]={field:"x",transform:"literal"},e["y".concat(i)]={field:"y",transform:"literal"};else{var a=e[r];e["x".concat(i)]={field:"".concat(a,".x"),transform:"literal"},e["y".concat(i)]={field:"".concat(a,".y"),transform:"literal"}}delete e[r]}}}delete e.position,delete e.position0}},{key:"apply_encoding",value:function(e){if(void 0===e&&(e={}),e.filter1)throw new Error('filter1 is not supported; just say "filter"');this.interpret_position(e);for(var t=0,n=Object.keys(Zh);t<n.length;t++){var r=n[t];this.dim(r).update(e[r])}}}]),t}(),Gh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;b(this,e),ii(this,"_one_d_texture"),ii(this,"_color_texture"),ii(this,"texture_size"),ii(this,"regl"),ii(this,"id_locs",{}),ii(this,"texture_widths"),ii(this,"offsets",{}),ii(this,"_one_d_position"),ii(this,"_color_position"),this.texture_size=n,this.texture_widths=r,this.regl=t,this._one_d_position=1,this._color_position=-1}return _(e,[{key:"get_position",value:function(e){return this.offsets[e]||0}},{key:"set_one_d",value:function(e,t){var n,r=this.offsets;r[e]?n=r[e]:(n=this._one_d_position++,r[e]=n),this.one_d_texture.subimage({data:t,width:1,height:this.texture_size},n-1,0)}},{key:"set_color",value:function(e,t){var n,r=this.offsets;r[e]?n=r[e]:(n=this._color_position--,r[e]=n),this.color_texture.subimage({data:t,width:1,height:this.texture_size},-n-1,0)}},{key:"one_d_texture",get:function(){if(this._one_d_texture)return this._one_d_texture;var e=this.regl.hasExtension("OES_texture_float")?"float":this.regl.hasExtension("OES_texture_half_float")?"half float":"uint8",t="uint8"===e?"rgba":"alpha",n={width:this.texture_widths,height:this.texture_size,type:e,format:t};return this._one_d_texture=this.regl.texture(n),this._one_d_texture}},{key:"color_texture",get:function(){return this._color_texture||(this._color_texture=this.regl.texture({width:this.texture_widths,height:this.texture_size,type:"uint8",format:"rgba"})),this._color_texture}}]),e}(),qh=function(e){x(n,e);var t=Gr(n);function n(e,r,i){var a;b(this,n),a=t.call(this,e,r,i),ii(yt(a),"regl"),ii(yt(a),"aes"),ii(yt(a),"buffer_size",67108864),ii(yt(a),"_buffers"),ii(yt(a),"_initializations"),ii(yt(a),"tileSet"),ii(yt(a),"zoom"),ii(yt(a),"_zoom"),ii(yt(a),"_start"),ii(yt(a),"most_recent_restart"),ii(yt(a),"_default_webgl_scale"),ii(yt(a),"_webgl_scale_history"),ii(yt(a),"_renderer"),ii(yt(a),"_use_scale_to_download_tiles",!0),ii(yt(a),"sprites"),ii(yt(a),"fbos",{}),ii(yt(a),"textures",{}),ii(yt(a),"_fill_buffer"),ii(yt(a),"contour_vals"),ii(yt(a),"tick_num"),ii(yt(a),"reglframe"),ii(yt(a),"aes_to_buffer_num"),ii(yt(a),"variable_to_buffer_num"),ii(yt(a),"buffer_num_to_variable");var o=a.canvas;if(void 0===a.canvas)throw new Error("No canvas found");return a.regl=vf({optionalExtensions:["OES_standard_derivatives","OES_element_index_uint","OES_texture_float","OES_texture_half_float"],canvas:o}),a.tileSet=r,a.aes=new $h(i,a.regl,r),a.initialize_textures(),a._initializations=[a.tileSet.promise.then((function(){a.remake_renderer(),a._webgl_scale_history=[a.default_webgl_scale,a.default_webgl_scale]}))],a.initialize(),a._buffers=new Qh(a.regl,a.buffer_size),a}return _(n,[{key:"buffers",get:function(){return this._buffers=this._buffers||new Qh(this.regl,this.buffer_size),this._buffers}},{key:"data",value:function(e){return void 0===e?this.tileSet:(this.tileSet=e,this)}},{key:"props",get:function(){this.allocate_aesthetic_buffers();var e=this.prefs,t=this.aes_to_buffer_num,n=this.buffer_num_to_variable,r=this.variable_to_buffer_num,i=this.zoom.transform,a={aes:{encoding:this.aes.encoding},colors_as_grid:0,corners:this.zoom.current_corners(),zoom_balance:e.zoom_balance,transform:i,max_ix:this.max_ix,point_size:this.point_size,alpha:this.optimal_alpha,time:Date.now()-this.zoom._start,update_time:Date.now()-this.most_recent_restart,relative_time:(Date.now()-this.most_recent_restart)/e.duration,string_index:0,prefs:JSON.parse(JSON.stringify(e)),color_type:void 0,start_time:this.most_recent_restart,webgl_scale:this._webgl_scale_history[0],last_webgl_scale:this._webgl_scale_history[1],use_scale_for_tiles:this._use_scale_to_download_tiles,grid_mode:0,buffer_num_to_variable:n,aes_to_buffer_num:t,variable_to_buffer_num:r,color_picker_mode:0,zoom_matrix:[[i.k,0,i.x],[0,i.k,i.y],[0,0,1]].flat()};return JSON.parse(JSON.stringify(a))}},{key:"default_webgl_scale",get:function(){return this._default_webgl_scale||(this._default_webgl_scale=this.zoom.webgl_scale()),this._default_webgl_scale}},{key:"render_points",value:function(e){var t,n=[],r=Qr(this.visible_tiles());try{for(r.s();!(t=r.n()).done;){var i=t.value,a=new Xh(this.regl,i,this);if(a.ready(e.prefs,e.block_for_buffers)){var o={manager:a,tile_id:i.numeric_id,sprites:this.sprites};Object.assign(o,e),n.push(o)}}}catch(Lk){r.e(Lk)}finally{r.f()}n.reverse(),this._renderer(n)}},{key:"tick",value:function(){var e=this.prefs,t=this.regl,n=this.tileSet,r=this.props;this.tick_num=this.tick_num||0,this.tick_num++,this._use_scale_to_download_tiles?n.download_most_needed_tiles(this.zoom.current_corners(),this.props.max_ix):n.download_most_needed_tiles(e.max_points),t.clear({color:[.9,.9,.93,0],depth:1});for(var i=Date.now(),a=function(){};Date.now()-i<10&&this.deferred_functions.length>0;){a=this.deferred_functions.shift();try{a()}catch(o){console.warn(o,a)}}try{this.render_all(r)}catch(o){throw console.warn("ERROR NOTED"),this.reglframe.cancel(),o}}},{key:"single_blur_pass",value:function(e,t,n){var r=this.regl;t.use((function(){r.clear({color:[0,0,0,0]}),r({frag:"precision mediump float;\n#define GLSLIFY 1\n\nvec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.411764705882353) * direction;\n  vec2 off2 = vec2(3.2941176470588234) * direction;\n  vec2 off3 = vec2(5.176470588235294) * direction;\n  color += texture2D(image, uv) * 0.1964825501511404;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n  color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n  return color;\n}\n\nuniform vec2 iResolution;\nuniform sampler2D iChannel0;\nuniform vec2 direction;\n\nvoid main() {\n  vec2 uv = vec2(gl_FragCoord.xy / iResolution.xy);\n  gl_FragColor = blur13(iChannel0, uv, iResolution.xy, direction);\n}\n",uniforms:{iResolution:function(e){return[e.viewportWidth,e.viewportHeight]},iChannel0:e,direction:n},vert:"\n        precision mediump float;\n        attribute vec2 position;\n        varying vec2 uv;\n        void main() {\n          uv = 0.5 * (position + 1.0);\n          gl_Position = vec4(position, 0, 1);\n        }",attributes:{position:[-4,-4,4,-4,0,4]},depth:{enable:!1},count:3})()}))}},{key:"blur",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=n-1;r>-1;)this.single_blur_pass(e,t,[Math.pow(2,r),0]),this.single_blur_pass(t,e,[0,Math.pow(2,r)]),r-=1}},{key:"render_all",value:function(e){var t=this,n=this.regl;this.fbos.points.use((function(){n.clear({color:[0,0,0,0]}),t.render_points(e)})),n.clear({color:[0,0,0,0]}),this.fbos.lines.use((function(){return n.clear({color:[0,0,0,0]})})),this.scatterplot.trimap&&this.fbos.lines.use((function(){t.scatterplot.trimap.zoom=t.zoom,t.scatterplot.trimap.tick("polygon")}));for(var r=function(){var e=a[i];n({profile:!0,blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},frag:"\n        precision mediump float;\n        varying vec2 uv;\n        uniform sampler2D tex;\n        uniform float wRcp, hRcp;\n        void main() {\n          gl_FragColor = texture2D(tex, uv);\n        }\n      ",vert:"\n        precision mediump float;\n        attribute vec2 position;\n        varying vec2 uv;\n        void main() {\n          uv = 0.5 * (position + 1.0);\n          gl_Position = vec4(position, 0., 1.);\n        }\n      ",attributes:{position:t.fill_buffer},depth:{enable:!1},count:3,uniforms:{tex:function(){return e},wRcp:function(e){return 1/e.viewportWidth},hRcp:function(e){return 1/e.viewportHeight}}})()},i=0,a=[this.fbos.lines,this.fbos.points];i<a.length;i++)r()}},{key:"initialize_textures",value:function(){var e=this.regl;this.fbos=this.fbos||{},this.textures=this.textures||{},this.textures.empty_texture=e.texture(Ha(128).map((function(e){return Ha(128).map((function(e){return[0,0,0]}))}))),this.fbos.minicounter=e.framebuffer({width:512,height:512,depth:!1}),this.fbos.lines=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.points=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.ping=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.pong=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.contour=this.fbos.contour||e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.colorpicker=this.fbos.colorpicker||e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.dummy=this.fbos.dummy||e.framebuffer({width:1,height:1,depth:!1})}},{key:"get_image_texture",value:function(e){var t=this,n=this.regl;if(this.textures=this.textures||{},this.textures[e])return this.textures[e];var r=new Image;return r.src=e,r.addEventListener("load",(function(){t.textures[e]=n.texture(r)})),this.textures[e]}},{key:"n_visible",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=this.width,r=this.height;n=Math.floor(n),r=Math.floor(r),void 0===this.contour_vals&&(this.contour_vals=new Uint8Array(n*r*4));var i,a=this.props;return a.only_color=t,this.fbos.contour.use((function(){e.regl.clear({color:[0,0,0,0]}),e.render_points(a),e.regl.read(e.contour_vals),i=Za(e.contour_vals)})),i}},{key:"integer_buffer",get:function(){if(void 0===this._integer_buffer){for(var e=new Float32Array(Math.pow(2,16)),t=0;t<Math.pow(2,16);t++)e[t]=t;this._integer_buffer=this.regl.buffer(e)}return this._integer_buffer}},{key:"color_pick",value:function(e,t){var n,r=this.color_pick_single(e,t,"tile_id"),i=this.color_pick_single(e,t,"ix_in_tile"),a=Qr(this.visible_tiles());try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.numeric_id===r)return o.record_batch.get(i)}}catch(Lk){a.e(Lk)}finally{a.f()}}},{key:"color_pick_single",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tile_id",i=this.props,a=this.height;i.color_picker_mode=["ix","tile_id","ix_in_tile"].indexOf(r)+1;var o=[0,0,0,0];this.fbos.colorpicker.use((function(){n.regl.clear({color:[0,0,0,0]}),n.render_points(i);try{o=n.regl.read({x:e,y:a-t,width:1,height:1})}catch(r){console.warn("Read bad data from",{x:e,y:t,height:a,attempted:a-t})}}));var u=mf.apply(void 0,be(o))-1,s=Math.round(u);return s}},{key:"fill_buffer",get:function(){if(!this._fill_buffer){var e=this.regl;this._fill_buffer=e.buffer({data:[-4,-4,4,-4,0,4]})}return this._fill_buffer}},{key:"draw_contour_buffer",value:function(e,t){var n=this,r=this.width,i=this.height;r=Math.floor(r),i=Math.floor(i),this.contour_vals=this.contour_vals||new Uint8Array(4*r*i),this.contour_alpha_vals=this.contour_alpha_vals||new Uint16Array(r*i);var a=this.props;a.aes.encoding.color={field:e},a.only_color=t,this.fbos.contour.use((function(){n.regl.clear({color:[0,0,0,0]}),n.render_points(a),n.regl.read(n.contour_vals)})),this.blur(this.fbos.contour,this.fbos.ping,3),this.fbos.contour.use((function(){n.regl.read(n.contour_vals)}));for(var o=0;o<r*i*4;)this.contour_alpha_vals[o/4]=255*this.contour_vals[o+3],o+=4;return this.contour_alpha_vals}},{key:"remake_renderer",value:function(){var e,t=this,n=this.regl,r={depth:{enable:!1},stencil:{enable:!1},blend:{enable:function(e,t){return t.color_picker_mode<.5},func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},primitive:"points",frag:"#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fill;\nvarying vec2 letter_pos;\nvarying float point_size;\n\nuniform float u_only_color;\nuniform float u_color_picker_mode;\n//uniform float u_use_glyphset;\n//uniform sampler2D u_glyphset;\n\nfloat delta = 0.0, alpha = 1.0;\n\nbool out_of_circle(in vec2 coord) {\n  vec2 cxy = 2.0 * coord - 1.0;\n  float r_sq = dot(cxy, cxy);\n  if (r_sq > 1.03) {return true;}\n  return false;\n}\n\nbool out_of_hollow_circle(in vec2 coord) {\n  vec2 cxy = 2.0 * coord - 1.0;\n  float r_sq = dot(cxy, cxy);\n  if (r_sq > 1.01) {return true;}\n  float distance_from_edge = (1.0 - r_sq) * point_size;\n  if (distance_from_edge > 4.0) {return true;}\n  return false;\n}\n\nbool out_of_triangle(in vec2 coord) {\n  if (coord.y > (2. * abs(coord.x - .5))) {\n    return false;\n  }\n  return true;\n}\n\nvoid main() {\n  if (u_only_color >= -1.5) {\n    gl_FragColor = vec4(0., 0., 0., 1./255.);\n    return;\n  }\n\n  float alpha = fill.a;\n//  if (u_use_glyphset == 0. || point_size < 5.0) {\n    if (out_of_circle(gl_PointCoord)) {\n      discard;\n      return;\n    }\n    vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n    float r = dot(cxy, cxy);\n    #ifdef GL_OES_standard_derivatives\n      delta = fwidth(r);\n      alpha *= (1.0 - smoothstep(1.0 - delta, 1.0 + delta, r));\n    #endif\n/*  } else {\n    vec2 coords = letter_pos + gl_PointCoord/8.;\n//    vec2 coords = vec2(.2, .2);\n    vec4 sprite = texture2D(u_glyphset, coords);\n    alpha *= (sprite.a);  \n//    fill = vec4(1.0, 1.0, 1.0, alpha);  \n    if (alpha <= 0.03) discard;\n  }*/\n  // Pre-blend the alpha channel.\n  if (u_color_picker_mode >= 1.) {\n    // no alpha when color picking; we use all four channels for that.\n    gl_FragColor = fill;\n  } else {\n    gl_FragColor = vec4(fill.rgb * alpha, alpha);\n  }\n\n}\n",vert:'precision mediump float;\n#define GLSLIFY 1\n\nuniform float u_zoom_balance;\nuniform float u_tile_id;\nuniform float u_update_time;\nuniform float u_transition_duration;\n\n// Type of jitter.\nuniform float u_jitter;\nuniform float u_last_jitter;\n\n// Whether to plot only a single category.\nuniform float u_only_color;\nuniform float u_grid_mode;\n\nuniform vec3 u_filter_numeric; // An override for simple numeric operations.\nuniform vec3 u_last_filter_numeric; // An override for simple numeric operations.\n\nuniform vec3 u_filter2_numeric; // An override for simple numeric operations.\nuniform vec3 u_last_filter2_numeric; // An override for simple numeric operations.\n\n// Transform from data space to the open window.\nuniform mat3 u_window_scale;\nuniform mat3 u_last_window_scale;\n// Transform from the open window to the d3-zoom.\nuniform mat3 u_zoom;\n\nuniform float u_width;\nuniform float u_height;\nuniform float u_use_glyphset;\nvarying vec2 letter_pos; // store which letter to use.\n\nuniform float u_maxix;           // The maximum index to plot.\nuniform float u_time;            // The current time.\nuniform float u_k;               // The d3-scale factor.\nuniform float u_color_picker_mode;\nuniform float u_base_size;\nuniform float u_alpha;\n\nuniform sampler2D u_one_d_aesthetic_map;\nuniform sampler2D u_color_aesthetic_map;\n\n// The same set of items for a variety of aesthetics.\n\n// whether to continuously interpolate between\n// x0 and x, y0 and y.\nuniform float u_position_interpolation_mode;\n\nfloat a_color;\nfloat a_last_color;\n\nuniform float u_color_buffer_num;\nuniform float u_last_color_buffer_num;\n\nuniform vec3 u_color_constant;\nuniform vec3 u_last_color_constant;\n\nuniform float u_color_transform;\nuniform float u_last_color_transform;\nuniform vec2 u_color_domain;\nuniform vec2 u_last_color_domain;\nuniform float u_last_color_map_position;\nuniform float u_color_map_position;\n\nbool a_color_is_constant;\nbool a_last_color_is_constant;\n\n/*\npython code to generate what follows.\ndef autogenerate_code():\n  ks = ["x", "y", "jitter_radius", "jitter_speed", "size", "filter1", "filter2", "x0", "y0"]\n  times = ["", "last_"]\n  print("""\n  //  BEGIN AUTOGENERATED. DO NOT EDIT. \n  // ------------------------------------------------    \n  """)\n  for k in ks:\n    for time in times:\n      timek = time + k\n      print(f"""\n  uniform float u_{timek}_buffer_num;\n  uniform float u_{timek}_constant;\n  uniform float u_{timek}_transform;\n  uniform vec2 u_{timek}_domain;\n  uniform vec2 u_{timek}_range;\n  uniform float u_{timek}_map_position;\n  float a_{timek};\n  bool a_{timek}_is_constant;\n      """)\n  for i in range(0, 16):\n    print(f"attribute float buffer_{i};")\n  for k in ks:\n    for time in times:\n      timek = time + k\n      print(f"""\n    if (u_{timek}_buffer_num > -0.5) {{\n      a_{timek} = get_buffer(u_{timek}_buffer_num);\n      a_{timek}_is_constant = false;\n    }} else {{\n      a_{timek} = u_{timek}_constant;\n      a_{timek}_is_constant = true;\n    }}""")\n  print("""\n//  END AUTOGENERATED. DO NOT EDIT ABOVE. \n// ------------------------------------------------    \n  """)\n\nautogenerate_code()\n*/\n  //  BEGIN AUTOGENERATED. DO NOT EDIT. \n  // ------------------------------------------------    \n  \n\n  uniform float u_x_buffer_num;\n  uniform float u_x_constant;\n  uniform float u_x_transform;\n  uniform vec2 u_x_domain;\n  uniform vec2 u_x_range;\n  uniform float u_x_map_position;\n  float a_x;\n  bool a_x_is_constant;\n      \n\n  uniform float u_last_x_buffer_num;\n  uniform float u_last_x_constant;\n  uniform float u_last_x_transform;\n  uniform vec2 u_last_x_domain;\n  uniform vec2 u_last_x_range;\n  uniform float u_last_x_map_position;\n  float a_last_x;\n  bool a_last_x_is_constant;\n      \n\n  uniform float u_y_buffer_num;\n  uniform float u_y_constant;\n  uniform float u_y_transform;\n  uniform vec2 u_y_domain;\n  uniform vec2 u_y_range;\n  uniform float u_y_map_position;\n  float a_y;\n  bool a_y_is_constant;\n      \n\n  uniform float u_last_y_buffer_num;\n  uniform float u_last_y_constant;\n  uniform float u_last_y_transform;\n  uniform vec2 u_last_y_domain;\n  uniform vec2 u_last_y_range;\n  uniform float u_last_y_map_position;\n  float a_last_y;\n  bool a_last_y_is_constant;\n      \n\n  uniform float u_jitter_radius_buffer_num;\n  uniform float u_jitter_radius_constant;\n  uniform float u_jitter_radius_transform;\n  uniform vec2 u_jitter_radius_domain;\n  uniform vec2 u_jitter_radius_range;\n  uniform float u_jitter_radius_map_position;\n  float a_jitter_radius;\n  bool a_jitter_radius_is_constant;\n      \n\n  uniform float u_last_jitter_radius_buffer_num;\n  uniform float u_last_jitter_radius_constant;\n  uniform float u_last_jitter_radius_transform;\n  uniform vec2 u_last_jitter_radius_domain;\n  uniform vec2 u_last_jitter_radius_range;\n  uniform float u_last_jitter_radius_map_position;\n  float a_last_jitter_radius;\n  bool a_last_jitter_radius_is_constant;\n      \n\n  uniform float u_jitter_speed_buffer_num;\n  uniform float u_jitter_speed_constant;\n  uniform float u_jitter_speed_transform;\n  uniform vec2 u_jitter_speed_domain;\n  uniform vec2 u_jitter_speed_range;\n  uniform float u_jitter_speed_map_position;\n  float a_jitter_speed;\n  bool a_jitter_speed_is_constant;\n      \n\n  uniform float u_last_jitter_speed_buffer_num;\n  uniform float u_last_jitter_speed_constant;\n  uniform float u_last_jitter_speed_transform;\n  uniform vec2 u_last_jitter_speed_domain;\n  uniform vec2 u_last_jitter_speed_range;\n  uniform float u_last_jitter_speed_map_position;\n  float a_last_jitter_speed;\n  bool a_last_jitter_speed_is_constant;\n      \n\n  uniform float u_size_buffer_num;\n  uniform float u_size_constant;\n  uniform float u_size_transform;\n  uniform vec2 u_size_domain;\n  uniform vec2 u_size_range;\n  uniform float u_size_map_position;\n  float a_size;\n  bool a_size_is_constant;\n      \n\n  uniform float u_last_size_buffer_num;\n  uniform float u_last_size_constant;\n  uniform float u_last_size_transform;\n  uniform vec2 u_last_size_domain;\n  uniform vec2 u_last_size_range;\n  uniform float u_last_size_map_position;\n  float a_last_size;\n  bool a_last_size_is_constant;\n      \n\n  uniform float u_filter_buffer_num;\n  uniform float u_filter_map_position;\n  float a_filter1;\n  bool a_filter_is_constant;\n  uniform float u_last_filter_buffer_num;\n  uniform float u_last_filter_map_position;\n  float a_last_filter1;\n  bool a_last_filter_is_constant;\n\n  uniform float u_filter2_buffer_num;\n  uniform float u_filter2_map_position;\n  float a_filter2;\n  bool a_filter2_is_constant;\n  uniform float u_last_filter2_buffer_num;\n  uniform float u_last_filter2_map_position;\n  float a_last_filter2;\n  bool a_last_filter2_is_constant;\n\n  uniform float u_x0_buffer_num;\n  uniform float u_x0_constant;\n  uniform float u_x0_transform;\n  uniform vec2 u_x0_domain;\n  uniform vec2 u_x0_range;\n  uniform float u_x0_map_position;\n  float a_x0;\n  bool a_x0_is_constant;\n      \n\n  uniform float u_last_x0_buffer_num;\n  uniform float u_last_x0_constant;\n  uniform float u_last_x0_transform;\n  uniform vec2 u_last_x0_domain;\n  uniform vec2 u_last_x0_range;\n  uniform float u_last_x0_map_position;\n  float a_last_x0;\n  bool a_last_x0_is_constant;\n      \n\n  uniform float u_y0_buffer_num;\n  uniform float u_y0_constant;\n  uniform float u_y0_transform;\n  uniform vec2 u_y0_domain;\n  uniform vec2 u_y0_range;\n  uniform float u_y0_map_position;\n  float a_y0;\n  bool a_y0_is_constant;\n      \n\n  uniform float u_last_y0_buffer_num;\n  uniform float u_last_y0_constant;\n  uniform float u_last_y0_transform;\n  uniform vec2 u_last_y0_domain;\n  uniform vec2 u_last_y0_range;\n  uniform float u_last_y0_map_position;\n  float a_last_y0;\n  bool a_last_y0_is_constant;\n      \n\nattribute float buffer_0;\nattribute float buffer_1;\nattribute float buffer_2;\nattribute float buffer_3;\nattribute float buffer_4;\nattribute float buffer_5;\nattribute float buffer_6;\nattribute float buffer_7;\nattribute float buffer_8;\nattribute float buffer_9;\nattribute float buffer_10;\nattribute float buffer_11;\nattribute float buffer_12;\nattribute float buffer_13;\nattribute float buffer_14;\nattribute float buffer_15;\n\n// END AUTOGENERATED\n\nhighp float ix_to_random(in float ix, in float seed) {\n  // For high numbers, taking the log avoids coincidence.\n  highp float seed2 = log(ix + 2.) + 1.;\n  vec2 co = vec2(seed2, seed);\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt = dot(co.xy, vec2(a, b));\n  highp float sn = mod(dt, 3.14);\n  return fract(sin(sn) * c);\n}\n\n// The fill color.\nvarying vec4 fill;\nvarying float point_size;\n\nuniform float u_jitter_radius_lookup;\nuniform float u_jitter_radius_lookup_y_constant;\nuniform vec2 u_jitter_radius_lookup_x_domain;\nuniform vec2 u_jitter_radius_lookup_y_domain;\n\nfloat point_size_adjust;\n\n// A coordinate to throw away a vertex point.\nvec4 discard_me = vec4(100.0, 100.0, 1.0, 1.0);\n\n// Initialized in the main loop\n// mat3 from_coord_to_gl;\n\nconst float e = 1.618282;\n// I\'ve been convinced.\nconst float tau = 2. * 3.14159265359;\n\nfloat interpolate_raw(in float x, in float min, in float max) {\n  if (x < min) {return 0.;}\n  if (x > max) {return 1.;}\n  return (x - min)/(max - min);\n}\n\nfloat interpolate(in float x, in float min, in float max) {\n  if (max < min) {\n    return 1. - interpolate_raw(x, max, min);\n  } else {\n    return interpolate_raw(x, min, max);\n  }\n}\n\n/*\n\nThe following glsl code was written in python.\n\nbuffers = [*range(16)]\n\ndef write_buffs(buffs):\n    if len(buffs) == 1:\n        return[f"return buffer_{buffs[0]}"]\n    condition_1 = ["  " + line for line in write_buffs(buffs[:len(buffs)//2])]\n    condition_2 = ["" + line for line in write_buffs(buffs[len(buffs)//2:])]\n\n    args = [\n        f"if (i < {buffs[len(buffs) // 2 - 1]}.5) {{",\n        *condition_1,\n        "}",\n        *condition_2\n    ]\n    return args\n\nprint("\\n".join(write_buffs(buffers)))\n*/\n\nfloat get_buffer(in float i) {\n  //given an index, returns the appropriate buffer.\n  if (i < 7.5) {\n    if (i < 3.5) {\n      if (i < 1.5) {\n        if (i < 0.5) {\n          return buffer_0;\n        }\n        return buffer_1;\n      }\n      if (i < 2.5) {\n        return buffer_2;\n      }\n      return buffer_3;\n    }\n    if (i < 5.5) {\n      if (i < 4.5) {\n        return buffer_4;\n      }\n      return buffer_5;\n    }\n    if (i < 6.5) {\n      return buffer_6;\n    }\n    return buffer_7;\n  }\n  if (i < 11.5) {\n    if (i < 9.5) {\n      if (i < 8.5) {\n        return buffer_8;\n      }\n      return buffer_9;\n    }\n    if (i < 10.5) {\n      return buffer_10;\n    }\n    return buffer_11;\n  }\n  if (i < 13.5) {\n    if (i < 12.5) {\n      return buffer_12;\n    }\n    return buffer_13;\n  }\n  if (i < 14.5) {\n    return buffer_14;\n  }\n  return buffer_15;\n}\n\nfloat linstep(in vec2 range, in float x) {\n  return interpolate(x, range.x, range.y);\n  float scale_size = range.y - range.x;\n  float from_left = x - range.x;\n  return clamp(from_left / scale_size, 0.0, 1.0);\n}\n\nfloat linscale(in vec2 range, in float x) {\n  float scale_size = range.y - range.x;\n  float from_left = x - range.x;\n  return from_left / scale_size;\n}\n\nvec2 box_muller(in float ix, in float seed) {\n  // Box-Muller transform gives you two gaussian randoms for two uniforms.\n  highp float U = ix_to_random(ix, seed);\n  highp float V = ix_to_random(ix, seed + 17.123123);\n  return vec2(sqrt(-2. * log(U)) * cos(tau * V),\n              sqrt(-2. * log(U)) * sin(tau * V));\n}\n\n/*************** END COLOR SCALES *******************************/\n\nfloat domainify(in vec2 domain, in float transform, in float attr, in bool clamped) {\n\n  // Clamp an attribute into a domain, with an optional log or sqrt transform.\n  if (transform == 2.) {\n    domain = sqrt(domain);\n    attr = sqrt(attr);\n  }\n  if (transform == 3.) {\n    domain = log(domain);\n    attr = log(attr);\n  }\n  if (clamped) {\n    return linstep(domain, attr);\n  } else {\n    return linscale(domain, attr);\n  }\n}\n\nmat3 pixelspace_to_glspace;\n\nfloat run_numeric_filter (in float a_filter,\n  in float u_filter_op, in float u_filter_param_1,\n  in float u_filter_param_2) {\n  bool truthy;\n  if (u_filter_op < 1.5) {\n    truthy = a_filter < u_filter_param_1;\n  } else if (u_filter_op < 2.5) {\n    truthy = a_filter > u_filter_param_1;\n  } else if (u_filter_op < 3.5) {\n    truthy = a_filter == u_filter_param_1;\n  } else if (u_filter_op < 4.5) {\n    truthy = abs(a_filter - u_filter_param_2) < u_filter_param_1;\n  }\n  if (truthy) {return 1.;} else {return 0.;}\n}\n\nfloat choose_and_run_filter(\n  in vec3 u_filter_numeric,\n  in float a_filter,\n  in float map_location,\n  in bool filter_is_constant\n  ) {\n    if (filter_is_constant) {\n      return 1.;\n    }\n    if (u_filter_numeric.r < 0.5) {\n      // Must be on a dictionary. Unreasonable assumption, maybe?\n      float frac_filter = linstep(vec2(-2047., 2047), a_filter);\n      float map_coords = (map_location - .5) / 32.;\n      return texture2D(u_one_d_aesthetic_map, vec2(map_coords, frac_filter)).a;\n    } else {\n      return run_numeric_filter(a_filter,\n        u_filter_numeric.r, u_filter_numeric.g, u_filter_numeric.b);\n    }\n}\n\nconst float tau_0 = 2. * 3.14159265359;\n\nhighp float ix_to_random_1540259130(in float ix, in float seed) {\n  // For high numbers, taking the log avoids coincidence.\n  highp float seed2 = log(ix) + 1.;\n  vec2 co = vec2(seed2, seed);\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt= dot(co.xy ,vec2(a,b));\n  highp float sn= mod(dt,3.14);\n  return fract(sin(sn) * c);\n}\n\nhighp vec2 box_muller_1540259130(in float ix, in float seed) {\n  // Box-Muller transform gives you two gaussian randoms for two uniforms.\n  highp float U = ix_to_random_1540259130(ix, seed);\n  highp float V = ix_to_random_1540259130(ix, seed + 17.123123);\n  return vec2(\n    sqrt(-2.*log(U))*cos(tau_0*V),\n    sqrt(-2.*log(U))*sin(tau_0*V)\n  );\n}\n\nvec2 logarithmic_spiral_jitter_1540259130(\n  in float ix, // a random seed.\n  in float a, // offset\n  in float angle_parameter_1540259130, // angle parameter\n  in float randomize_angle_1540259130, // sd radians\n  in float max_r_1540259130, // Maximum radius of spiral.\n  in float randomize_rotation_max_radians_1540259130, // in standard deviations to the log-multiplier.\n  in float randomize_radius_1540259130, // in standard deviation percentage points.\n  in float hole, // donut hole size.\n  in float speed_0, // webgl units per second.\n  in float time_0,// The time, in seconds, to plot at. Generally passed as a uniform or something.\n  in float acceleration,\n  in float n_spirals_1540259130,\n  in float shear,\n  in float aspect_ratio_1540259130\n  ) {\n  // Each point starts at a different place on the spiral.\n  vec2 two_gaussians_1540259130 = box_muller_1540259130(ix, 55.1);\n\n  highp float calculated_angle = angle_parameter_1540259130 + two_gaussians_1540259130.x * randomize_angle_1540259130;\n  float k = 1. / tan(calculated_angle);\n  if (k > 100000.) {\n    k = 0.;\n  }\n\n  // The length of the segment to be traversed.\n  float arc_length =  sqrt((1. + k*k)/k) * (max_r_1540259130 - a);\n  float period = arc_length / speed_0;\n\n  // Every point needs to start at a different place along the curve.\n  float stagger_time = ix_to_random_1540259130(ix, 3.);\n\n  // How long does a circuit take? Add some random noise.\n  float time_period = period * exp(box_muller_1540259130(ix, 0.031).x / 6.);\n\n  // Adjust u_time from the clock to our current spot.\n  float varying_time = time_0 + stagger_time * time_period;\n\n  // Adjust that time by raising to a power to set the speed along the curve.\n  // Not sure if this is the soundest way to parametrize.\n  float relative_time = pow(1. - mod(varying_time, time_period)/time_period, acceleration);\n\n  // Calculate the radius at this time point.\n  float radius = max_r_1540259130 * relative_time + a;\n\n  // The angle implied by that radius.\n  float theta  = 1./k * log(radius / a);\n\n  /* A different way to calculate radius from the theta. Not used\n  float max_theta = 1. / k * log(max_r / a);\n  float theta2 = max_theta * relative_time;\n  vec2 pos_theta_style = vec2(a * exp(k * theta2), theta2);\n  radius = pos_theta_style.x;\n  theta = pos_theta_style.y;\n  */\n\n  // If multiple spirals, the theta needs to be rotated for which spiral we\'re in.\n  // Choose it based on a new random seed.\n  float which_spiral = floor(ix_to_random_1540259130(ix, 13.13) * n_spirals_1540259130);\n  float which_spiral_adjust = which_spiral / n_spirals_1540259130 * tau_0;\n  theta = theta + which_spiral_adjust;\n\n  // Add some gaussian jitter to the polar coordinates.\n  vec2 polar_jitter = box_muller_1540259130(ix, 24.);\n\n  highp float radius_adjust = 1. + polar_jitter.x * randomize_radius_1540259130;\n  highp float theta_adjust = polar_jitter.y * randomize_rotation_max_radians_1540259130;\n\n  vec2 shear_adjust = box_muller_1540259130(ix, 59.1) * shear;\n\n  mat3 shear_mat = mat3(\n    1., shear_adjust.x, 0.,\n    shear_adjust.y, 1., 0.,\n    0., 0., 1.);\n  // into euclidean space.\n  vec3 pos_spiral = vec3(\n   cos(theta + theta_adjust)*(radius * radius_adjust + hole),\n   sin(theta + theta_adjust)*(radius * radius_adjust + hole),\n   0.\n  );\n  mat3 adjust_to_viewport =\n         mat3(\n            1./aspect_ratio_1540259130, 0., 0.,\n            0., 1., 0.,\n            0., 0., 1.);\n\n  pos_spiral = pos_spiral * shear_mat * \n               adjust_to_viewport;\n  return pos_spiral.xy;\n}\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\nlowp vec4 encode_float_1604150559(highp float v) {\n  highp float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  highp vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  highp float e = floor(log2(av));\n  highp float m = av * pow(2.0, -e) - 1.0;\n  \n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n  \n  //Unpack exponent\n  highp float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0; \n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nfloat sineInOut_0(float t) {\n  return -0.5 * (cos(PI * t) - 1.0);\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nvec2 bezier_interpolate(vec2 p1, vec2 p2, float frac, float ix) {\n  // Interpolates between two points on a Bezier curve around a jittered middle.\n  // Makes animations look cooler.\n    vec2 midpoint = box_muller(ix, 3.) * .05 *\n         dot(p2 - p1, p2 - p1)\n         + p2 / 2. + p1 / 2.;\n\n      return mix(\n        mix(p2, midpoint, frac),\n        mix(midpoint, p1, frac),\n      frac);\n}\n\nfloat sineInOut(float t) {\n  return -0.5 * (cos(PI * t) - 1.0);\n}\n\nconst vec4 decoder = vec4(1./256./256./256., 1. / 256. / 256., 1. / 256., 1.);\n\nfloat RGBAtoFloat(in vec4 floater) {\n  // Scale values up by 256.\n  return dot(floater, decoder);\n}\n\nfloat texture_float_lookup(in vec2 domain,\n                           in vec2 range,\n                           in float transform,\n                           in float attr,\n                           in float texture_position) {\n  if (transform == 4.0) {\n    // Literal transforms aren\'t looked up, just returned as is.\n    return attr;\n  }\n  float inrange = domainify(domain, transform, attr, true);\n  if (texture_position > 0.5) {\n    float y_pos = texture_position / 32. - 0.5 / 32.;\n    vec4 encoded = texture2D(u_one_d_aesthetic_map, vec2(y_pos, inrange));\n    return encoded.a;\n    return RGBAtoFloat(encoded); // unreachable.\n  } else {\n    return mix(range.x, range.y, inrange);\n  }\n}\n\nvec2 calculate_position(in vec2 position, in float x_scale_type,\n                        in vec2 x_domain, in vec2 x_range, in float y_scale_type,\n                        in vec2 y_domain, in vec2 y_range, in mat3 window_scale,\n                        in mat3 zoom, in float x_map_position,\n                        in float y_map_position\n                        ) {\n    float x;\n    float y;\n\n    if (x_scale_type < 4.0) {\n      float x_ = linscale(u_color_domain, a_color);\n      x = texture_float_lookup(x_domain, x_range,\n        x_scale_type,\n        position.x, 0. // ymap position 0 means never use a texture lookup.\n        );\n    } else {\n      x = position.x;\n    }\n\n    if (y_scale_type < 4.0) {\n      y = texture_float_lookup(y_domain, y_range, y_scale_type,\n        position.y, 0. // ymap position 0 means never use a texture lookup.\n        );\n    } else {\n      y = position.y;\n    }\n    vec3 pos2d = vec3(x, y, 1.0) * window_scale * zoom * pixelspace_to_glspace;\n    return pos2d.xy;\n}\n\nfloat cubicInOut(float t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 1. - 4.0 * pow(1. - t, 3.0);\n}\n\nvec4 ixToRGBA(in float ix)  {\n  float min = fract(ix / 256.);\n  float mid = fract((ix - min) / 256.);\n  float high = fract((ix - min - mid * 256.) / (256.) / 256.);\n  return vec4(min, mid, high, 1.);\n}\n\nvec2 circle_jitter(in float ix, in float aspect_ratio, in float time,\n                   in float radius, in float speed) {\n  vec2 two_gaussians = box_muller(ix, 12.);\n\n  float stagger_time = two_gaussians.y * tau;\n\n  // How long does a circuit take?\n\n  float units_per_period = radius * tau;\n  float units_per_second = speed;\n  float seconds_per_period = units_per_period / units_per_second;\n  float time_period = seconds_per_period;\n  if (time_period > 1e4) {\n    return vec2(0., 0.);\n  }\n\n  // Adjust time from the clock to our current spot.\n  float varying_time = time + stagger_time * time_period;\n  // Where are we from 0 to 1 relative to the time period\n\n  float relative_time = 1. - mod(varying_time, time_period) / time_period;\n\n  float theta = relative_time * tau;\n  // Problem--should it lie on a disk, or on a circle?\n  float r_mult = 1.;//(sqrt(ix_to_random(ix, 7.)));\n\n  return vec2(cos(theta) * r_mult, aspect_ratio * sin(theta) * r_mult) *\n         radius;\n}\n\nvec2 calculate_jitter(\n  in float jitter_type,\n  in float ix, // distinguishing index\n  in vec2 jitter_radius_domain,\n  in vec2 jitter_radius_range,\n  in float jitter_radius_transform,\n  in float jitter_radius,\n  in float jitter_radius_map_position,\n  in bool jitter_radius_is_constant,\n  in vec2 jitter_speed_domain,\n  in vec2 jitter_speed_range,\n  in float jitter_speed_transform,\n  in float jitter_speed,\n  in float jitter_speed_map_position,\n  in bool jitter_speed_is_constant\n) {\n\n  // Jitter is calculated based on speed, so requires two full maps in.\n  if (jitter_type == 0.) {\n    // No jitter\n    return vec2(0., 0.);\n  }\n\n  if (jitter_type == 5.) {\n    // Temporal jitter--should be broken out into a separate channel/channels.\n    float time_period = 60.;\n    float share = 1./4.;\n    float offset = ix_to_random(ix, 12.);\n    float fractional = fract((offset * time_period + u_time)/time_period);\n    if (fractional > share) {\n      return vec2(0., 0.);\n    }\n    float size = 0.5 * (1. - cos(2. * 3.1415926 * min(fractional/share, 1. - fractional/share)));\n    size = clamp(size, 0., 1.);\n    return vec2(size, 0.);\n  }\n  float jitter_r;  \n  if (jitter_radius_is_constant) {\n    jitter_r = jitter_radius;\n  } else {\n    jitter_r = texture_float_lookup(\n    jitter_radius_domain,\n    jitter_radius_range,\n    jitter_radius_transform,\n    jitter_radius,\n    0.);\n  }\n  if (jitter_type == 3.) {\n    float r = box_muller(ix, 1.).r * jitter_r;\n    r = r * point_size_adjust;\n    float theta = ix_to_random(ix, 15.) * tau;\n    return vec2(cos(theta) * r, sin(theta) * r * u_width / u_height);\n  }\n\n  if (jitter_type == 2.) {\n    // uniform in the circle.\n    float theta = ix_to_random(ix, 15.) * tau;\n    float r = jitter_r * sqrt(ix_to_random(ix, 115.));\n    r = r * point_size_adjust;\n    return vec2(cos(theta) * r, sin(theta) * r * u_width / u_height);\n  }\n\n  /* Jittering that includes motion) */\n\n  float p_jitter_speed =\n      texture_float_lookup(jitter_speed_domain,\n                          jitter_speed_range,\n                          jitter_speed_transform, jitter_speed,\n                          jitter_speed_map_position);\n\n  if (jitter_type == 1.) {\n    return logarithmic_spiral_jitter_1540259130(\n                ix,\n                0.005 * jitter_r,                     // a\n                1.3302036,                       // angle parameter\n                0.005,                                 // angle random\n                jitter_r,                             // max radius\n                0.03,                                 // random_rotation\n                0.06,                                 // random radius\n                0.003 * point_size_adjust * jitter_r, // donut.\n                .5 * p_jitter_speed * jitter_r / point_size_adjust, // speed\n                u_time,                                           // time\n                0.8,                                              // acceleration\n                2.0,                                              // n_spirals\n                .09, //shear\n                u_width/u_height         // shear\n            );\n  }\n\n  if (jitter_type == 4.) {\n    // circle\n    return circle_jitter(ix, u_width/u_height, u_time, jitter_r, p_jitter_speed);\n  }\n}\n\nvoid run_color_fill(in float ease) {\n  if (u_only_color >= -1.5) {\n    if (u_only_color > -.5 && a_color != u_only_color) {\n      gl_Position = discard_me;\n      return;\n    } else {\n      // -1 is a special value meaning \'plot everything\'.\n      fill = vec4(0., 0., 0., 1. / 255.);\n      gl_PointSize = 1.;\n    }\n  } else {\n    if (a_color_is_constant) {\n      fill = vec4(u_color_constant.rgb, u_alpha);\n    } else {\n      float fractional_color = linstep(u_color_domain, a_color);\n      float color_pos = (u_color_map_position * -1. - 1.) / 32. + 0.5 / 32.;\n      fill = texture2D(u_color_aesthetic_map , vec2(color_pos, fractional_color));\n      fill = vec4(fill.rgb, u_alpha);\n    }\n    if (ease < 1.) {\n      vec4 last_fill;\n      if (a_last_color_is_constant) {\n        last_fill = vec4(u_last_color_constant.rgb, u_alpha);\n      } else {\n        float last_fractional = linstep(u_last_color_domain, a_last_color);\n        float color_pos = (u_last_color_map_position * -1. - 1.) / 32. + 0.5 / 32.;\n        last_fill = texture2D(u_color_aesthetic_map, vec2(color_pos, last_fractional));\n        // Alpha channel interpolation already happened.\n        last_fill = vec4(last_fill.rgb, u_alpha);\n      }\n      // RGB blending is bad--maybe use https://www.shadertoy.com/view/lsdGzN\n      // instead?\n      fill = mix(last_fill, fill, ease);\n    }\n  }\n}\n\nvec2 calc_and_interpolate_positions(\n  inout vec2 old_position,\n  in float u_last_x_transform,\n  in vec2 u_last_x_domain,\n  in vec2 u_last_x_range,\n  in float u_last_y_transform,\n  in vec2 u_last_y_domain,\n  in vec2 u_last_y_range,\n  in mat3 u_last_window_scale,\n  in mat3 u_zoom,\n  in float u_last_x_map_position,\n  in float u_last_y_map_position,\n  inout vec2 position,\n  in float u_x_transform,\n  in vec2 u_x_domain,\n  in vec2 u_x_range,\n  in float u_y_transform,\n  in vec2 u_y_domain,\n  in vec2 u_y_range,\n  in mat3 u_window_scale,\n  in float u_x_map_position,\n  in float u_y_map_position,\n  in float interpolation,\n  in float u_grid_mode, \n  in float ix) {\n\n  old_position = calculate_position(old_position, u_last_x_transform,\n    u_last_x_domain, u_last_x_range,\n    u_last_y_transform, u_last_y_domain, u_last_y_range,\n    u_last_window_scale,\n    u_zoom, u_last_x_map_position,      \n    u_last_y_map_position);\n    \n  bool plot_actual_position = u_grid_mode < .5;\n\n  if (plot_actual_position) {\n    position = calculate_position(position, \n      u_x_transform,\n      u_x_domain, u_x_range,\n      u_y_transform, u_y_domain, \n      u_y_range, u_window_scale, u_zoom, \n      u_x_map_position, u_y_map_position);\n    float xpos = clamp((1. + position.x) / 2., 0., 1.);\n    float randy = ix_to_random(ix, 13.76);\n    float delay = xpos + randy * .1;\n    delay = delay * 3.;\n\n    float frac = interpolate(\n      u_update_time,\n      delay,\n      u_transition_duration + delay\n    );\n\n    frac = sineInOut_0(frac);\n\n    if (frac <= 0.) {\n      position = old_position;\n    } else if (frac < 1.) {\n      frac = fract(frac);\n      position = bezier_interpolate(position, old_position, frac, ix);\n    }\n  } else {\n    position.x = -1. + 2. * linscale(u_x_domain, position.x);\n    //position.y = -1.0;\n    vec2 jitterspec = vec2(\n      (ix_to_random(ix, 3.) * a_jitter_radius ) * 2.,\n      (ix_to_random(ix, 1.5) * a_jitter_speed ) * 2.\n    );\n    position = position + jitterspec;\n  }\n  return position;\n}\n\nvoid main() {\n  float debug_mode = 0.;\n  float ix = buffer_0;\n  float ix_in_tile = buffer_1;\n  if (ix > u_maxix) {\n    // throw away points that are too low.\n    gl_Position = discard_me;\n    return;\n  }\n\n  if (debug_mode > 1.5) {\n    // Debug mode.\n    gl_PointSize = 2.;\n    gl_Position = vec4(box_muller(ix, 2.).xy * .33, 0., 1.);\n    return;\n  }\n\n // Autogenerated below this point\n if (u_x_buffer_num > -0.5) {\n      a_x = get_buffer(u_x_buffer_num);\n      a_x_is_constant = false;\n    } else {\n      a_x = u_x_constant;\n      a_x_is_constant = true;\n    }\n\n    if (u_last_x_buffer_num > -0.5) {\n      a_last_x = get_buffer(u_last_x_buffer_num);\n      a_last_x_is_constant = false;\n    } else {\n      a_last_x = u_last_x_constant;\n      a_last_x_is_constant = true;\n    }\n\n    if (u_y_buffer_num > -0.5) {\n      a_y = get_buffer(u_y_buffer_num);\n      a_y_is_constant = false;\n    } else {\n      a_y = u_y_constant;\n      a_y_is_constant = true;\n    }\n\n    if (u_last_y_buffer_num > -0.5) {\n      a_last_y = get_buffer(u_last_y_buffer_num);\n      a_last_y_is_constant = false;\n    } else {\n      a_last_y = u_last_y_constant;\n      a_last_y_is_constant = true;\n    }\n\n    if (u_jitter_radius_buffer_num > -0.5) {\n      a_jitter_radius = get_buffer(u_jitter_radius_buffer_num);\n      a_jitter_radius_is_constant = false;\n    } else {\n      a_jitter_radius = u_jitter_radius_constant;\n      a_jitter_radius_is_constant = true;\n    }\n\n    if (u_last_jitter_radius_buffer_num > -0.5) {\n      a_last_jitter_radius = get_buffer(u_last_jitter_radius_buffer_num);\n      a_last_jitter_radius_is_constant = false;\n    } else {\n      a_last_jitter_radius = u_last_jitter_radius_constant;\n      a_last_jitter_radius_is_constant = true;\n    }\n\n    if (u_jitter_speed_buffer_num > -0.5) {\n      a_jitter_speed = get_buffer(u_jitter_speed_buffer_num);\n      a_jitter_speed_is_constant = false;\n    } else {\n      a_jitter_speed = u_jitter_speed_constant;\n      a_jitter_speed_is_constant = true;\n    }\n\n    if (u_last_jitter_speed_buffer_num > -0.5) {\n      a_last_jitter_speed = get_buffer(u_last_jitter_speed_buffer_num);\n      a_last_jitter_speed_is_constant = false;\n    } else {\n      a_last_jitter_speed = u_last_jitter_speed_constant;\n      a_last_jitter_speed_is_constant = true;\n    }\n\n    if (u_size_buffer_num > -0.5) {\n      a_size = get_buffer(u_size_buffer_num);\n      a_size_is_constant = false;\n    } else {\n      a_size = u_size_constant;\n      a_size_is_constant = true;\n    }\n\n    if (u_last_size_buffer_num > -0.5) {\n      a_last_size = get_buffer(u_last_size_buffer_num);\n      a_last_size_is_constant = false;\n    } else {\n      a_last_size = u_last_size_constant;\n      a_last_size_is_constant = true;\n    }\n\n    if (u_filter_buffer_num > -0.5) {\n      a_filter1 = get_buffer(u_filter_buffer_num);\n      a_filter_is_constant = false;\n    } else {\n      a_filter1 = 1.;\n      a_filter_is_constant = true;\n    }\n\n    if (u_last_filter_buffer_num > -0.5) {\n      a_last_filter1 = get_buffer(u_last_filter_buffer_num);\n      a_last_filter_is_constant = false;\n    } else {\n      a_last_filter1 = 1.;\n      a_last_filter_is_constant = true;\n    }\n\n    if (u_filter2_buffer_num > -0.5) {\n      a_filter2 = get_buffer(u_filter2_buffer_num);\n      a_filter2_is_constant = false;\n    } else {\n      a_filter2 = 1.;\n      a_filter2_is_constant = true;\n    }\n\n    if (u_last_filter2_buffer_num > -0.5) {\n      a_last_filter2 = get_buffer(u_last_filter2_buffer_num);\n      a_last_filter2_is_constant = false;\n    } else {\n      a_last_filter2 = 1.;\n      a_last_filter2_is_constant = true;\n    }\n\n    if (u_x0_buffer_num > -0.5) {\n      a_x0 = get_buffer(u_x0_buffer_num);\n      a_x0_is_constant = false;\n    } else {\n      a_x0 = u_x0_constant;\n      a_x0_is_constant = true;\n    }\n\n    if (u_last_x0_buffer_num > -0.5) {\n      a_last_x0 = get_buffer(u_last_x0_buffer_num);\n      a_last_x0_is_constant = false;\n    } else {\n      a_last_x0 = u_last_x0_constant;\n      a_last_x0_is_constant = true;\n    }\n\n    if (u_y0_buffer_num > -0.5) {\n      a_y0 = get_buffer(u_y0_buffer_num);\n      a_y0_is_constant = false;\n    } else {\n      a_y0 = u_y0_constant;\n      a_y0_is_constant = true;\n    }\n\n    if (u_last_y0_buffer_num > -0.5) {\n      a_last_y0 = get_buffer(u_last_y0_buffer_num);\n      a_last_y0_is_constant = false;\n    } else {\n      a_last_y0 = u_last_y0_constant;\n      a_last_y0_is_constant = true;\n    }\n//  END AUTOGENERATED. DO NOT EDIT ABOVE. \n// ------------------------------------------------    \n  gl_PointSize = 1.;\n\n  if (u_color_buffer_num > -0.5) {\n    a_color = get_buffer(u_color_buffer_num);\n    a_color_is_constant = false;\n  } else {\n    a_color = ix;\n    a_color_is_constant = true;\n  }\n\n  if (u_last_color_buffer_num > -0.5) {\n    a_last_color = get_buffer(u_last_color_buffer_num);\n    a_last_color_is_constant = false;\n  } else {\n    a_last_color = ix;\n    a_last_color_is_constant = true;\n  }\n\n  pixelspace_to_glspace = mat3(\n      2. / u_width, 0., -1.,\n      0., - 2. / u_height, 1.,\n      0., 0., 1.\n  );\n\n  float interpolation =\n    interpolate(u_update_time, 0., u_transition_duration);\n    \n  float ease = interpolation;\n\n  // I set this sometimes.\n\n  vec2 position = vec2(a_x, a_y);\n  vec2 old_position = vec2(a_last_x, a_last_y);\n\n  position = calc_and_interpolate_positions(\n    old_position,\n    u_last_x_transform,\n    u_last_x_domain, u_last_x_range,\n    u_last_y_transform,\n    u_last_y_domain, u_last_y_range,\n    u_last_window_scale,\n    u_zoom,\n    u_last_x_map_position,\n    u_last_y_map_position,\n    position,\n    u_x_transform,\n    u_x_domain, u_x_range,\n    u_y_transform,\n    u_y_domain, u_y_range,\n    u_window_scale,\n    u_x_map_position,\n    u_y_map_position,\n    interpolation,\n    u_grid_mode,\n    ix\n  );\n\n  if (u_x0_buffer_num > 0.) {\n    vec2 position0 = vec2(a_x0, a_y0);\n    vec2 old_position0 = vec2(a_last_x0, a_last_y0);\n\n    position0 = calc_and_interpolate_positions(\n      old_position0,\n      u_last_x0_transform,\n      u_last_x0_domain, u_last_x0_range,\n      u_last_y0_transform,\n      u_last_y0_domain, u_last_y0_range,\n      u_last_window_scale,\n      u_zoom,\n      u_last_x0_map_position,\n      u_last_y0_map_position,\n      position0,\n      u_x0_transform,\n      u_x0_domain, u_x0_range,\n      u_y0_transform,\n      u_y0_domain, u_y0_range,\n      u_window_scale,\n      u_x0_map_position,\n      u_y0_map_position,\n      interpolation,\n      u_grid_mode,\n      ix\n    );\n\n    if (u_position_interpolation_mode > 0.) {\n      float rand2 = ix_to_random(ix, 11.76);\n\n      // If it\'s a continuous loop, just choose a random point along that loop.\n      float rand_offset = fract(u_update_time/u_transition_duration / 10. + rand2);\n      position = mix(position0, position, rand_offset);\n    }\n  }\n\n  bool plot_actual_position = u_grid_mode < .5;\n\n  if (u_position_interpolation_mode > 0.) {\n    float rand2 = ix_to_random(ix, 11.76);\n\n    // If it\'s a continuous loop, just choose a random point along that loop.\n    float rand_offset = fract(u_update_time/u_transition_duration + rand2);\n    \n  }\n\n/*  position = vec2(\n    ix_to_random(ix, .1),\n    ix_to_random(ix, .2)\n  );*/\n  /* FILTERING */\n\n  float filter1_status = choose_and_run_filter(\n    u_filter_numeric,\n    a_filter1,\n    u_filter_map_position,\n    a_filter_is_constant\n  );\n\n  float last_filter1_status = choose_and_run_filter(\n    u_last_filter_numeric,\n    a_last_filter1,\n    u_last_filter_map_position,\n    a_last_filter_is_constant\n  );\n\n  float filter2_status = choose_and_run_filter(\n    u_filter2_numeric,\n    a_filter2,\n    u_filter2_map_position,\n    a_filter2_is_constant\n  );\n\n  float last_filter2_status = choose_and_run_filter(\n    u_last_filter2_numeric,\n    a_last_filter2,\n    u_last_filter2_map_position,\n    a_last_filter2_is_constant\n  );\n\n  bool was_filtered = last_filter2_status < .5 || last_filter1_status < .5;\n  bool will_be_filtered = filter2_status < .5 || filter1_status < .5;\n\n  bool filter_status = will_be_filtered;\n\n  if (ease < ix_to_random(ix, 1.)) {\n    filter_status = was_filtered;\n  }\n\n  if (filter_status == true) {\n    gl_Position = discard_me;\n    return;\n  }\n\n  float size_multiplier = texture_float_lookup(\n    u_size_domain,\n    u_size_range,\n    u_size_transform, a_size,\n    u_size_map_position);\n\n  float last_size_multiplier = texture_float_lookup(\n    u_last_size_domain, u_last_size_range, u_last_size_transform, a_last_size,\n    u_last_size_map_position);\n\n  size_multiplier = u_base_size * \n     mix(last_size_multiplier, size_multiplier, ease);\n  \n  float depth_size_adjust = (1.0 - ix / (u_maxix));\n\n  // It\'s ugly on new macs when it jumps straight from one to two for a bunch of points at once.\n  float size_fuzz = exp(ix_to_random(ix, 3.1) * .5 - .25);\n\n  point_size_adjust = exp(log(u_k) * u_zoom_balance) * size_fuzz;// * depth_size_adjust;\n//  point_size_adjust = exp(log(u_k) * u_zoom_balance);\n  gl_PointSize = point_size_adjust * size_multiplier;\n  if (gl_PointSize <= 0.01) {\n    gl_Position = discard_me;\n    return;\n  }\n  vec2 jitter = vec2(0., 0.);\n//  \n\n  if (plot_actual_position && (u_jitter > 0. || u_last_jitter > 0.)) {\n    /* JITTER */\n    jitter = vec2(ix_to_random(ix, 2. + u_time), ix_to_random(ix, 3. + u_time)) * .01;\n    float jitter_radius_fraction;\n      jitter = calculate_jitter(\n        u_jitter, ix,\n        u_jitter_radius_domain,        u_jitter_radius_range,\n        u_jitter_radius_transform,        a_jitter_radius,\n        u_jitter_radius_map_position,        a_jitter_radius_is_constant,\n        u_jitter_speed_domain,\n        u_jitter_speed_range,\n        u_jitter_speed_transform, a_jitter_speed,\n        u_jitter_speed_map_position, a_jitter_speed_is_constant\n      );\n    vec2 last_jitter;\n    if (ease < 1.) {\n      last_jitter = calculate_jitter(\n        u_last_jitter, ix,\n        u_last_jitter_radius_domain,       \n        u_last_jitter_radius_range,\n        u_last_jitter_radius_transform,        \n        a_last_jitter_radius,\n        u_last_jitter_radius_map_position,\n        a_last_jitter_radius_is_constant,\n        u_last_jitter_speed_domain,\n        u_last_jitter_speed_range,\n        u_last_jitter_speed_transform,\n        a_last_jitter_speed,\n        u_last_jitter_speed_map_position,\n        a_last_jitter_speed_is_constant\n      );\n      jitter = mix(last_jitter, jitter, ease);\n    }\n    if (u_jitter == 5.) {\n      // temporal jitter: rescale the point from the first dimension\n      gl_PointSize *= jitter.x;\n      jitter = vec2(0., 0.);\n      if (gl_PointSize < 0.05) {\n        gl_Position = discard_me;\n        return;\n      }\n    }\n    gl_Position = vec4(position + jitter, 0., 1.);\n  } else {\n    gl_Position = vec4(position + jitter, 0., 1.);\n  }  \n  if (u_color_picker_mode == 1.) {\n    // Add one so the first element is distinguishable.\n    fill = encode_float_1604150559(ix + 1.);\n  } else if (u_color_picker_mode == 2.) {\n    // \n    fill = encode_float_1604150559(u_tile_id + 1.);\n  } else if (u_color_picker_mode == 3.) {\n    fill = encode_float_1604150559(ix_in_tile + 1.);\n  } else {\n    run_color_fill(ease);\n  }\n//  gl_PointSize = 2.1;\n  point_size = gl_PointSize;\n/*  if (u_use_glyphset > 0. && point_size > 5.0) {\n    float random_letter = floor(64. * ix_to_random(ix, 1.3));\n    letter_pos = vec2(\n      // start at a number between 0 and 7.\n      mod(random_letter, 8.) / 8.,\n      floor(random_letter / 8.) / 8.\n    );\n    gl_PointSize *= 3.0;\n  }*/\n}\n',count:function(e,t){return t.manager.count},attributes:{},uniforms:{u_update_time:n.prop("update_time"),u_transition_duration:function(e,t){return t.prefs.duration},u_only_color:function(e,t){return void 0!==t.only_color?t.only_color:-2},u_use_glyphset:function(e,t){return t.prefs.glyph_set?1:0},u_glyphset:function(e,n){var r=n.prefs;return r.glyph_set?t.get_image_texture(r.glyph_set):t.textures.empty_texture},u_color_picker_mode:n.prop("color_picker_mode"),u_position_interpolation_mode:function(){return this.aes.position_interpolation?1:0},u_grid_mode:function(e,t){return t.grid_mode},u_colors_as_grid:n.prop("colors_as_grid"),u_tile_id:function(e,t){return t.tile_id},u_width:function(e){return e.viewportWidth},u_height:function(e){return e.viewportHeight},u_one_d_aesthetic_map:this.aes.aesthetic_map.one_d_texture,u_color_aesthetic_map:this.aes.aesthetic_map.color_texture,u_aspect_ratio:function(e){return e.viewportWidth/e.viewportHeight},u_zoom_balance:n.prop("zoom_balance"),u_base_size:function(e,t){return t.point_size},u_maxix:function(e,t){return t.max_ix},u_alpha:function(e,t){return t.alpha},u_k:function(e,t){return t.transform.k},u_window_scale:n.prop("webgl_scale"),u_last_window_scale:n.prop("last_webgl_scale"),u_time:function(e){return e.time},u_filter_numeric:function(){return this.aes.dim("filter").current.ops_to_array()},u_last_filter_numeric:function(){return this.aes.dim("filter").last.ops_to_array()},u_filter2_numeric:function(){return this.aes.dim("filter2").current.ops_to_array()},u_last_filter2_numeric:function(){return this.aes.dim("filter2").last.ops_to_array()},u_jitter:function(){return t.aes.dim("jitter_radius").current.jitter_int_format},u_last_jitter:function(){return t.aes.dim("jitter_radius").last.jitter_int_format},u_zoom:function(e,t){return t.zoom_matrix}}},i=Qr(Ha(0,16));try{var a=function(){var t=e.value;r.attributes["buffer_".concat(t)]=function(e,n){var r=n.manager,i=n.buffer_num_to_variable;return r.regl_elements.get(i[t])||{constant:0}}};for(i.s();!(e=i.n()).done;)a()}catch(Lk){i.e(Lk)}finally{i.f()}for(var o=function(){for(var e=s[u],n=function(){var n=a[i],o="current"===n?"":"last_";r.uniforms["u_".concat(o).concat(e,"_map")]=function(){return t.aes.dim(e)[n].textures.one_d},r.uniforms["u_".concat(o).concat(e,"_map_position")]=function(){return t.aes.dim(e)[n].map_position},r.uniforms["u_".concat(o).concat(e,"_buffer_num")]=function(t,r){var i=r.aes_to_buffer_num["".concat(e,"--").concat(n)];return void 0===i?-1:i},r.uniforms["u_".concat(o).concat(e,"_domain")]=function(){return t.aes.dim(e)[n].domain},r.uniforms["u_".concat(o).concat(e,"_range")]=function(){return t.aes.dim(e)[n].range},r.uniforms["u_".concat(o).concat(e,"_transform")]=function(){var r=t.aes.dim(e)[n].transform;if("linear"===r)return 1;if("sqrt"===r)return 2;if("log"===r)return 3;if("literal"===r)return 4;throw"Invalid transform"},r.uniforms["u_".concat(o).concat(e,"_constant")]=function(){return t.aes.dim(e)[n].constant}},i=0,a=["current","last"];i<a.length;i++)n()},u=0,s=["x","y","color","jitter_radius","x0","y0","jitter_speed","size","filter","filter2","character"];u<s.length;u++)o();return this._renderer=n(r),this._renderer}},{key:"allocate_aesthetic_buffers",value:function(){for(var e=[],t=["x","y","color","x0","y0","size","jitter_radius","jitter_speed","filter","filter2"],n=0,r=t;n<r.length;n++)for(var i=r[n],a=0,o=["current","last"];a<o.length;a++){var u=o[a];try{this.aes.dim(i)[u].field&&e.push({aesthetic:i,time:u,field:this.aes.dim(i)[u].field})}catch(g){throw this.reglframe.cancel(),this.reglframe=void 0,g}}e.sort((function(e,n){return e.time<n.time?-1:n.time<e.time?1:t.indexOf(e.aesthetic)-t.indexOf(n.aesthetic)}));for(var s={},l={ix:0,ix_in_tile:1},c=1,f=0,d=e;f<d.length;f++){var h=d[f],p=h.aesthetic,v=h.time,m=h.field,y="".concat(p,"--").concat(v);void 0===l[m]?c++<16?(s[y]=c,l[m]=c):s[y]=s["".concat(p,"--current")]:s[y]=l[m]}var b=be(Object.keys(l));this.aes_to_buffer_num=s,this.variable_to_buffer_num=l,this.buffer_num_to_variable=b}},{key:"discard_share",get:function(){return 0}}]),n}(Sf),Xh=function(){function e(t,n,r){b(this,e),ii(this,"tile"),ii(this,"regl"),ii(this,"renderer"),ii(this,"regl_elements"),this.tile=n,this.regl=t,this.renderer=r,n._regl_elements=n._regl_elements||new Map([["ix_in_tile",{offset:0,stride:4,buffer:r.integer_buffer}]]),this.regl_elements=n._regl_elements}return _(e,[{key:"ready",value:function(e){var t,n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.renderer,a=this.regl_elements,o=new Set,u=Qr(i.aes);try{for(u.s();!(t=u.n()).done;)for(var s=l(t.value,2),c=(s[0],s[1]),f=0,d=[c.current,c.last];f<d.length;f++){var h=d[f];h.field&&o.add(h.field)}}catch(Lk){u.e(Lk)}finally{u.f()}for(var p=function(){var e=m[v],t="ix_in_tile"===e?n.renderer.integer_buffer:n.regl_elements.get(e);if(null===t)return{v:!1};if(void 0===t){if(!n.tile.ready)return{v:!1};if(a.set(e,null),!r)return i.deferred_functions.push((function(){return n.create_regl_buffer(e)})),{v:!1};if(void 0===e)return"continue";n.create_regl_buffer(e)}},v=0,m=["ix","ix_in_tile"].concat(be(o));v<m.length;v++){var y=p();if("continue"!==y&&"object"===typeof y)return y.v}return!0}},{key:"count",get:function(){var e=this.regl_elements,t=this.tile;return e.has("_count")?e.get("_count"):t.ready&&t._batch?(e.set("_count",t.record_batch.getChild("ix").length),e.get("_count")):void 0}},{key:"create_buffer_data",value:function(e){var t=this.tile;if(!t.ready)throw"Tile table not present.";var n=t.record_batch.getChild(e);if(!n){if(!t.dataset.transformations[e]){var r=t.record_batch.schema.fields.map((function(e){return e.name}));throw new Error("Requested ".concat(e,' but table lacks that; the present columns are "').concat(r.join('", "'),'"'))}if(t._batch=t.dataset.transformations[e](t),!(n=t.record_batch.getChild(e)))throw new Error("".concat(e," was not created."))}if(3!==n.type.typeId){var i=new Float32Array(t.record_batch.numRows),a=n.data[0];if(n.type.dictionary)for(var o=0;o<t.record_batch.numRows;o++)i[o]=a.values[o]-2047;else if(2===a.stride&&10===n.type.typeId){var u=new Int32Array(a.values).buffer,s=new BigInt64Array(u),l=n.type.unit,c=0===l?.001:1===l?1:2===l?1e3:3===l?1e6:42;if(42===c)throw new Error("Unknown time type ".concat(l));for(var f=0;f<t.record_batch.numRows;f++)i[f]=Number(s[f])/c}else for(var d=0;d<t.record_batch.numRows;d++)i[d]=Number(a.values[d]);return i}return n.data[0].values.constructor===Float64Array?new Float32Array(n.data[0].values):n.data[0].values}},{key:"create_regl_buffer",value:function(e){var t=this.regl_elements,n=this.create_buffer_data(e);if(n.constructor!==Float32Array)throw console.warn(typeof n,n),new Error("Buffer data must be a Float32Array");var r=n.length,i=this.renderer.buffers.allocate_block(r,4);t.set(e,i),i.buffer.subdata(n,i.offset)}}]),e}(),Qh=function(){function e(t,n){b(this,e),ii(this,"regl"),ii(this,"buffers"),ii(this,"buffer_size"),ii(this,"buffer_offsets"),ii(this,"pointer"),this.regl=t,this.buffer_size=n,this.buffers=[],this.buffer_offsets=[],this.pointer=0,this.generate_new_buffer()}return _(e,[{key:"generate_new_buffer",value:function(){this.pointer&&this.buffer_offsets.unshift(this.pointer),this.pointer=0,this.buffers.unshift(this.regl.buffer({type:"float",length:this.buffer_size,usage:"dynamic"}))}},{key:"allocate_block",value:function(e,t){this.pointer+e*t>this.buffer_size&&this.generate_new_buffer();var n={buffer:this.buffers[0],offset:this.pointer,stride:t};return this.pointer+=e*t,n}}]),e}();function Kh(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function Jh(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ep(e){return this instanceof ep?(this.v=e,this):new ep(e)}function tp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{(n=i[e](t)).value instanceof ep?Promise.resolve(n.value.v).then(s,l):c(a[0][2],n)}catch(r){c(a[0][3],r)}var n}function s(e){u("next",e)}function l(e){u("throw",e)}function c(e,t){e(t),a.shift(),a.length&&u(a[0][0],a[0][1])}}function np(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:ep(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function rp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Jh(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}var ip=new TextDecoder("utf-8"),ap=function(e){return ip.decode(e)},op=new TextEncoder,up=function(e){return op.encode(e)},sp=l(function(){var e=function(){throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=function(){throw e()},t.asUintN=function(){throw e()},"undefined"!==typeof BigInt?[BigInt,!0]:[t,!1]}(),2),lp=(sp[0],sp[1]),cp=l(function(){var e=function(){throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[function(){function t(){throw b(this,t),e()}return _(t,null,[{key:"BYTES_PER_ELEMENT",get:function(){return 8}},{key:"of",value:function(){throw e()}},{key:"from",value:function(){throw e()}}]),t}(),!1]}(),2),fp=cp[0],dp=(cp[1],l(function(){var e=function(){throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[function(){function t(){throw b(this,t),e()}return _(t,null,[{key:"BYTES_PER_ELEMENT",get:function(){return 8}},{key:"of",value:function(){throw e()}},{key:"from",value:function(){throw e()}}]),t}(),!1]}(),2)),hp=dp[0],pp=(dp[1],function(e){return"function"===typeof e}),vp=function(e){return null!=e&&Object(e)===e},mp=function(e){return vp(e)&&pp(e.then)},yp=function(e){return vp(e)&&pp(e[Symbol.iterator])},bp=function(e){return vp(e)&&pp(e[Symbol.asyncIterator])},gp=function(e){return vp(e)&&vp(e.schema)},_p=function(e){return vp(e)&&"done"in e&&"value"in e},wp=function(e){return vp(e)&&pp(e.stat)&&function(e){return"number"===typeof e}(e.fd)},xp=function(e){return vp(e)&&Sp(e.body)},kp=function(e){return"_getDOMStream"in e&&"_getNodeStream"in e},Sp=function(e){return vp(e)&&pp(e.cancel)&&pp(e.getReader)&&!kp(e)},Op=function(e){return vp(e)&&pp(e.read)&&pp(e.pipe)&&function(e){return"boolean"===typeof e}(e.readable)&&!kp(e)},Ap="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function Ep(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,i=e.byteLength,a=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return a.set(o,n),e}function Ip(e,t){for(var n,r,i,a=function(e){for(var t,n,r,i,a,o,u=e[0]?[e[0]]:[],s=0,l=0,c=e.length;++s<c;)if(a=u[l],o=e[s],!a||!o||a.buffer!==o.buffer||o.byteOffset<a.byteOffset)o&&(u[++l]=o);else{var f=a;t=f.byteOffset,r=f.byteLength;var d=o;n=d.byteOffset,i=d.byteLength,t+r<n||n+i<t?o&&(u[++l]=o):u[l]=new Uint8Array(a.buffer,t,n-t+i)}return u}(e),o=a.reduce((function(e,t){return e+t.byteLength}),0),u=0,s=-1,l=Math.min(t||Number.POSITIVE_INFINITY,o),c=a.length;++s<c;){if(l<=u+(r=(n=a[s]).subarray(0,Math.min(n.length,l-u))).length){r.length<n.length?a[s]=n.subarray(r.length):r.length===n.length&&s++,i?Ep(i,r,u):i=r;break}Ep(i||(i=new Uint8Array(l)),r,u),u+=r.length}return[i||new Uint8Array(0),a.slice(s),o-(i?i.byteLength:0)]}function Cp(e,t){var n,r=_p(t)?t.value:t;return r instanceof e?e===Uint8Array?new e(r.buffer,r.byteOffset,r.byteLength):r:r?("string"===typeof r&&(r=up(r)),r instanceof ArrayBuffer||r instanceof Ap?new e(r):vp(n=r)&&pp(n.clear)&&pp(n.bytes)&&pp(n.position)&&pp(n.setPosition)&&pp(n.capacity)&&pp(n.getBufferIdentifier)&&pp(n.createLong)?Cp(e,r.bytes()):ArrayBuffer.isView(r)?r.byteLength<=0?new e(0):new e(r.buffer,r.byteOffset,r.byteLength/e.BYTES_PER_ELEMENT):e.from(r)):new e(0)}var Tp=function(e){return Cp(Int32Array,e)},Mp=function(e){return Cp(Uint8Array,e)},Dp=function(e){return e.next(),e};function jp(e,t){var n,r;return Xr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=Xr().mark((function e(t){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:case"end":return e.stop()}}),e)})),r="string"===typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Ap?n(t):yp(t)?t:n(t),i.delegateYield(Dp(Xr().mark((function t(n){var r;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=null;case 1:return t.t0=n,t.next=4,Cp(e,r);case 4:t.t1=t.sent,r=t.t0.next.call(t.t0,t.t1);case 6:if(!r.done){t.next=1;break}case 7:case"end":return t.stop()}}),t)}))(r[Symbol.iterator]())),"t0",3);case 3:return i.abrupt("return",new e);case 4:case"end":return i.stop()}}),ei)}function zp(e,t){return tp(this,arguments,Xr().mark((function n(){var r,i,a;return Xr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!mp(t)){n.next=20;break}return n.t0=ep,n.t1=ep,n.t2=np,n.t3=rp,n.t4=zp,n.t5=e,n.next=9,ep(t);case 9:return n.t6=n.sent,n.t7=(0,n.t4)(n.t5,n.t6),n.t8=(0,n.t3)(n.t7),n.delegateYield((0,n.t2)(n.t8),"t9",13);case 13:return n.t10=n.t9,n.next=16,(0,n.t1)(n.t10);case 16:return n.t11=n.sent,n.next=19,(0,n.t0)(n.t11);case 19:case 30:return n.abrupt("return",n.sent);case 20:return r=function(e){return tp(this,arguments,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ep,t.next=3,ep(e);case 3:return t.t1=t.sent,t.next=6,(0,t.t0)(t.t1);case 6:return t.next=8,t.sent;case 8:case"end":return t.stop()}}),t)})))},i=function(e){return tp(this,arguments,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ep,t.delegateYield(np(rp(Dp(Xr().mark((function e(t){var n;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null;case 1:return e.t0=t,e.next=4,null===n||void 0===n?void 0:n.value;case 4:e.t1=e.sent,n=e.t0.next.call(e.t0,e.t1);case 6:if(!n.done){e.next=1;break}case 7:case"end":return e.stop()}}),e)}))(e[Symbol.iterator]())))),"t1",2);case 2:return t.t2=t.t1,t.next=5,(0,t.t0)(t.t2);case 5:case"end":return t.stop()}}),t)})))},a="string"===typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Ap?r(t):yp(t)?i(t):bp(t)?t:r(t),n.t12=ep,n.delegateYield(np(rp(Dp(function(t){return tp(this,arguments,Xr().mark((function n(){var r;return Xr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=null;case 1:return n.t0=ep,n.t1=t,n.next=5,ep(Cp(e,r));case 5:return n.next=7,n.sent;case 7:return n.t2=n.sent,n.t3=n.t1.next.call(n.t1,n.t2),n.next=11,(0,n.t0)(n.t3);case 11:r=n.sent;case 12:if(!r.done){n.next=1;break}case 13:case"end":return n.stop()}}),n)})))}(a[Symbol.asyncIterator]())))),"t13",25);case 25:return n.t14=n.t13,n.next=28,(0,n.t12)(n.t14);case 28:return n.next=30,ep(new e);case 31:case"end":return n.stop()}}),n)})))}var Np=function(e){return zp(Uint8Array,e)};var Pp=function(e){return Up(Hp(e))},Fp=function(e){return Up(function(e){return tp(this,arguments,Xr().mark((function t(){var n,r,i,a,o,u,s,c,f,d,h,p;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(){if("peek"===o)return Ip(i,u)[0];var e=l(Ip(i,u),3);return a=e[0],i=e[1],s=e[2],a},r=!1,i=[],s=0,t.next=6,ep(null);case 6:return t.next=8,t.sent;case 8:f=t.sent,o=f.cmd,u=f.size,d=Np(e)[Symbol.asyncIterator](),t.prev=12;case 13:if(!Number.isNaN(u-s)){t.next=19;break}return t.next=16,ep(d.next());case 16:t.t0=t.sent,t.next=22;break;case 19:return t.next=21,ep(d.next(u-s));case 21:t.t0=t.sent;case 22:if(h=t.t0,n=h.done,a=h.value,!n&&a.byteLength>0&&(i.push(a),s+=a.byteLength),!(n||u<=s)){t.next=35;break}case 27:return t.next=29,ep(c());case 29:return t.next=31,t.sent;case 31:p=t.sent,o=p.cmd,u=p.size;case 34:if(u<s){t.next=27;break}case 35:if(!n){t.next=13;break}case 36:t.next=44;break;case 38:if(t.prev=38,t.t1=t.catch(12),t.t2=(r=!0)&&"function"===typeof d.throw,!t.t2){t.next=44;break}return t.next=44,ep(d.throw(t.t1));case 44:if(t.prev=44,t.t3=!1===r&&"function"===typeof d.return,!t.t3){t.next=49;break}return t.next=49,ep(d.return(new Uint8Array(0)));case 49:return t.finish(44);case 50:return t.next=52,ep(null);case 52:return t.abrupt("return",t.sent);case 53:case"end":return t.stop()}}),t,null,[[12,38,44,50]])})))}(e))},Lp=function(e){return Up(function(e){return tp(this,arguments,Xr().mark((function t(){var n,r,i,a,o,u,s,c,f,d,h,p;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(){if("peek"===o)return Ip(i,u)[0];var e=l(Ip(i,u),3);return a=e[0],i=e[1],s=e[2],a},n=!1,r=!1,i=[],s=0,t.next=6,ep(null);case 6:return t.next=8,t.sent;case 8:f=t.sent,o=f.cmd,u=f.size,d=new sv(e),t.prev=12;case 13:if(!Number.isNaN(u-s)){t.next=19;break}return t.next=16,ep(d.read());case 16:t.t0=t.sent,t.next=22;break;case 19:return t.next=21,ep(d.read(u-s));case 21:t.t0=t.sent;case 22:if(h=t.t0,n=h.done,a=h.value,!n&&a.byteLength>0&&(i.push(Mp(a)),s+=a.byteLength),!(n||u<=s)){t.next=35;break}case 27:return t.next=29,ep(c());case 29:return t.next=31,t.sent;case 31:p=t.sent,o=p.cmd,u=p.size;case 34:if(u<s){t.next=27;break}case 35:if(!n){t.next=13;break}case 36:t.next=44;break;case 38:if(t.prev=38,t.t1=t.catch(12),t.t2=r=!0,!t.t2){t.next=44;break}return t.next=44,ep(d.cancel(t.t1));case 44:if(t.prev=44,!1!==r){t.next=50;break}return t.next=48,ep(d.cancel());case 48:t.next=51;break;case 50:e.locked&&d.releaseLock();case 51:return t.finish(44);case 52:return t.next=54,ep(null);case 54:return t.abrupt("return",t.sent);case 55:case"end":return t.stop()}}),t,null,[[12,38,44,52]])})))}(e))},Bp=function(e){return Up(function(e){return tp(this,arguments,Xr().mark((function t(){var n,r,i,a,o,u,s,c,f,d,h,p,v,m,y;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y=function(t,n){return f=c=null,new Promise((function(r,i){var o,u=Qr(t);try{for(u.s();!(o=u.n()).done;){var s=l(o.value,2),c=s[0],f=s[1];e.off(c,f)}}catch(a){u.e(a)}finally{u.f()}try{var d=e.destroy;d&&d.call(e,n),n=void 0}catch(h){n=h||n}finally{null!=n?i(n):r()}}))},d=function(){if("peek"===o)return Ip(c,u)[0];var e=l(Ip(c,u),3);return f=e[0],c=e[1],s=e[2],f},n=[],r="error",i=!1,a=null,s=0,c=[],t.next=9,ep(null);case 9:return t.next=11,t.sent;case 11:if(h=t.sent,o=h.cmd,u=h.size,!e.isTTY){t.next=22;break}return t.next=17,ep(new Uint8Array(0));case 17:return t.next=19,t.sent;case 19:return t.next=21,ep(null);case 21:return t.abrupt("return",t.sent);case 22:t.prev=22,n[0]=lv(e,"end"),n[1]=lv(e,"error");case 25:return n[2]=lv(e,"readable"),t.next=28,ep(Promise.race(n.map((function(e){return e[2]}))));case 28:if(p=t.sent,v=l(p,2),r=v[0],a=v[1],"error"!==r){t.next=34;break}return t.abrupt("break",45);case 34:if((i="end"===r)||(Number.isFinite(u-s)?(f=Mp(e.read(u-s))).byteLength<u-s&&(f=Mp(e.read())):f=Mp(e.read()),f.byteLength>0&&(c.push(f),s+=f.byteLength)),!(i||u<=s)){t.next=44;break}case 36:return t.next=38,ep(d());case 38:return t.next=40,t.sent;case 40:m=t.sent,o=m.cmd,u=m.size;case 43:if(u<s){t.next=36;break}case 44:if(!i){t.next=25;break}case 45:return t.prev=45,t.next=48,ep(y(n,"error"===r?a:null));case 48:return t.finish(45);case 49:return t.next=51,ep(null);case 51:return t.abrupt("return",t.sent);case 52:case"end":return t.stop()}}),t,null,[[22,,45,49]])})))}(e))},Rp=function(e,t){throw new Error('"toDOMStream" not available in this environment')},Vp=function(e,t){throw new Error('"toNodeStream" not available in this environment')},Up=function(e){return e.next(),e};function Hp(e){var t,n,r,i,a,o,u,s,c,f,d,h;return Xr().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return s=function(){if("peek"===a)return Ip(r,o)[0];var e=l(Ip(r,o),3);return i=e[0],r=e[1],u=e[2],i},n=!1,r=[],u=0,p.next=6,null;case 6:c=p.sent,a=c.cmd,o=c.size,f=(v=e,jp(Uint8Array,v))[Symbol.iterator](),p.prev=10;case 11:if(d=Number.isNaN(o-u)?f.next():f.next(o-u),t=d.done,i=d.value,!t&&i.byteLength>0&&(r.push(i),u+=i.byteLength),!(t||o<=u)){p.next=22;break}case 16:return p.next=18,s();case 18:h=p.sent,a=h.cmd,o=h.size;case 21:if(o<u){p.next=16;break}case 22:if(!t){p.next=11;break}case 23:p.next=28;break;case 25:p.prev=25,p.t0=p.catch(10),(n=!0)&&"function"===typeof f.throw&&f.throw(p.t0);case 28:return p.prev=28,!1===n&&"function"===typeof f.return&&f.return(null),p.finish(28);case 31:return p.abrupt("return",null);case 32:case"end":return p.stop()}var v}),ti,null,[[10,25,28,31]])}var Wp,Zp,Yp,$p,Gp,qp,Xp,Qp,Kp,Jp,ev,tv,nv,rv,iv,av,ov,uv,sv=function(){function e(t){b(this,e),this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((function(){}))}return _(e,[{key:"closed",get:function(){return this.reader?this.reader.closed.catch((function(){})):Promise.resolve()}},{key:"releaseLock",value:function(){this.reader&&this.reader.releaseLock(),this.reader=null}},{key:"cancel",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n,r;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.reader,r=this.source,t.t0=n,!t.t0){t.next=5;break}return t.next=5,n.cancel(e).catch((function(){}));case 5:r&&r.locked&&this.releaseLock();case 6:case"end":return t.stop()}}),t,this)})))}},{key:"read",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e){t.next=2;break}return t.abrupt("return",{done:null==this.reader,value:new Uint8Array(0)});case 2:return t.next=4,this.reader.read();case 4:return!(n=t.sent).done&&(n.value=Mp(n)),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})))}}]),e}(),lv=function(e,t){var n,r=function(e){return n([t,e])};return[t,r,new Promise((function(i){return(n=i)&&e.once(t,r)}))]};(Zp=Wp||(Wp={}))[Zp.V1=0]="V1",Zp[Zp.V2=1]="V2",Zp[Zp.V3=2]="V3",Zp[Zp.V4=3]="V4",Zp[Zp.V5=4]="V5",($p=Yp||(Yp={}))[$p.Sparse=0]="Sparse",$p[$p.Dense=1]="Dense",(qp=Gp||(Gp={}))[qp.HALF=0]="HALF",qp[qp.SINGLE=1]="SINGLE",qp[qp.DOUBLE=2]="DOUBLE",(Qp=Xp||(Xp={}))[Qp.DAY=0]="DAY",Qp[Qp.MILLISECOND=1]="MILLISECOND",(Jp=Kp||(Kp={}))[Jp.SECOND=0]="SECOND",Jp[Jp.MILLISECOND=1]="MILLISECOND",Jp[Jp.MICROSECOND=2]="MICROSECOND",Jp[Jp.NANOSECOND=3]="NANOSECOND",(tv=ev||(ev={}))[tv.YEAR_MONTH=0]="YEAR_MONTH",tv[tv.DAY_TIME=1]="DAY_TIME",tv[tv.MONTH_DAY_NANO=2]="MONTH_DAY_NANO",(rv=nv||(nv={}))[rv.NONE=0]="NONE",rv[rv.Schema=1]="Schema",rv[rv.DictionaryBatch=2]="DictionaryBatch",rv[rv.RecordBatch=3]="RecordBatch",rv[rv.Tensor=4]="Tensor",rv[rv.SparseTensor=5]="SparseTensor",(av=iv||(iv={}))[av.NONE=0]="NONE",av[av.Null=1]="Null",av[av.Int=2]="Int",av[av.Float=3]="Float",av[av.Binary=4]="Binary",av[av.Utf8=5]="Utf8",av[av.Bool=6]="Bool",av[av.Decimal=7]="Decimal",av[av.Date=8]="Date",av[av.Time=9]="Time",av[av.Timestamp=10]="Timestamp",av[av.Interval=11]="Interval",av[av.List=12]="List",av[av.Struct=13]="Struct",av[av.Union=14]="Union",av[av.FixedSizeBinary=15]="FixedSizeBinary",av[av.FixedSizeList=16]="FixedSizeList",av[av.Map=17]="Map",av[av.Dictionary=-1]="Dictionary",av[av.Int8=-2]="Int8",av[av.Int16=-3]="Int16",av[av.Int32=-4]="Int32",av[av.Int64=-5]="Int64",av[av.Uint8=-6]="Uint8",av[av.Uint16=-7]="Uint16",av[av.Uint32=-8]="Uint32",av[av.Uint64=-9]="Uint64",av[av.Float16=-10]="Float16",av[av.Float32=-11]="Float32",av[av.Float64=-12]="Float64",av[av.DateDay=-13]="DateDay",av[av.DateMillisecond=-14]="DateMillisecond",av[av.TimestampSecond=-15]="TimestampSecond",av[av.TimestampMillisecond=-16]="TimestampMillisecond",av[av.TimestampMicrosecond=-17]="TimestampMicrosecond",av[av.TimestampNanosecond=-18]="TimestampNanosecond",av[av.TimeSecond=-19]="TimeSecond",av[av.TimeMillisecond=-20]="TimeMillisecond",av[av.TimeMicrosecond=-21]="TimeMicrosecond",av[av.TimeNanosecond=-22]="TimeNanosecond",av[av.DenseUnion=-23]="DenseUnion",av[av.SparseUnion=-24]="SparseUnion",av[av.IntervalDayTime=-25]="IntervalDayTime",av[av.IntervalYearMonth=-26]="IntervalYearMonth",(uv=ov||(ov={}))[uv.OFFSET=0]="OFFSET",uv[uv.DATA=1]="DATA",uv[uv.VALIDITY=2]="VALIDITY",uv[uv.TYPE=3]="TYPE";function cv(e){if(null===e)return"null";if(undefined===e)return"undefined";switch(typeof e){case"number":case"bigint":return"".concat(e);case"string":return'"'.concat(e,'"')}return"function"===typeof e[Symbol.toPrimitive]?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?"[".concat(be(e).map((function(e){return cv(e)})),"]"):"[".concat(e,"]"):ArrayBuffer.isView(e)?"[".concat(e,"]"):JSON.stringify(e,(function(e,t){return"bigint"===typeof t?"".concat(t):t}))}var fv,dv,hv=Symbol.for("isArrowBigNum");function pv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===n.length?Object.setPrototypeOf(Cp(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(Zr(this.TypedArray,[e].concat(n)),this.constructor.prototype)}function vv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pv.apply(this,t)}function mv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pv.apply(this,t)}function yv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pv.apply(this,t)}function bv(e){var t=e.buffer,n=e.byteOffset,r=e.length,i=e.signed,a=new hp(t,n,r),o=i&&a[a.length-1]&BigInt(1)<<BigInt(63),u=o?BigInt(1):BigInt(0),s=BigInt(0);if(o){var l,c=Qr(a);try{for(c.s();!(l=c.n()).done;){u+=~l.value*(BigInt(1)<<BigInt(32)*s++)}}catch(Lk){c.e(Lk)}finally{c.f()}u*=BigInt(-1)}else{var f,d=Qr(a);try{for(d.s();!(f=d.n()).done;){u+=f.value*(BigInt(1)<<BigInt(32)*s++)}}catch(Lk){d.e(Lk)}finally{d.f()}}return u}function gv(e){var t="",n=new Uint32Array(2),r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),a=-1,o=r.length-1;do{for(n[0]=r[a=0];a<o;)r[a++]=n[1]=n[0]/10,n[0]=(n[0]-10*n[1]<<16)+r[a];r[a]=n[1]=n[0]/10,n[0]=n[0]-10*n[1],t="".concat(n[0]).concat(t)}while(i[0]||i[1]||i[2]||i[3]);return null!==t&&void 0!==t?t:"0"}pv.prototype[hv]=!0,pv.prototype.toJSON=function(){return'"'.concat(fv(this),'"')},pv.prototype.valueOf=function(){return bv(this)},pv.prototype.toString=function(){return fv(this)},pv.prototype[Symbol.toPrimitive]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";switch(e){case"number":return bv(this);case"string":return fv(this);case"default":return dv(this)}return fv(this)},Object.setPrototypeOf(vv.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(mv.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(yv.prototype,Object.create(Uint32Array.prototype)),Object.assign(vv.prototype,pv.prototype,{constructor:vv,signed:!0,TypedArray:Int32Array,BigIntArray:fp}),Object.assign(mv.prototype,pv.prototype,{constructor:mv,signed:!1,TypedArray:Uint32Array,BigIntArray:hp}),Object.assign(yv.prototype,pv.prototype,{constructor:yv,signed:!0,TypedArray:Uint32Array,BigIntArray:hp}),lp?(dv=function(e){return 8===e.byteLength?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:gv(e)},fv=function(e){return 8===e.byteLength?"".concat(new e.BigIntArray(e.buffer,e.byteOffset,1)[0]):gv(e)}):dv=fv=gv;var _v,wv,xv,kv,Sv,Ov,Av,Ev,Iv,Cv,Tv,Mv,Dv,jv,zv,Nv,Pv,Fv,Lv,Bv,Rv=function(){function e(t,n){return b(this,e),e.new(t,n)}return _(e,null,[{key:"new",value:function(e,t){switch(t){case!0:return new vv(e);case!1:return new mv(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case fp:return new vv(e)}return 16===e.byteLength?new yv(e):new mv(e)}},{key:"signed",value:function(e){return new vv(e)}},{key:"unsigned",value:function(e){return new mv(e)}},{key:"decimal",value:function(e){return new yv(e)}}]),e}(),Vv=function(){function e(){b(this,e)}return _(e,[{key:"typeId",get:function(){return iv.NONE}}],[{key:"isNull",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Null}},{key:"isInt",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Int}},{key:"isFloat",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Float}},{key:"isBinary",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Binary}},{key:"isUtf8",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Utf8}},{key:"isBool",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Bool}},{key:"isDecimal",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Decimal}},{key:"isDate",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Date}},{key:"isTime",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Time}},{key:"isTimestamp",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Timestamp}},{key:"isInterval",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Interval}},{key:"isList",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.List}},{key:"isStruct",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Struct}},{key:"isUnion",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Union}},{key:"isFixedSizeBinary",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.FixedSizeBinary}},{key:"isFixedSizeList",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.FixedSizeList}},{key:"isMap",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Map}},{key:"isDictionary",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===iv.Dictionary}},{key:"isDenseUnion",value:function(t){return e.isUnion(t)&&t.mode===Yp.Dense}},{key:"isSparseUnion",value:function(t){return e.isUnion(t)&&t.mode===Yp.Sparse}}]),e}();_v=Symbol.toStringTag,Vv[_v]=((Bv=Vv.prototype).children=null,Bv.ArrayType=Array,Bv[Symbol.toStringTag]="DataType");var Uv=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"toString",value:function(){return"Null"}},{key:"typeId",get:function(){return iv.Null}}]),n}(Vv);wv=Symbol.toStringTag,Uv[wv]=function(e){return e[Symbol.toStringTag]="Null"}(Uv.prototype);var Hv=function(e){x(n,e);var t=Gr(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).isSigned=e,i.bitWidth=r,i}return _(n,[{key:"typeId",get:function(){return iv.Int}},{key:"ArrayType",get:function(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}},{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}]),n}(Vv);xv=Symbol.toStringTag,Hv[xv]=function(e){return e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"}(Hv.prototype);var Wv=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this,!0,8)}return _(n,[{key:"ArrayType",get:function(){return Int8Array}}]),n}(Hv),Zv=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this,!0,16)}return _(n,[{key:"ArrayType",get:function(){return Int16Array}}]),n}(Hv),Yv=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this,!0,32)}return _(n,[{key:"ArrayType",get:function(){return Int32Array}}]),n}(Hv),$v=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this,!0,64)}return _(n,[{key:"ArrayType",get:function(){return BigInt64Array}}]),n}(Hv),Gv=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this,!1,8)}return _(n,[{key:"ArrayType",get:function(){return Uint8Array}}]),n}(Hv),qv=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this,!1,16)}return _(n,[{key:"ArrayType",get:function(){return Uint16Array}}]),n}(Hv),Xv=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this,!1,32)}return _(n,[{key:"ArrayType",get:function(){return Uint32Array}}]),n}(Hv),Qv=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this,!1,64)}return _(n,[{key:"ArrayType",get:function(){return BigUint64Array}}]),n}(Hv);Object.defineProperty(Wv.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(Zv.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(Yv.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty($v.prototype,"ArrayType",{value:BigInt64Array}),Object.defineProperty(Gv.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(qv.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(Xv.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(Qv.prototype,"ArrayType",{value:BigUint64Array});var Kv=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this)).precision=e,r}return _(n,[{key:"typeId",get:function(){return iv.Float}},{key:"ArrayType",get:function(){switch(this.precision){case Gp.HALF:return Uint16Array;case Gp.SINGLE:return Float32Array;case Gp.DOUBLE:return Float64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}},{key:"toString",value:function(){return"Float".concat(this.precision<<5||16)}}]),n}(Vv);kv=Symbol.toStringTag,Kv[kv]=function(e){return e.precision=null,e[Symbol.toStringTag]="Float"}(Kv.prototype);var Jv=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this,Gp.SINGLE)}return _(n)}(Kv),em=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this,Gp.DOUBLE)}return _(n)}(Kv);Object.defineProperty(Jv.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(em.prototype,"ArrayType",{value:Float64Array});var tm=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this)}return _(n,[{key:"typeId",get:function(){return iv.Binary}},{key:"toString",value:function(){return"Binary"}}]),n}(Vv);Sv=Symbol.toStringTag,tm[Sv]=function(e){return e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"}(tm.prototype);var nm=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this)}return _(n,[{key:"typeId",get:function(){return iv.Utf8}},{key:"toString",value:function(){return"Utf8"}}]),n}(Vv);Ov=Symbol.toStringTag,nm[Ov]=function(e){return e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"}(nm.prototype);var rm=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this)}return _(n,[{key:"typeId",get:function(){return iv.Bool}},{key:"toString",value:function(){return"Bool"}}]),n}(Vv);Av=Symbol.toStringTag,rm[Av]=function(e){return e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"}(rm.prototype);var im=function(e){x(n,e);var t=Gr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;return b(this,n),(i=t.call(this)).scale=e,i.precision=r,i.bitWidth=a,i}return _(n,[{key:"typeId",get:function(){return iv.Decimal}},{key:"toString",value:function(){return"Decimal[".concat(this.precision,"e").concat(this.scale>0?"+":"").concat(this.scale,"]")}}]),n}(Vv);Ev=Symbol.toStringTag,im[Ev]=function(e){return e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"}(im.prototype);var am=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this)).unit=e,r}return _(n,[{key:"typeId",get:function(){return iv.Date}},{key:"toString",value:function(){return"Date".concat(32*(this.unit+1),"<").concat(Xp[this.unit],">")}}]),n}(Vv);Iv=Symbol.toStringTag,am[Iv]=function(e){return e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"}(am.prototype);var om=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.call(this,Xp.MILLISECOND)}return _(n)}(am),um=function(e){x(n,e);var t=Gr(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).unit=e,i.bitWidth=r,i}return _(n,[{key:"typeId",get:function(){return iv.Time}},{key:"toString",value:function(){return"Time".concat(this.bitWidth,"<").concat(Kp[this.unit],">")}},{key:"ArrayType",get:function(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}}]),n}(Vv);Cv=Symbol.toStringTag,um[Cv]=function(e){return e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"}(um.prototype);var sm=function(e){x(n,e);var t=Gr(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).unit=e,i.timezone=r,i}return _(n,[{key:"typeId",get:function(){return iv.Timestamp}},{key:"toString",value:function(){return"Timestamp<".concat(Kp[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}]),n}(Vv);Tv=Symbol.toStringTag,sm[Tv]=function(e){return e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"}(sm.prototype);var lm=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this)).unit=e,r}return _(n,[{key:"typeId",get:function(){return iv.Interval}},{key:"toString",value:function(){return"Interval<".concat(ev[this.unit],">")}}]),n}(Vv);Mv=Symbol.toStringTag,lm[Mv]=function(e){return e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"}(lm.prototype);var cm=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this)).children=[e],r}return _(n,[{key:"typeId",get:function(){return iv.List}},{key:"toString",value:function(){return"List<".concat(this.valueType,">")}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:"ArrayType",get:function(){return this.valueType.ArrayType}}]),n}(Vv);Dv=Symbol.toStringTag,cm[Dv]=function(e){return e.children=null,e[Symbol.toStringTag]="List"}(cm.prototype);var fm=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this)).children=e,r}return _(n,[{key:"typeId",get:function(){return iv.Struct}},{key:"toString",value:function(){return"Struct<{".concat(this.children.map((function(e){return"".concat(e.name,":").concat(e.type)})).join(", "),"}>")}}]),n}(Vv);jv=Symbol.toStringTag,fm[jv]=function(e){return e.children=null,e[Symbol.toStringTag]="Struct"}(fm.prototype);var dm=function(e){x(n,e);var t=Gr(n);function n(e,r,i){var a;return b(this,n),(a=t.call(this)).mode=e,a.children=i,a.typeIds=r=Int32Array.from(r),a.typeIdToChildIndex=r.reduce((function(e,t,n){return(e[t]=n)&&e||e}),Object.create(null)),a}return _(n,[{key:"typeId",get:function(){return iv.Union}},{key:"toString",value:function(){return"".concat(this[Symbol.toStringTag],"<").concat(this.children.map((function(e){return"".concat(e.type)})).join(" | "),">")}}]),n}(Vv);zv=Symbol.toStringTag,dm[zv]=function(e){return e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"}(dm.prototype);var hm=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this)).byteWidth=e,r}return _(n,[{key:"typeId",get:function(){return iv.FixedSizeBinary}},{key:"toString",value:function(){return"FixedSizeBinary[".concat(this.byteWidth,"]")}}]),n}(Vv);Nv=Symbol.toStringTag,hm[Nv]=function(e){return e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"}(hm.prototype);var pm=function(e){x(n,e);var t=Gr(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).listSize=e,i.children=[r],i}return _(n,[{key:"typeId",get:function(){return iv.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:"ArrayType",get:function(){return this.valueType.ArrayType}},{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}]),n}(Vv);Pv=Symbol.toStringTag,pm[Pv]=function(e){return e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"}(pm.prototype);var vm=function(e){x(n,e);var t=Gr(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b(this,n),(r=t.call(this)).children=[e],r.keysSorted=i,r}return _(n,[{key:"typeId",get:function(){return iv.Map}},{key:"keyType",get:function(){return this.children[0].type.children[0].type}},{key:"valueType",get:function(){return this.children[0].type.children[1].type}},{key:"childType",get:function(){return this.children[0].type}},{key:"toString",value:function(){return"Map<{".concat(this.children[0].type.children.map((function(e){return"".concat(e.name,":").concat(e.type)})).join(", "),"}>")}}]),n}(Vv);Fv=Symbol.toStringTag,vm[Fv]=function(e){return e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"}(vm.prototype);var mm,ym=(mm=-1,function(){return++mm}),bm=function(e){x(n,e);var t=Gr(n);function n(e,r,i,a){var o;return b(this,n),(o=t.call(this)).indices=r,o.dictionary=e,o.isOrdered=a||!1,o.id=null==i?ym():"number"===typeof i?i:i.low,o}return _(n,[{key:"typeId",get:function(){return iv.Dictionary}},{key:"children",get:function(){return this.dictionary.children}},{key:"valueType",get:function(){return this.dictionary}},{key:"ArrayType",get:function(){return this.dictionary.ArrayType}},{key:"toString",value:function(){return"Dictionary<".concat(this.indices,", ").concat(this.dictionary,">")}}]),n}(Vv);function gm(e){var t=e;switch(e.typeId){case iv.Decimal:return e.bitWidth/32;case iv.Timestamp:return 2;case iv.Date:case iv.Interval:return 1+t.unit;case iv.FixedSizeList:return t.listSize;case iv.FixedSizeBinary:return t.byteWidth;default:return 1}}Lv=Symbol.toStringTag,bm[Lv]=function(e){return e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"}(bm.prototype);var _m=function(){function e(){b(this,e)}return _(e,[{key:"visitMany",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.map((function(e,n){return t.visit.apply(t,[e].concat(be(r.map((function(e){return e[n]})))))}))}},{key:"visit",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.getVisitFn(t[0],!1).apply(this,t)}},{key:"getVisitFn",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return wm(this,e,t)}},{key:"getVisitFnByTypeId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return xm(this,e,t)}},{key:"visitNull",value:function(e){return null}},{key:"visitBool",value:function(e){return null}},{key:"visitInt",value:function(e){return null}},{key:"visitFloat",value:function(e){return null}},{key:"visitUtf8",value:function(e){return null}},{key:"visitBinary",value:function(e){return null}},{key:"visitFixedSizeBinary",value:function(e){return null}},{key:"visitDate",value:function(e){return null}},{key:"visitTimestamp",value:function(e){return null}},{key:"visitTime",value:function(e){return null}},{key:"visitDecimal",value:function(e){return null}},{key:"visitList",value:function(e){return null}},{key:"visitStruct",value:function(e){return null}},{key:"visitUnion",value:function(e){return null}},{key:"visitDictionary",value:function(e){return null}},{key:"visitInterval",value:function(e){return null}},{key:"visitFixedSizeList",value:function(e){return null}},{key:"visitMap",value:function(e){return null}}]),e}();function wm(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return"number"===typeof t?xm(e,t,n):"string"===typeof t&&t in iv?xm(e,iv[t],n):t&&t instanceof Vv?xm(e,km(t),n):(null===t||void 0===t?void 0:t.type)&&t.type instanceof Vv?xm(e,km(t.type),n):xm(e,iv.NONE,n)}function xm(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=null;switch(t){case iv.Null:r=e.visitNull;break;case iv.Bool:r=e.visitBool;break;case iv.Int:r=e.visitInt;break;case iv.Int8:r=e.visitInt8||e.visitInt;break;case iv.Int16:r=e.visitInt16||e.visitInt;break;case iv.Int32:r=e.visitInt32||e.visitInt;break;case iv.Int64:r=e.visitInt64||e.visitInt;break;case iv.Uint8:r=e.visitUint8||e.visitInt;break;case iv.Uint16:r=e.visitUint16||e.visitInt;break;case iv.Uint32:r=e.visitUint32||e.visitInt;break;case iv.Uint64:r=e.visitUint64||e.visitInt;break;case iv.Float:r=e.visitFloat;break;case iv.Float16:r=e.visitFloat16||e.visitFloat;break;case iv.Float32:r=e.visitFloat32||e.visitFloat;break;case iv.Float64:r=e.visitFloat64||e.visitFloat;break;case iv.Utf8:r=e.visitUtf8;break;case iv.Binary:r=e.visitBinary;break;case iv.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case iv.Date:r=e.visitDate;break;case iv.DateDay:r=e.visitDateDay||e.visitDate;break;case iv.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case iv.Timestamp:r=e.visitTimestamp;break;case iv.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case iv.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case iv.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case iv.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case iv.Time:r=e.visitTime;break;case iv.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case iv.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case iv.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case iv.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case iv.Decimal:r=e.visitDecimal;break;case iv.List:r=e.visitList;break;case iv.Struct:r=e.visitStruct;break;case iv.Union:r=e.visitUnion;break;case iv.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case iv.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case iv.Dictionary:r=e.visitDictionary;break;case iv.Interval:r=e.visitInterval;break;case iv.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case iv.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case iv.FixedSizeList:r=e.visitFixedSizeList;break;case iv.Map:r=e.visitMap}if("function"===typeof r)return r;if(!n)return function(){return null};throw new Error("Unrecognized type '".concat(iv[t],"'"))}function km(e){switch(e.typeId){case iv.Null:return iv.Null;case iv.Int:var t=e.bitWidth,n=e.isSigned;switch(t){case 8:return n?iv.Int8:iv.Uint8;case 16:return n?iv.Int16:iv.Uint16;case 32:return n?iv.Int32:iv.Uint32;case 64:return n?iv.Int64:iv.Uint64}return iv.Int;case iv.Float:switch(e.precision){case Gp.HALF:return iv.Float16;case Gp.SINGLE:return iv.Float32;case Gp.DOUBLE:return iv.Float64}return iv.Float;case iv.Binary:return iv.Binary;case iv.Utf8:return iv.Utf8;case iv.Bool:return iv.Bool;case iv.Decimal:return iv.Decimal;case iv.Time:switch(e.unit){case Kp.SECOND:return iv.TimeSecond;case Kp.MILLISECOND:return iv.TimeMillisecond;case Kp.MICROSECOND:return iv.TimeMicrosecond;case Kp.NANOSECOND:return iv.TimeNanosecond}return iv.Time;case iv.Timestamp:switch(e.unit){case Kp.SECOND:return iv.TimestampSecond;case Kp.MILLISECOND:return iv.TimestampMillisecond;case Kp.MICROSECOND:return iv.TimestampMicrosecond;case Kp.NANOSECOND:return iv.TimestampNanosecond}return iv.Timestamp;case iv.Date:switch(e.unit){case Xp.DAY:return iv.DateDay;case Xp.MILLISECOND:return iv.DateMillisecond}return iv.Date;case iv.Interval:switch(e.unit){case ev.DAY_TIME:return iv.IntervalDayTime;case ev.YEAR_MONTH:return iv.IntervalYearMonth}return iv.Interval;case iv.Map:return iv.Map;case iv.List:return iv.List;case iv.Struct:return iv.Struct;case iv.Union:switch(e.mode){case Yp.Dense:return iv.DenseUnion;case Yp.Sparse:return iv.SparseUnion}return iv.Union;case iv.FixedSizeBinary:return iv.FixedSizeBinary;case iv.FixedSizeList:return iv.FixedSizeList;case iv.Dictionary:return iv.Dictionary}throw new Error("Unrecognized type '".concat(iv[e.typeId],"'"))}_m.prototype.visitInt8=null,_m.prototype.visitInt16=null,_m.prototype.visitInt32=null,_m.prototype.visitInt64=null,_m.prototype.visitUint8=null,_m.prototype.visitUint16=null,_m.prototype.visitUint32=null,_m.prototype.visitUint64=null,_m.prototype.visitFloat16=null,_m.prototype.visitFloat32=null,_m.prototype.visitFloat64=null,_m.prototype.visitDateDay=null,_m.prototype.visitDateMillisecond=null,_m.prototype.visitTimestampSecond=null,_m.prototype.visitTimestampMillisecond=null,_m.prototype.visitTimestampMicrosecond=null,_m.prototype.visitTimestampNanosecond=null,_m.prototype.visitTimeSecond=null,_m.prototype.visitTimeMillisecond=null,_m.prototype.visitTimeMicrosecond=null,_m.prototype.visitTimeNanosecond=null,_m.prototype.visitDenseUnion=null,_m.prototype.visitSparseUnion=null,_m.prototype.visitIntervalDayTime=null,_m.prototype.visitIntervalYearMonth=null;var Sm=new Float64Array(1),Om=new Uint32Array(Sm.buffer);function Am(e){var t=(31744&e)>>10,n=(1023&e)/1024,r=Math.pow(-1,(32768&e)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function Em(e){if(e!==e)return 32256;Sm[0]=e;var t=(2147483648&Om[1])>>16&65535,n=2146435072&Om[1],r=0;return n>=1089470464?Om[0]>0?n=31744:(n=(2080374784&n)>>16,r=(1048575&Om[1])>>10):n<=1056964608?(r=1048576+((r=1048576+(1048575&Om[1]))<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=512+(1048575&Om[1])>>10),t|n|65535&r}var Im=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(_m);function Cm(e){return function(t,n,r){if(t.setValid(n,null!=r))return e(t,n,r)}}var Tm=function(e,t,n){e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},Mm=function(e,t,n,r){if(n+1<t.length){var i=t[n],a=t[n+1];e.set(r.subarray(0,a-i),i)}},Dm=function(e,t,n){e.values[t]=n},jm=function(e,t,n){e.values[t]=n},zm=function(e,t,n){e.values[t]=Em(n)},Nm=function(e,t,n){!function(e,t,n){e[t]=Math.trunc(n/864e5)}(e.values,t,n.valueOf())},Pm=function(e,t,n){var r=e.values;Tm(r,2*t,n.valueOf())},Fm=function(e,t,n){var r=e.stride;e.values.set(n.subarray(0,r),r*t)},Lm=function(e,t,n){e.type.unit===Xp.DAY?Nm(e,t,n):Pm(e,t,n)},Bm=function(e,t,n){var r=e.values;return Tm(r,2*t,n/1e3)},Rm=function(e,t,n){var r=e.values;return Tm(r,2*t,n)},Vm=function(e,t,n){return function(e,t,n){e[t]=Math.trunc(1e3*n%4294967296),e[t+1]=Math.trunc(1e3*n/4294967296)}(e.values,2*t,n)},Um=function(e,t,n){return function(e,t,n){e[t]=Math.trunc(1e6*n%4294967296),e[t+1]=Math.trunc(1e6*n/4294967296)}(e.values,2*t,n)},Hm=function(e,t,n){switch(e.type.unit){case Kp.SECOND:return Bm(e,t,n);case Kp.MILLISECOND:return Rm(e,t,n);case Kp.MICROSECOND:return Vm(e,t,n);case Kp.NANOSECOND:return Um(e,t,n)}},Wm=function(e,t,n){e.values[t]=n},Zm=function(e,t,n){e.values[t]=n},Ym=function(e,t,n){e.values[t]=n},$m=function(e,t,n){e.values[t]=n},Gm=function(e,t,n){switch(e.type.unit){case Kp.SECOND:return Wm(e,t,n);case Kp.MILLISECOND:return Zm(e,t,n);case Kp.MICROSECOND:return Ym(e,t,n);case Kp.NANOSECOND:return $m(e,t,n)}},qm=function(e,t,n){var r=e.values,i=e.stride;r.set(n.subarray(0,i),i*t)},Xm=function(e,t,n){var r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ty.visit(i,e.valueOffsets[t],n)},Qm=function(e,t,n){var r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ty.visit(i,t,n)},Km=function(e,t,n){e.type.unit===ev.DAY_TIME?Jm(e,t,n):ey(e,t,n)},Jm=function(e,t,n){e.values.set(n.subarray(0,2),2*t)},ey=function(e,t,n){e.values[t]=12*n[0]+n[1]%12};Im.prototype.visitBool=Cm((function(e,t,n){var r=e.offset,i=e.values,a=r+t;n?i[a>>3]|=1<<a%8:i[a>>3]&=~(1<<a%8)})),Im.prototype.visitInt=Cm(Dm),Im.prototype.visitInt8=Cm(Dm),Im.prototype.visitInt16=Cm(Dm),Im.prototype.visitInt32=Cm(Dm),Im.prototype.visitInt64=Cm(Dm),Im.prototype.visitUint8=Cm(Dm),Im.prototype.visitUint16=Cm(Dm),Im.prototype.visitUint32=Cm(Dm),Im.prototype.visitUint64=Cm(Dm),Im.prototype.visitFloat=Cm((function(e,t,n){switch(e.type.precision){case Gp.HALF:return zm(e,t,n);case Gp.SINGLE:case Gp.DOUBLE:return jm(e,t,n)}})),Im.prototype.visitFloat16=Cm(zm),Im.prototype.visitFloat32=Cm(jm),Im.prototype.visitFloat64=Cm(jm),Im.prototype.visitUtf8=Cm((function(e,t,n){var r=e.values,i=e.valueOffsets;Mm(r,i,t,up(n))})),Im.prototype.visitBinary=Cm((function(e,t,n){var r=e.values,i=e.valueOffsets;return Mm(r,i,t,n)})),Im.prototype.visitFixedSizeBinary=Cm(Fm),Im.prototype.visitDate=Cm(Lm),Im.prototype.visitDateDay=Cm(Nm),Im.prototype.visitDateMillisecond=Cm(Pm),Im.prototype.visitTimestamp=Cm(Hm),Im.prototype.visitTimestampSecond=Cm(Bm),Im.prototype.visitTimestampMillisecond=Cm(Rm),Im.prototype.visitTimestampMicrosecond=Cm(Vm),Im.prototype.visitTimestampNanosecond=Cm(Um),Im.prototype.visitTime=Cm(Gm),Im.prototype.visitTimeSecond=Cm(Wm),Im.prototype.visitTimeMillisecond=Cm(Zm),Im.prototype.visitTimeMicrosecond=Cm(Ym),Im.prototype.visitTimeNanosecond=Cm($m),Im.prototype.visitDecimal=Cm(qm),Im.prototype.visitList=Cm((function(e,t,n){var r=e.children[0],i=e.valueOffsets,a=ty.getVisitFn(r);if(Array.isArray(n))for(var o=-1,u=i[t],s=i[t+1];u<s;)a(r,u++,n[++o]);else for(var l=-1,c=i[t],f=i[t+1];c<f;)a(r,c++,n.get(++l))})),Im.prototype.visitStruct=Cm((function(e,t,n){var r=e.type.children.map((function(e){return ty.getVisitFn(e.type)})),i=n instanceof Map?function(e,t){return function(n,r,i,a){return r&&n(r,e,t.get(i.name))}}(t,n):n instanceof _b?function(e,t){return function(n,r,i,a){return r&&n(r,e,t.get(a))}}(t,n):Array.isArray(n)?function(e,t){return function(n,r,i,a){return r&&n(r,e,t[a])}}(t,n):function(e,t){return function(n,r,i,a){return r&&n(r,e,t[i.name])}}(t,n);e.type.children.forEach((function(t,n){return i(r[n],e.children[n],t,n)}))})),Im.prototype.visitUnion=Cm((function(e,t,n){e.type.mode===Yp.Dense?Xm(e,t,n):Qm(e,t,n)})),Im.prototype.visitDenseUnion=Cm(Xm),Im.prototype.visitSparseUnion=Cm(Qm),Im.prototype.visitDictionary=Cm((function(e,t,n){var r;null===(r=e.dictionary)||void 0===r||r.set(e.values[t],n)})),Im.prototype.visitInterval=Cm(Km),Im.prototype.visitIntervalDayTime=Cm(Jm),Im.prototype.visitIntervalYearMonth=Cm(ey),Im.prototype.visitFixedSizeList=Cm((function(e,t,n){var r=e.stride,i=e.children[0],a=ty.getVisitFn(i);if(Array.isArray(n))for(var o=-1,u=t*r;++o<r;)a(i,u+o,n[o]);else for(var s=-1,l=t*r;++s<r;)a(i,l+s,n.get(s))})),Im.prototype.visitMap=Cm((function(e,t,n){var r,i=e.children[0],a=e.valueOffsets,o=ty.getVisitFn(i),u=a[t],s=a[t+1],l=Qr(n instanceof Map?n.entries():Object.entries(n));try{for(l.s();!(r=l.n()).done;){if(o(i,u,r.value),++u>=s)break}}catch(Lk){l.e(Lk)}finally{l.f()}}));var ty=new Im,ny=Symbol.for("parent"),ry=Symbol.for("rowIndex"),iy=function(e,t){function n(e,t){return b(this,n),this[ny]=e,this[ry]=t,new Proxy(this,new oy)}return _(n,[{key:"toArray",value:function(){return Object.values(this.toJSON())}},{key:"toJSON",value:function(){for(var e=this[ry],t=this[ny],n=t.type.children,r={},i=-1,a=n.length;++i<a;)r[n[i].name]=Cy.visit(t.children[i],e);return r}},{key:"toString",value:function(){return"{".concat(be(this).map((function(e){var t=l(e,2),n=t[0],r=t[1];return"".concat(cv(n),": ").concat(cv(r))})).join(", "),"}")}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.toString()}},{key:Symbol.iterator,value:function(){return new ay(this[ny],this[ry])}}]),n}(),ay=function(e){function t(e,n){b(this,t),this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}return _(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,Cy.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}]),t}();Object.defineProperties(iy.prototype,(Fr={},(0,i.Z)(Fr,Symbol.toStringTag,{enumerable:!1,configurable:!1,value:"Row"}),(0,i.Z)(Fr,ny,{writable:!0,enumerable:!1,configurable:!1,value:null}),(0,i.Z)(Fr,ry,{writable:!0,enumerable:!1,configurable:!1,value:-1}),Fr));var oy=function(){function e(){b(this,e)}return _(e,[{key:"isExtensible",value:function(){return!1}},{key:"deleteProperty",value:function(){return!1}},{key:"preventExtensions",value:function(){return!0}},{key:"ownKeys",value:function(e){return e[ny].type.children.map((function(e){return e.name}))}},{key:"has",value:function(e,t){return-1!==e[ny].type.children.findIndex((function(e){return e.name===t}))}},{key:"getOwnPropertyDescriptor",value:function(e,t){if(-1!==e[ny].type.children.findIndex((function(e){return e.name===t})))return{writable:!0,enumerable:!0,configurable:!0}}},{key:"get",value:function(e,t){if(Reflect.has(e,t))return e[t];var n=e[ny].type.children.findIndex((function(e){return e.name===t}));if(-1!==n){var r=Cy.visit(e[ny].children[n],e[ry]);return Reflect.set(e,t,r),r}}},{key:"set",value:function(e,t,n){var r=e[ny].type.children.findIndex((function(e){return e.name===t}));return-1!==r?(ty.visit(e[ny].children[r],e[ry],n),Reflect.set(e,t,n)):!(!Reflect.has(e,t)&&"symbol"!==typeof t)&&Reflect.set(e,t,n)}}]),e}(),uy=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(_m);function sy(e){return function(t,n){return t.getValid(n)?e(t,n):null}}var ly=function(e,t){return 4294967296*e[t+1]+(e[t]>>>0)},cy=function(e){return new Date(e)},fy=function(e,t,n){if(n+1>=t.length)return null;var r=t[n],i=t[n+1];return e.subarray(r,i)},dy=function(e,t){return function(e,t){return cy(function(e,t){return 864e5*e[t]}(e,t))}(e.values,t)},hy=function(e,t){return function(e,t){return cy(ly(e,t))}(e.values,2*t)},py=function(e,t){var n=e.stride;return e.values[n*t]},vy=function(e,t){return e.values[t]},my=function(e,t){var n=e.values;return 1e3*ly(n,2*t)},yy=function(e,t){var n=e.values;return ly(n,2*t)},by=function(e,t){return function(e,t){return e[t+1]/1e3*4294967296+(e[t]>>>0)/1e3}(e.values,2*t)},gy=function(e,t){return function(e,t){return e[t+1]/1e6*4294967296+(e[t]>>>0)/1e6}(e.values,2*t)},_y=function(e,t){return e.values[t]},wy=function(e,t){return e.values[t]},xy=function(e,t){return e.values[t]},ky=function(e,t){return e.values[t]},Sy=function(e,t){var n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Cy.visit(r,e.valueOffsets[t])},Oy=function(e,t){var n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Cy.visit(r,t)},Ay=function(e,t){return e.values.subarray(2*t,2*(t+1))},Ey=function(e,t){var n=e.values[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r};uy.prototype.visitNull=sy((function(e,t){return null})),uy.prototype.visitBool=sy((function(e,t){var n=e.offset+t;return 0!==(e.values[n>>3]&1<<n%8)})),uy.prototype.visitInt=sy((function(e,t){return e.values[t]})),uy.prototype.visitInt8=sy(py),uy.prototype.visitInt16=sy(py),uy.prototype.visitInt32=sy(py),uy.prototype.visitInt64=sy(vy),uy.prototype.visitUint8=sy(py),uy.prototype.visitUint16=sy(py),uy.prototype.visitUint32=sy(py),uy.prototype.visitUint64=sy(vy),uy.prototype.visitFloat=sy((function(e,t){var n=e.type,r=e.values;return n.precision!==Gp.HALF?r[t]:Am(r[t])})),uy.prototype.visitFloat16=sy((function(e,t){var n=e.stride;return Am(e.values[n*t])})),uy.prototype.visitFloat32=sy(py),uy.prototype.visitFloat64=sy(py),uy.prototype.visitUtf8=sy((function(e,t){var n=e.values,r=e.valueOffsets,i=fy(n,r,t);return null!==i?ap(i):null})),uy.prototype.visitBinary=sy((function(e,t){var n=e.values,r=e.valueOffsets;return fy(n,r,t)})),uy.prototype.visitFixedSizeBinary=sy((function(e,t){var n=e.stride;return e.values.subarray(n*t,n*(t+1))})),uy.prototype.visitDate=sy((function(e,t){return e.type.unit===Xp.DAY?dy(e,t):hy(e,t)})),uy.prototype.visitDateDay=sy(dy),uy.prototype.visitDateMillisecond=sy(hy),uy.prototype.visitTimestamp=sy((function(e,t){switch(e.type.unit){case Kp.SECOND:return my(e,t);case Kp.MILLISECOND:return yy(e,t);case Kp.MICROSECOND:return by(e,t);case Kp.NANOSECOND:return gy(e,t)}})),uy.prototype.visitTimestampSecond=sy(my),uy.prototype.visitTimestampMillisecond=sy(yy),uy.prototype.visitTimestampMicrosecond=sy(by),uy.prototype.visitTimestampNanosecond=sy(gy),uy.prototype.visitTime=sy((function(e,t){switch(e.type.unit){case Kp.SECOND:return _y(e,t);case Kp.MILLISECOND:return wy(e,t);case Kp.MICROSECOND:return xy(e,t);case Kp.NANOSECOND:return ky(e,t)}})),uy.prototype.visitTimeSecond=sy(_y),uy.prototype.visitTimeMillisecond=sy(wy),uy.prototype.visitTimeMicrosecond=sy(xy),uy.prototype.visitTimeNanosecond=sy(ky),uy.prototype.visitDecimal=sy((function(e,t){var n=e.values,r=e.stride;return Rv.decimal(n.subarray(r*t,r*(t+1)))})),uy.prototype.visitList=sy((function(e,t){var n=e.valueOffsets,r=e.stride,i=e.children,a=n[t*r],o=n[t*r+1],u=i[0].slice(a,o-a);return new _b([u])})),uy.prototype.visitStruct=sy((function(e,t){return new iy(e,t)})),uy.prototype.visitUnion=sy((function(e,t){return e.type.mode===Yp.Dense?Sy(e,t):Oy(e,t)})),uy.prototype.visitDenseUnion=sy(Sy),uy.prototype.visitSparseUnion=sy(Oy),uy.prototype.visitDictionary=sy((function(e,t){var n;return null===(n=e.dictionary)||void 0===n?void 0:n.get(e.values[t])})),uy.prototype.visitInterval=sy((function(e,t){return e.type.unit===ev.DAY_TIME?Ay(e,t):Ey(e,t)})),uy.prototype.visitIntervalDayTime=sy(Ay),uy.prototype.visitIntervalYearMonth=sy(Ey),uy.prototype.visitFixedSizeList=sy((function(e,t){var n=e.stride,r=e.children[0].slice(t*n,n);return new _b([r])})),uy.prototype.visitMap=sy((function(e,t){var n=e.valueOffsets,r=e.children,i=n[t],a=n[t+1],o=r[0];return new Dy(o.slice(i,a-i))}));var Iy,Cy=new uy,Ty=Symbol.for("keys"),My=Symbol.for("vals"),Dy=function(e,t){function n(e){return b(this,n),this[Ty]=new _b([e.children[0]]).memoize(),this[My]=e.children[1],new Proxy(this,new zy)}return _(n,[{key:Symbol.iterator,value:function(){return new jy(this[Ty],this[My])}},{key:"size",get:function(){return this[Ty].length}},{key:"toArray",value:function(){return Object.values(this.toJSON())}},{key:"toJSON",value:function(){for(var e=this[Ty],t=this[My],n={},r=-1,i=e.length;++r<i;)n[e.get(r)]=Cy.visit(t,r);return n}},{key:"toString",value:function(){return"{".concat(be(this).map((function(e){var t=l(e,2),n=t[0],r=t[1];return"".concat(cv(n),": ").concat(cv(r))})).join(", "),"}")}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.toString()}}]),n}(),jy=function(e){function t(e,n){b(this,t),this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}return _(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),Cy.visit(this.vals,e)]})}}]),t}(),zy=function(){function e(){b(this,e)}return _(e,[{key:"isExtensible",value:function(){return!1}},{key:"deleteProperty",value:function(){return!1}},{key:"preventExtensions",value:function(){return!0}},{key:"ownKeys",value:function(e){return e[Ty].toArray().map(String)}},{key:"has",value:function(e,t){return e[Ty].includes(t)}},{key:"getOwnPropertyDescriptor",value:function(e,t){if(-1!==e[Ty].indexOf(t))return{writable:!0,enumerable:!0,configurable:!0}}},{key:"get",value:function(e,t){if(Reflect.has(e,t))return e[t];var n=e[Ty].indexOf(t);if(-1!==n){var r=Cy.visit(Reflect.get(e,My),n);return Reflect.set(e,t,r),r}}},{key:"set",value:function(e,t,n){var r=e[Ty].indexOf(t);return-1!==r?(ty.visit(Reflect.get(e,My),r,n),Reflect.set(e,t,n)):!!Reflect.has(e,t)&&Reflect.set(e,t,n)}}]),e}();function Ny(e,t,n,r){var i=e.length,a=void 0===i?0:i,o="number"!==typeof t?0:t,u="number"!==typeof n?a:n;return o<0&&(o=(o%a+a)%a),u<0&&(u=(u%a+a)%a),u<o&&(Iy=o,o=u,u=Iy),u>a&&(u=a),r?r(e,o,u):[o,u]}Object.defineProperties(Dy.prototype,(Lr={},(0,i.Z)(Lr,Symbol.toStringTag,{enumerable:!1,configurable:!1,value:"Row"}),(0,i.Z)(Lr,Ty,{writable:!0,enumerable:!1,configurable:!1,value:null}),(0,i.Z)(Lr,My,{writable:!0,enumerable:!1,configurable:!1,value:null}),Lr));var Py=function(e){return e!==e};function Fy(e){if("object"!==typeof e||null===e)return Py(e)?Py:function(t){return t===e};if(e instanceof Date){var t=e.valueOf();return function(e){return e instanceof Date&&e.valueOf()===t}}return ArrayBuffer.isView(e)?function(t){return!!t&&function(e,t){var n=0,r=e.length;if(r!==t.length)return!1;if(r>0)do{if(e[n]!==t[n])return!1}while(++n<r);return!0}(e,t)}:e instanceof Map?function(e){var t,n=-1,r=[],i=Qr(e.values());try{for(i.s();!(t=i.n()).done;){var a=t.value;r[++n]=Fy(a)}}catch(Lk){i.e(Lk)}finally{i.f()}return Ly(r)}(e):Array.isArray(e)?function(e){for(var t=[],n=-1,r=e.length;++n<r;)t[n]=Fy(e[n]);return Ly(t)}(e):e instanceof _b?function(e){for(var t=[],n=-1,r=e.length;++n<r;)t[n]=Fy(e.get(n));return Ly(t)}(e):function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(e);if(!t&&0===n.length)return function(){return!1};for(var r=[],i=-1,a=n.length;++i<a;)r[i]=Fy(e[n[i]]);return Ly(r,n)}(e,!0)}function Ly(e,t){return function(n){if(!n||"object"!==typeof n)return!1;switch(n.constructor){case Array:return function(e,t){var n=e.length;if(t.length!==n)return!1;for(var r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}(e,n);case Map:return By(e,n,n.keys());case Dy:case iy:case Object:case void 0:return By(e,n,t||Object.keys(n))}return n instanceof _b&&function(e,t){var n=e.length;if(t.length!==n)return!1;for(var r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}(e,n)}}function By(e,t,n){for(var r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),a=t instanceof Map?t.values():Object.values(t)[Symbol.iterator](),o=0,u=e.length,s=a.next(),l=r.next(),c=i.next();o<u&&!l.done&&!c.done&&!s.done&&(l.value===c.value&&e[o](s.value));++o,l=r.next(),c=i.next(),s=a.next());return!!(o===u&&l.done&&c.done&&s.done)||(r.return&&r.return(),i.return&&i.return(),a.return&&a.return(),!1)}function Ry(e,t,n,r){return 0!==(n&1<<r)}function Vy(e,t,n,r){return(n&1<<r)>>r}function Uy(e){var t,n=[],r=0,i=0,a=0,o=Qr(e);try{for(o.s();!(t=o.n()).done;){t.value&&(a|=1<<i),8===++i&&(n[r++]=a,a=i=0)}}catch(Lk){o.e(Lk)}finally{o.f()}(0===r||i>0)&&(n[r++]=a);var u=new Uint8Array(n.length+7&-8);return u.set(n),u}var Hy=function(e){function t(e,n,r,i,a){b(this,t),this.bytes=e,this.length=r,this.context=i,this.get=a,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}return _(t,[{key:"next",value:function(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}},{key:Symbol.iterator,value:function(){return this}}]),t}();function Wy(e,t,n){if(n-t<=0)return 0;if(n-t<8){var r,i=0,a=Qr(new Hy(e,t,n-t,e,Vy));try{for(a.s();!(r=a.n()).done;){i+=r.value}}catch(Lk){a.e(Lk)}finally{a.f()}return i}var o=n>>3<<3,u=t+(t%8===0?0:8-t%8);return Wy(e,t,u)+Wy(e,o,n)+function(e,t,n){var r=0,i=Math.trunc(t),a=new DataView(e.buffer,e.byteOffset,e.byteLength),o=void 0===n?e.byteLength:i+n;for(;o-i>=4;)r+=Zy(a.getUint32(i)),i+=4;for(;o-i>=2;)r+=Zy(a.getUint16(i)),i+=2;for(;o-i>=1;)r+=Zy(a.getUint8(i)),i+=1;return r}(e,u>>3,o-u>>3)}function Zy(e){var t=Math.trunc(e);return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24}var Yy=function(){function e(t,n,r,i,a){var o,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;b(this,e),this.type=t,this.children=u,this.dictionary=s,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1)),a instanceof e?(this.stride=a.stride,this.values=a.values,this.typeIds=a.typeIds,this.nullBitmap=a.nullBitmap,this.valueOffsets=a.valueOffsets):(this.stride=gm(t),a&&((o=a[0])&&(this.valueOffsets=o),(o=a[1])&&(this.values=o),(o=a[2])&&(this.nullBitmap=o),(o=a[3])&&(this.typeIds=o))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}return _(e,[{key:"typeId",get:function(){return this.type.typeId}},{key:"ArrayType",get:function(){return this.type.ArrayType}},{key:"buffers",get:function(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}},{key:"byteLength",get:function(){var e=0,t=this.valueOffsets,n=this.values,r=this.nullBitmap,i=this.typeIds;return t&&(e+=t.byteLength),n&&(e+=n.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),this.children.reduce((function(e,t){return e+t.byteLength}),e)}},{key:"nullCount",get:function(){var e,t=this._nullCount;return t<=-1&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-Wy(e,this.offset,this.offset+this.length)),t}},{key:"getValid",value:function(e){if(this.nullable&&this.nullCount>0){var t=this.offset+e;return 0!==(this.nullBitmap[t>>3]&1<<t%8)}return!0}},{key:"setValid",value:function(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){var n=this._changeLengthAndBackfillNullBitmap(this.length).nullBitmap;Object.assign(this,{nullBitmap:n,_nullCount:0})}var r=this.nullBitmap,i=this.offset,a=i+e>>3,o=(i+e)%8,u=r[a]>>o&1;return t?0===u&&(r[a]|=1<<o,this._nullCount=this.nullCount+1):1===u&&(r[a]&=~(1<<o),this._nullCount=this.nullCount-1),t}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new e(t,n,r,i,a,o,this.dictionary)}},{key:"slice",value:function(e,t){var n=this.stride,r=this.typeId,i=this.children,a=+(0===this._nullCount)-1,o=16===r?n:1,u=this._sliceBuffers(e,t,n,r);return this.clone(this.type,this.offset+e,t,a,u,0===i.length||this.valueOffsets?i:this._sliceChildren(i,o*e,o*t))}},{key:"_changeLengthAndBackfillNullBitmap",value:function(e){if(this.typeId===iv.Null)return this.clone(this.type,0,e,0);var t=this.length,n=this.nullCount,r=new Uint8Array((e+63&-64)>>3).fill(255,0,t>>3);r[t>>3]=(1<<t-(-8&t))-1,n>0&&r.set(function(e,t,n){var r=n.byteLength+7&-8;if(e>0||n.byteLength<r){var i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):Uy(new Hy(n,e,t,null,Ry)).subarray(0,r)),i}return n}(this.offset,t,this.nullBitmap),0);var i=this.buffers;return i[ov.VALIDITY]=r,this.clone(this.type,0,e,n+(e-t),i)}},{key:"_sliceBuffers",value:function(e,t,n,r){var i,a=this.buffers;return(i=a[ov.TYPE])&&(a[ov.TYPE]=i.subarray(e,e+t)),(i=a[ov.OFFSET])&&(a[ov.OFFSET]=i.subarray(e,e+t+1))||(i=a[ov.DATA])&&(a[ov.DATA]=6===r?i:i.subarray(n*e,n*(e+t))),a}},{key:"_sliceChildren",value:function(e,t,n){return e.map((function(e){return e.slice(t,n)}))}}]),e}();Yy.prototype.children=Object.freeze([]);var $y=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"visit",value:function(e){return this.getVisitFn(e.type).call(this,e)}},{key:"visitNull",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=e.length;return new Yy(t,r,void 0===i?0:i,0)}},{key:"visitBool",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Mp(e.nullBitmap),a=Cp(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length>>3:o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new Yy(t,r,u,l,[void 0,a,i])}},{key:"visitInt",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Mp(e.nullBitmap),a=Cp(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length:o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new Yy(t,r,u,l,[void 0,a,i])}},{key:"visitFloat",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Mp(e.nullBitmap),a=Cp(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length:o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new Yy(t,r,u,l,[void 0,a,i])}},{key:"visitUtf8",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Mp(e.data),a=Mp(e.nullBitmap),o=Tp(e.valueOffsets),u=e.length,s=void 0===u?o.length-1:u,l=e.nullCount,c=void 0===l?e.nullBitmap?-1:0:l;return new Yy(t,r,s,c,[o,i,a])}},{key:"visitBinary",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Mp(e.data),a=Mp(e.nullBitmap),o=Tp(e.valueOffsets),u=e.length,s=void 0===u?o.length-1:u,l=e.nullCount,c=void 0===l?e.nullBitmap?-1:0:l;return new Yy(t,r,s,c,[o,i,a])}},{key:"visitFixedSizeBinary",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Mp(e.nullBitmap),a=Cp(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/gm(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new Yy(t,r,u,l,[void 0,a,i])}},{key:"visitDate",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Mp(e.nullBitmap),a=Cp(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/gm(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new Yy(t,r,u,l,[void 0,a,i])}},{key:"visitTimestamp",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Mp(e.nullBitmap),a=Cp(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/gm(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new Yy(t,r,u,l,[void 0,a,i])}},{key:"visitTime",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Mp(e.nullBitmap),a=Cp(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/gm(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new Yy(t,r,u,l,[void 0,a,i])}},{key:"visitDecimal",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Mp(e.nullBitmap),a=Cp(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/gm(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new Yy(t,r,u,l,[void 0,a,i])}},{key:"visitList",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=e.child,a=Mp(e.nullBitmap),o=Tp(e.valueOffsets),u=e.length,s=void 0===u?o.length-1:u,l=e.nullCount,c=void 0===l?e.nullBitmap?-1:0:l;return new Yy(t,r,s,c,[o,void 0,a],[i])}},{key:"visitStruct",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=e.children,a=void 0===i?[]:i,o=Mp(e.nullBitmap),u=e.length,s=void 0===u?a.reduce((function(e,t){var n=t.length;return Math.max(e,n)}),0):u,l=e.nullCount,c=void 0===l?e.nullBitmap?-1:0:l;return new Yy(t,r,s,c,[void 0,void 0,o],a)}},{key:"visitUnion",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=e.children,a=void 0===i?[]:i,o=Mp(e.nullBitmap),u=Cp(t.ArrayType,e.typeIds),s=e.length,l=void 0===s?u.length:s,c=e.nullCount,f=void 0===c?e.nullBitmap?-1:0:c;if(Vv.isSparseUnion(t))return new Yy(t,r,l,f,[void 0,void 0,o,u],a);var d=Tp(e.valueOffsets);return new Yy(t,r,l,f,[d,void 0,o,u],a)}},{key:"visitDictionary",value:function(e){var t=e.type,r=e.offset,i=void 0===r?0:r,a=Mp(e.nullBitmap),o=Cp(t.indices.ArrayType,e.data),u=e.dictionary,s=void 0===u?new _b([(new n).visit({type:t.dictionary})]):u,l=e.length,c=void 0===l?o.length:l,f=e.nullCount,d=void 0===f?e.nullBitmap?-1:0:f;return new Yy(t,i,c,d,[void 0,o,a],[],s)}},{key:"visitInterval",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Mp(e.nullBitmap),a=Cp(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/gm(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new Yy(t,r,u,l,[void 0,a,i])}},{key:"visitFixedSizeList",value:function(e){var t=e.type,r=e.offset,i=void 0===r?0:r,a=e.child,o=void 0===a?(new n).visit({type:t.valueType}):a,u=Mp(e.nullBitmap),s=e.length,l=void 0===s?o.length/gm(t):s,c=e.nullCount,f=void 0===c?e.nullBitmap?-1:0:c;return new Yy(t,i,l,f,[void 0,void 0,u],[o])}},{key:"visitMap",value:function(e){var t=e.type,r=e.offset,i=void 0===r?0:r,a=e.child,o=void 0===a?(new n).visit({type:t.childType}):a,u=Mp(e.nullBitmap),s=Tp(e.valueOffsets),l=e.length,c=void 0===l?s.length-1:l,f=e.nullCount,d=void 0===f?e.nullBitmap?-1:0:f;return new Yy(t,i,c,d,[s,void 0,u],[o])}}]),n}(_m);function Gy(e){return(new $y).visit(e)}var qy=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;b(this,t),this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}return _(t,[{key:"next",value:function(){for(;this.chunkIndex<this.numChunks;){var e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}},{key:Symbol.iterator,value:function(){return this}}]),t}();function Xy(e){return e.reduce((function(e,t){return e+t.nullCount}),0)}function Qy(e){return e.reduce((function(e,t,n){return e[n+1]=e[n]+t.length,e}),new Uint32Array(e.length+1))}function Ky(e,t,n,r){for(var i=[],a=-1,o=e.length;++a<o;){var u=e[a],s=t[a],l=u.length;if(s>=r)break;if(!(n>=s+l))if(s>=n&&s+l<=r)i.push(u);else{var c=Math.max(0,n-s),f=Math.min(r-s,l);i.push(u.slice(c,f-c))}}return 0===i.length&&i.push(e[0].slice(0,0)),i}function Jy(e,t,n,r){var i=0,a=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;n<t[a=i+Math.trunc(.5*(o-i))]?o=a:i=a}while(i<o)}function eb(e,t){return e.getValid(t)}function tb(e){function t(t,n,r){return e(t[n],r)}return function(e){return Jy(this.data,this._offsets,e,t)}}function nb(e){var t;function n(n,r,i){return e(n[r],i,t)}return function(e,r){var i=this.data;t=r;var a=Jy(i,this._offsets,e,n);return t=void 0,a}}function rb(e){var t;function n(n,r,i){for(var a=i,o=0,u=0,s=r-1,l=n.length;++s<l;){var c=n[s];if(~(o=e(c,t,a)))return u+o;a=0,u+=c.length}return-1}return function(e,r){t=e;var i=this.data,a="number"!==typeof r?n(i,0,0):Jy(i,this._offsets,r,n);return t=void 0,a}}var ib=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(_m);function ab(e,t,n){if(void 0===t)return-1;if(null===t)return function(e,t){var n=e.nullBitmap;if(!n||e.nullCount<=0)return-1;var r,i=0,a=Qr(new Hy(n,e.offset+(t||0),e.length,n,Ry));try{for(a.s();!(r=a.n()).done;){if(!r.value)return i;++i}}catch(Lk){a.e(Lk)}finally{a.f()}return-1}(e,n);for(var r=Cy.getVisitFn(e),i=Fy(t),a=(n||0)-1,o=e.length;++a<o;)if(i(r(e,a)))return a;return-1}function ob(e,t,n){for(var r=Cy.getVisitFn(e),i=Fy(t),a=(n||0)-1,o=e.length;++a<o;)if(i(r(e,a)))return a;return-1}ib.prototype.visitNull=function(e,t){return null===t&&e.length>0?0:-1},ib.prototype.visitBool=ab,ib.prototype.visitInt=ab,ib.prototype.visitInt8=ab,ib.prototype.visitInt16=ab,ib.prototype.visitInt32=ab,ib.prototype.visitInt64=ab,ib.prototype.visitUint8=ab,ib.prototype.visitUint16=ab,ib.prototype.visitUint32=ab,ib.prototype.visitUint64=ab,ib.prototype.visitFloat=ab,ib.prototype.visitFloat16=ab,ib.prototype.visitFloat32=ab,ib.prototype.visitFloat64=ab,ib.prototype.visitUtf8=ab,ib.prototype.visitBinary=ab,ib.prototype.visitFixedSizeBinary=ab,ib.prototype.visitDate=ab,ib.prototype.visitDateDay=ab,ib.prototype.visitDateMillisecond=ab,ib.prototype.visitTimestamp=ab,ib.prototype.visitTimestampSecond=ab,ib.prototype.visitTimestampMillisecond=ab,ib.prototype.visitTimestampMicrosecond=ab,ib.prototype.visitTimestampNanosecond=ab,ib.prototype.visitTime=ab,ib.prototype.visitTimeSecond=ab,ib.prototype.visitTimeMillisecond=ab,ib.prototype.visitTimeMicrosecond=ab,ib.prototype.visitTimeNanosecond=ab,ib.prototype.visitDecimal=ab,ib.prototype.visitList=ab,ib.prototype.visitStruct=ab,ib.prototype.visitUnion=ab,ib.prototype.visitDenseUnion=ob,ib.prototype.visitSparseUnion=ob,ib.prototype.visitDictionary=ab,ib.prototype.visitInterval=ab,ib.prototype.visitIntervalDayTime=ab,ib.prototype.visitIntervalYearMonth=ab,ib.prototype.visitFixedSizeList=ab,ib.prototype.visitMap=ab;var ub=new ib,sb=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(_m);function lb(e){var t=e.type;if(0===e.nullCount&&1===e.stride&&(t.typeId===iv.Timestamp||t instanceof Hv&&64!==t.bitWidth||t instanceof um&&64!==t.bitWidth||t instanceof Kv&&t.precision!==Gp.HALF))return new qy(e.data.length,(function(t){var n=e.data[t];return n.values.subarray(0,n.length)[Symbol.iterator]()}));var n=0;return new qy(e.data.length,(function(t){var r=e.data[t].length,i=e.slice(n,n+r);return n+=r,new cb(i)}))}var cb=function(e){function t(e){b(this,t),this.vector=e,this.index=0}return _(t,[{key:"next",value:function(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}},{key:Symbol.iterator,value:function(){return this}}]),t}();sb.prototype.visitNull=lb,sb.prototype.visitBool=lb,sb.prototype.visitInt=lb,sb.prototype.visitInt8=lb,sb.prototype.visitInt16=lb,sb.prototype.visitInt32=lb,sb.prototype.visitInt64=lb,sb.prototype.visitUint8=lb,sb.prototype.visitUint16=lb,sb.prototype.visitUint32=lb,sb.prototype.visitUint64=lb,sb.prototype.visitFloat=lb,sb.prototype.visitFloat16=lb,sb.prototype.visitFloat32=lb,sb.prototype.visitFloat64=lb,sb.prototype.visitUtf8=lb,sb.prototype.visitBinary=lb,sb.prototype.visitFixedSizeBinary=lb,sb.prototype.visitDate=lb,sb.prototype.visitDateDay=lb,sb.prototype.visitDateMillisecond=lb,sb.prototype.visitTimestamp=lb,sb.prototype.visitTimestampSecond=lb,sb.prototype.visitTimestampMillisecond=lb,sb.prototype.visitTimestampMicrosecond=lb,sb.prototype.visitTimestampNanosecond=lb,sb.prototype.visitTime=lb,sb.prototype.visitTimeSecond=lb,sb.prototype.visitTimeMillisecond=lb,sb.prototype.visitTimeMicrosecond=lb,sb.prototype.visitTimeNanosecond=lb,sb.prototype.visitDecimal=lb,sb.prototype.visitList=lb,sb.prototype.visitStruct=lb,sb.prototype.visitUnion=lb,sb.prototype.visitDenseUnion=lb,sb.prototype.visitSparseUnion=lb,sb.prototype.visitDictionary=lb,sb.prototype.visitInterval=lb,sb.prototype.visitIntervalDayTime=lb,sb.prototype.visitIntervalYearMonth=lb,sb.prototype.visitFixedSizeList=lb,sb.prototype.visitMap=lb;var fb=new sb,db=function(e,t){return e+t},hb=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"visitNull",value:function(e,t){return 0}},{key:"visitInt",value:function(e,t){return e.type.bitWidth/8}},{key:"visitFloat",value:function(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}},{key:"visitBool",value:function(e,t){return 1/8}},{key:"visitDecimal",value:function(e,t){return e.type.bitWidth/8}},{key:"visitDate",value:function(e,t){return 4*(e.type.unit+1)}},{key:"visitTime",value:function(e,t){return e.type.bitWidth/8}},{key:"visitTimestamp",value:function(e,t){return e.type.unit===Kp.SECOND?4:8}},{key:"visitInterval",value:function(e,t){return 4*(e.type.unit+1)}},{key:"visitStruct",value:function(e,t){return e.children.reduce((function(e,n){return e+yb.visit(n,t)}),0)}},{key:"visitFixedSizeBinary",value:function(e,t){return e.type.byteWidth}},{key:"visitMap",value:function(e,t){return 8+e.children.reduce((function(e,n){return e+yb.visit(n,t)}),0)}},{key:"visitDictionary",value:function(e,t){var n;return e.type.indices.bitWidth/8+((null===(n=e.dictionary)||void 0===n?void 0:n.getByteLength(e.values[t]))||0)}}]),n}(_m),pb=function(e,t){var n=e.type,r=e.children,i=e.typeIds,a=e.valueOffsets,o=n.typeIdToChildIndex[i[t]];return 8+yb.visit(r[o],a[t])},vb=function(e,t){var n=e.children;return 4+yb.visitMany(n,n.map((function(){return t}))).reduce(db,0)};hb.prototype.visitUtf8=function(e,t){var n=e.valueOffsets;return n[t+1]-n[t]+8},hb.prototype.visitBinary=function(e,t){var n=e.valueOffsets;return n[t+1]-n[t]+8},hb.prototype.visitList=function(e,t){for(var n=e.valueOffsets,r=e.stride,i=e.children[0],a=n[t*r],o=n[t*r+1],u=yb.getVisitFn(i.type),s=i.slice(a,o-a),l=8,c=-1,f=o-a;++c<f;)l+=u(s,c);return l},hb.prototype.visitFixedSizeList=function(e,t){for(var n=e.stride,r=e.children[0],i=r.slice(t*n,n),a=yb.getVisitFn(r.type),o=0,u=-1,s=i.length;++u<s;)o+=a(i,u);return o},hb.prototype.visitUnion=function(e,t){return e.type.mode===Yp.Dense?pb(e,t):vb(e,t)},hb.prototype.visitDenseUnion=pb,hb.prototype.visitSparseUnion=vb;var mb,yb=new hb,bb={},gb={},_b=function(e,t){function n(e){var t,r,i;b(this,n);var a=e[0]instanceof n?e.flatMap((function(e){return e.data})):e;if(0===a.length||a.some((function(e){return!(e instanceof Yy)})))throw new TypeError("Vector constructor expects an Array of Data instances.");var o=null===(t=a[0])||void 0===t?void 0:t.type;switch(a.length){case 0:this._offsets=[0];break;case 1:var u=bb[o.typeId],s=u.get,l=u.set,c=u.indexOf,f=u.byteLength,d=a[0];this.isValid=function(e){return eb(d,e)},this.get=function(e){return s(d,e)},this.set=function(e,t){return l(d,e,t)},this.indexOf=function(e){return c(d,e)},this.getByteLength=function(e){return f(d,e)},this._offsets=[0,d.length];break;default:Object.setPrototypeOf(this,gb[o.typeId]),this._offsets=Qy(a)}this.data=a,this.type=o,this.stride=gm(o),this.numChildren=null!==(i=null===(r=o.children)||void 0===r?void 0:r.length)&&void 0!==i?i:0,this.length=this._offsets[this._offsets.length-1]}return _(n,[{key:"byteLength",get:function(){return-1===this._byteLength&&(this._byteLength=this.data.reduce((function(e,t){return e+t.byteLength}),0)),this._byteLength}},{key:"nullCount",get:function(){return-1===this._nullCount&&(this._nullCount=Xy(this.data)),this._nullCount}},{key:"ArrayType",get:function(){return this.type.ArrayType}},{key:Symbol.toStringTag,get:function(){return"".concat(this.VectorName,"<").concat(this.type[Symbol.toStringTag],">")}},{key:"VectorName",get:function(){return"".concat(iv[this.type.typeId],"Vector")}},{key:"isValid",value:function(e){return!1}},{key:"get",value:function(e){return null}},{key:"set",value:function(e,t){}},{key:"indexOf",value:function(e,t){return-1}},{key:"includes",value:function(e,t){return this.indexOf(e,t)>0}},{key:"getByteLength",value:function(e){return 0}},{key:Symbol.iterator,value:function(){return fb.visit(this)}},{key:"concat",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new n(this.data.concat(t.flatMap((function(e){return e.data})).flat(Number.POSITIVE_INFINITY)))}},{key:"slice",value:function(e,t){return new n(Ny(this,e,t,(function(e,t,n){return Ky(e.data,e._offsets,t,n)})))}},{key:"toJSON",value:function(){return be(this)}},{key:"toArray",value:function(){var e=this.type,t=this.data,n=this.length,r=this.stride,i=this.ArrayType;switch(e.typeId){case iv.Int:case iv.Float:case iv.Decimal:case iv.Time:case iv.Timestamp:switch(t.length){case 0:return new i;case 1:return t[0].values.subarray(0,n*r);default:return t.reduce((function(e,t){var n=t.values;return e.array.set(n,e.offset),e.offset+=n.length,e}),{array:new i(n*r),offset:0}).array}}return be(this)}},{key:"toString",value:function(){return"[".concat(be(this).join(","),"]")}},{key:"getChild",value:function(e){var t;return this.getChildAt(null===(t=this.type.children)||void 0===t?void 0:t.findIndex((function(t){return t.name===e})))}},{key:"getChildAt",value:function(e){return e>-1&&e<this.numChildren?new n(this.data.map((function(t){return t.children[e]}))):null}},{key:"isMemoized",get:function(){return!!Vv.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}},{key:"memoize",value:function(){if(Vv.isDictionary(this.type)){var e=new wb(this.data[0].dictionary);return new n(this.data.map((function(t){var n=t.clone();return n.dictionary=e,n})))}return new wb(this)}},{key:"unmemoize",value:function(){if(Vv.isDictionary(this.type)&&this.isMemoized){var e=this.data[0].dictionary.unmemoize();return new n(this.data.map((function(t){var n=t.clone();return n.dictionary=e,n})))}return this}}]),n}();mb=Symbol.toStringTag,_b[mb]=function(e){e.type=Vv.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;var t,n=Qr(Object.keys(iv).map((function(e){return iv[e]})).filter((function(e){return"number"===typeof e&&e!==iv.NONE})));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=Cy.getVisitFnByTypeId(r),a=ty.getVisitFnByTypeId(r),o=ub.getVisitFnByTypeId(r),u=yb.getVisitFnByTypeId(r);bb[r]={get:i,set:a,indexOf:o,byteLength:u},gb[r]=Object.create(e,{isValid:{value:tb(eb)},get:{value:tb(Cy.getVisitFnByTypeId(r))},set:{value:nb(ty.getVisitFnByTypeId(r))},indexOf:{value:rb(ub.getVisitFnByTypeId(r))},getByteLength:{value:tb(yb.getVisitFnByTypeId(r))}})}}catch(Lk){n.e(Lk)}finally{n.f()}return"Vector"}(_b.prototype);var wb=function(e){x(n,e);var t=Gr(n);function n(e){var r;b(this,n);var i=(r=t.call(this,e.data)).get,a=r.set,o=r.slice,u=new Array(r.length);return Object.defineProperty(yt(r),"get",{value:function(e){var t=u[e];if(void 0!==t)return t;var n=i.call(this,e);return u[e]=n,n}}),Object.defineProperty(yt(r),"set",{value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){a.call(this,e,t),u[e]=t}))}),Object.defineProperty(yt(r),"slice",{value:function(e,t){return new n(o.call(yt(r),e,t))}}),Object.defineProperty(yt(r),"isMemoized",{value:!0}),Object.defineProperty(yt(r),"unmemoize",{value:function(){return new _b(r.data)}}),Object.defineProperty(yt(r),"memoize",{value:function(){return yt(r)}}),r}return _(n)}(_b);function xb(e){if(e){if(e instanceof Yy)return new _b([e]);if(e instanceof _b)return new _b(e.data);if(e.type instanceof Vv)return new _b([Gy(e)]);if(Array.isArray(e))return new _b(e.flatMap((function(e){return(t=e)instanceof Yy?[t]:t instanceof _b?t.data:xb(t).data;var t})));if(ArrayBuffer.isView(e)){e instanceof DataView&&(e=new Uint8Array(e.buffer));var t={offset:0,length:e.length,nullCount:0,data:e};if(e instanceof Int8Array)return new _b([Gy(Object.assign(Object.assign({},t),{type:new Wv}))]);if(e instanceof Int16Array)return new _b([Gy(Object.assign(Object.assign({},t),{type:new Zv}))]);if(e instanceof Int32Array)return new _b([Gy(Object.assign(Object.assign({},t),{type:new Yv}))]);if(e instanceof BigInt64Array)return new _b([Gy(Object.assign(Object.assign({},t),{type:new $v}))]);if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new _b([Gy(Object.assign(Object.assign({},t),{type:new Gv}))]);if(e instanceof Uint16Array)return new _b([Gy(Object.assign(Object.assign({},t),{type:new qv}))]);if(e instanceof Uint32Array)return new _b([Gy(Object.assign(Object.assign({},t),{type:new Xv}))]);if(e instanceof BigUint64Array)return new _b([Gy(Object.assign(Object.assign({},t),{type:new Qv}))]);if(e instanceof Float32Array)return new _b([Gy(Object.assign(Object.assign({},t),{type:new Jv}))]);if(e instanceof Float64Array)return new _b([Gy(Object.assign(Object.assign({},t),{type:new em}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}function kb(e){if(!e||e.length<=0)return function(e){return!0};var t="",n=e.filter((function(e){return e===e}));return n.length>0&&(t="\n    switch (x) {".concat(n.map((function(e){return"\n        case ".concat(function(e){if("bigint"!==typeof e)return cv(e);if(lp)return"".concat(cv(e),"n");return'"'.concat(cv(e),'"')}(e),":")})).join(""),"\n            return false;\n    }")),e.length!==n.length&&(t="if (x !== x) return false;\n".concat(t)),new Function("x","".concat(t,"\nreturn true;"))}var Sb=function(e,t){return(e*t+63&-64||64)/t},Ob=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.length>=t?e.subarray(0,t):Ep(new e.constructor(t),e,0)},Ab=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;b(this,e),this.buffer=t,this.stride=n,this.BYTES_PER_ELEMENT=t.BYTES_PER_ELEMENT,this.ArrayType=t.constructor,this._resize(this.length=Math.trunc(t.length/n))}return _(e,[{key:"byteLength",get:function(){return Math.trunc(this.length*this.stride*this.BYTES_PER_ELEMENT)}},{key:"reservedLength",get:function(){return this.buffer.length/this.stride}},{key:"reservedByteLength",get:function(){return this.buffer.byteLength}},{key:"set",value:function(e,t){return this}},{key:"append",value:function(e){return this.set(this.length,e)}},{key:"reserve",value:function(e){if(e>0){this.length+=e;var t=this.stride,n=this.length*t,r=this.buffer.length;n>=r&&this._resize(Sb(0===r?1*n:2*n,this.BYTES_PER_ELEMENT))}return this}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;e=Sb(e*this.stride,this.BYTES_PER_ELEMENT);var t=Ob(this.buffer,e);return this.clear(),t}},{key:"clear",value:function(){return this.length=0,this._resize(0),this}},{key:"_resize",value:function(e){return this.buffer=Ep(new this.ArrayType(e),this.buffer)}}]),e}();Ab.prototype.offset=0;var Eb=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"last",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.buffer[e]}},{key:"set",value:function(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}}]),n}(Ab),Ib=function(e){x(n,e);var t=Gr(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array(0);return b(this,n),(e=t.call(this,r,1/8)).numValid=0,e}return _(n,[{key:"numInvalid",get:function(){return this.length-this.numValid}},{key:"get",value:function(e){return this.buffer[e>>3]>>e%8&1}},{key:"set",value:function(e,t){var n=this.reserve(e-this.length+1).buffer,r=e>>3,i=e%8,a=n[r]>>i&1;return t?0===a&&(n[r]|=1<<i,++this.numValid):1===a&&(n[r]&=~(1<<i),--this.numValid),this}},{key:"clear",value:function(){return this.numValid=0,Bt(gt(n.prototype),"clear",this).call(this)}}]),n}(Eb),Cb=function(e){x(n,e);var t=Gr(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Int32Array(1);return b(this,n),t.call(this,e,1)}return _(n,[{key:"append",value:function(e){return this.set(this.length-1,e)}},{key:"set",value:function(e,t){var n=this.length-1,r=this.reserve(e-n+1).buffer;return n<e++&&r.fill(r[n],n,e),r[e]=r[e-1]+t,this}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length-1;return e>this.length&&this.set(e-1,0),Bt(gt(n.prototype),"flush",this).call(this,e+1)}}]),n}(Eb),Tb=function(){function e(t){var n=t.type,r=t.nullValues;b(this,e),this.length=0,this.finished=!1,this.type=n,this.children=[],this.nullValues=r,this.stride=gm(n),this._nulls=new Ib,r&&r.length>0&&(this._isValid=kb(r))}return _(e,[{key:"toVector",value:function(){return new _b([this.flush()])}},{key:"ArrayType",get:function(){return this.type.ArrayType}},{key:"nullCount",get:function(){return this._nulls.numInvalid}},{key:"numChildren",get:function(){return this.children.length}},{key:"byteLength",get:function(){var e=0,t=this._offsets,n=this._values,r=this._nulls,i=this._typeIds,a=this.children;return t&&(e+=t.byteLength),n&&(e+=n.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),a.reduce((function(e,t){return e+t.byteLength}),e)}},{key:"reservedLength",get:function(){return this._nulls.reservedLength}},{key:"reservedByteLength",get:function(){var e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((function(e,t){return e+t.reservedByteLength}),e)}},{key:"valueOffsets",get:function(){return this._offsets?this._offsets.buffer:null}},{key:"values",get:function(){return this._values?this._values.buffer:null}},{key:"nullBitmap",get:function(){return this._nulls?this._nulls.buffer:null}},{key:"typeIds",get:function(){return this._typeIds?this._typeIds.buffer:null}},{key:"append",value:function(e){return this.set(this.length,e)}},{key:"isValid",value:function(e){return this._isValid(e)}},{key:"set",value:function(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}},{key:"setValue",value:function(e,t){this._setValue(this,e,t)}},{key:"setValid",value:function(e,t){return this.length=this._nulls.set(e,+t).length,t}},{key:"addChild",value:function(e){arguments.length>1&&void 0!==arguments[1]||"".concat(this.numChildren);throw new Error('Cannot append children to non-nested type "'.concat(this.type,'"'))}},{key:"getChildAt",value:function(e){return this.children[e]||null}},{key:"flush",value:function(){var e,t,n,r,i=this.type,a=this.length,o=this.nullCount,u=this._typeIds,s=this._offsets,l=this._values,c=this._nulls;(t=null===u||void 0===u?void 0:u.flush(a))?r=null===s||void 0===s?void 0:s.flush(a):e=(r=null===s||void 0===s?void 0:s.flush(a))?null===l||void 0===l?void 0:l.flush(s.last()):null===l||void 0===l?void 0:l.flush(a),o>0&&(n=null===c||void 0===c?void 0:c.flush(a));var f=this.children.map((function(e){return e.flush()}));return this.clear(),Gy({type:i,length:a,nullCount:o,children:f,child:f[0],data:e,typeIds:t,nullBitmap:n,valueOffsets:r})}},{key:"finish",value:function(){this.finished=!0;var e,t=Qr(this.children);try{for(t.s();!(e=t.n()).done;){e.value.finish()}}catch(Lk){t.e(Lk)}finally{t.f()}return this}},{key:"clear",value:function(){var e,t,n,r;this.length=0,null===(e=this._nulls)||void 0===e||e.clear(),null===(t=this._values)||void 0===t||t.clear(),null===(n=this._offsets)||void 0===n||n.clear(),null===(r=this._typeIds)||void 0===r||r.clear();var i,a=Qr(this.children);try{for(a.s();!(i=a.n()).done;){i.value.clear()}}catch(Lk){a.e(Lk)}finally{a.f()}return this}}],[{key:"throughNode",value:function(e){throw new Error('"throughNode" not available in this environment')}},{key:"throughDOM",value:function(e){throw new Error('"throughDOM" not available in this environment')}}]),e}();Tb.prototype.length=1,Tb.prototype.stride=1,Tb.prototype.children=null,Tb.prototype.finished=!1,Tb.prototype.nullValues=null,Tb.prototype._isValid=function(){return!0};var Mb,Db,jb=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._values=new Eb(new r.ArrayType(0),r.stride),r}return _(n,[{key:"setValue",value:function(e,t){var r=this._values;return r.reserve(e-r.length+1),Bt(gt(n.prototype),"setValue",this).call(this,e,t)}}]),n}(Tb),zb=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._pendingLength=0,r._offsets=new Cb,r}return _(n,[{key:"setValue",value:function(e,t){var n=this._pending||(this._pending=new Map),r=n.get(e);r&&(this._pendingLength-=r.length),this._pendingLength+=t instanceof Dy?t[Ty].length:t.length,n.set(e,t)}},{key:"setValid",value:function(e,t){return!!Bt(gt(n.prototype),"setValid",this).call(this,e,t)||((this._pending||(this._pending=new Map)).set(e,void 0),!1)}},{key:"clear",value:function(){return this._pendingLength=0,this._pending=void 0,Bt(gt(n.prototype),"clear",this).call(this)}},{key:"flush",value:function(){return this._flush(),Bt(gt(n.prototype),"flush",this).call(this)}},{key:"finish",value:function(){return this._flush(),Bt(gt(n.prototype),"finish",this).call(this)}},{key:"_flush",value:function(){var e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}}]),n}(Tb),Nb=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"offset",value:function(){return this.bb.readInt64(this.bb_pos)}},{key:"metaDataLength",value:function(){return this.bb.readInt32(this.bb_pos+8)}},{key:"bodyLength",value:function(){return this.bb.readInt64(this.bb_pos+16)}}],[{key:"sizeOf",value:function(){return 24}},{key:"createBlock",value:function(e,t,n,r){return e.prep(8,24),e.writeInt64(r),e.pad(4),e.writeInt32(n),e.writeInt64(t),e.offset()}}]),e}(),Pb=new Int32Array(2),Fb=new Float32Array(Pb.buffer),Lb=new Float64Array(Pb.buffer),Bb=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],Rb=function(){function e(t,n){b(this,e),this.low=0|t,this.high=0|n}return _(e,[{key:"toFloat64",value:function(){return(this.low>>>0)+4294967296*this.high}},{key:"equals",value:function(e){return this.low==e.low&&this.high==e.high}}],[{key:"create",value:function(t,n){return 0==t&&0==n?e.ZERO:new e(t,n)}}]),e}();Rb.ZERO=new Rb(0,0),(Db=Mb||(Mb={}))[Db.UTF8_BYTES=1]="UTF8_BYTES",Db[Db.UTF16_STRING=2]="UTF16_STRING";var Vb,Ub,Hb,Wb,Zb,Yb=function(){function e(t){b(this,e),this.bytes_=t,this.position_=0}return _(e,[{key:"clear",value:function(){this.position_=0}},{key:"bytes",value:function(){return this.bytes_}},{key:"position",value:function(){return this.position_}},{key:"setPosition",value:function(e){this.position_=e}},{key:"capacity",value:function(){return this.bytes_.length}},{key:"readInt8",value:function(e){return this.readUint8(e)<<24>>24}},{key:"readUint8",value:function(e){return this.bytes_[e]}},{key:"readInt16",value:function(e){return this.readUint16(e)<<16>>16}},{key:"readUint16",value:function(e){return this.bytes_[e]|this.bytes_[e+1]<<8}},{key:"readInt32",value:function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}},{key:"readUint32",value:function(e){return this.readInt32(e)>>>0}},{key:"readInt64",value:function(e){return new Rb(this.readInt32(e),this.readInt32(e+4))}},{key:"readUint64",value:function(e){return new Rb(this.readUint32(e),this.readUint32(e+4))}},{key:"readFloat32",value:function(e){return Pb[0]=this.readInt32(e),Fb[0]}},{key:"readFloat64",value:function(e){return Pb[Bb?0:1]=this.readInt32(e),Pb[Bb?1:0]=this.readInt32(e+4),Lb[0]}},{key:"writeInt8",value:function(e,t){this.bytes_[e]=t}},{key:"writeUint8",value:function(e,t){this.bytes_[e]=t}},{key:"writeInt16",value:function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}},{key:"writeUint16",value:function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}},{key:"writeInt32",value:function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}},{key:"writeUint32",value:function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}},{key:"writeInt64",value:function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)}},{key:"writeUint64",value:function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)}},{key:"writeFloat32",value:function(e,t){Fb[0]=t,this.writeInt32(e,Pb[0])}},{key:"writeFloat64",value:function(e,t){Lb[0]=t,this.writeInt32(e,Pb[Bb?0:1]),this.writeInt32(e+4,Pb[Bb?1:0])}},{key:"getBufferIdentifier",value:function(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<4;t++)e+=String.fromCharCode(this.readInt8(this.position_+4+t));return e}},{key:"__offset",value:function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0}},{key:"__union",value:function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e}},{key:"__string",value:function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),r="",i=0;if(e+=4,t===Mb.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;i<n;){var a=void 0,o=this.readUint8(e+i++);if(o<192)a=o;else{var u=this.readUint8(e+i++);if(o<224)a=(31&o)<<6|63&u;else{var s=this.readUint8(e+i++);if(o<240)a=(15&o)<<12|(63&u)<<6|63&s;else a=(7&o)<<18|(63&u)<<12|(63&s)<<6|63&this.readUint8(e+i++)}}a<65536?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return r}},{key:"__union_with_string",value:function(e,t){return"string"===typeof e?this.__string(t):this.__union(e,t)}},{key:"__indirect",value:function(e){return e+this.readInt32(e)}},{key:"__vector",value:function(e){return e+this.readInt32(e)+4}},{key:"__vector_len",value:function(e){return this.readInt32(e+this.readInt32(e))}},{key:"__has_identifier",value:function(e){if(4!=e.length)throw new Error("FlatBuffers: file identifier must be length 4");for(var t=0;t<4;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+4+t))return!1;return!0}},{key:"createLong",value:function(e,t){return Rb.create(e,t)}},{key:"createScalarList",value:function(e,t){for(var n=[],r=0;r<t;++r)null!==e(r)&&n.push(e(r));return n}},{key:"createObjList",value:function(e,t){for(var n=[],r=0;r<t;++r){var i=e(r);null!==i&&n.push(i.unpack())}return n}}],[{key:"allocate",value:function(t){return new e(new Uint8Array(t))}}]),e}(),$b=function(){function e(t){var n;b(this,e),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,n=t||1024,this.bb=Yb.allocate(n),this.space=n}return _(e,[{key:"clear",value:function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}},{key:"forceDefaults",value:function(e){this.force_defaults=e}},{key:"dataBuffer",value:function(){return this.bb}},{key:"asUint8Array",value:function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}},{key:"prep",value:function(t,n){t>this.minalign&&(this.minalign=t);for(var r=1+~(this.bb.capacity()-this.space+n)&t-1;this.space<r+t+n;){var i=this.bb.capacity();this.bb=e.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}},{key:"pad",value:function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)}},{key:"writeInt8",value:function(e){this.bb.writeInt8(this.space-=1,e)}},{key:"writeInt16",value:function(e){this.bb.writeInt16(this.space-=2,e)}},{key:"writeInt32",value:function(e){this.bb.writeInt32(this.space-=4,e)}},{key:"writeInt64",value:function(e){this.bb.writeInt64(this.space-=8,e)}},{key:"writeFloat32",value:function(e){this.bb.writeFloat32(this.space-=4,e)}},{key:"writeFloat64",value:function(e){this.bb.writeFloat64(this.space-=8,e)}},{key:"addInt8",value:function(e){this.prep(1,0),this.writeInt8(e)}},{key:"addInt16",value:function(e){this.prep(2,0),this.writeInt16(e)}},{key:"addInt32",value:function(e){this.prep(4,0),this.writeInt32(e)}},{key:"addInt64",value:function(e){this.prep(8,0),this.writeInt64(e)}},{key:"addFloat32",value:function(e){this.prep(4,0),this.writeFloat32(e)}},{key:"addFloat64",value:function(e){this.prep(8,0),this.writeFloat64(e)}},{key:"addFieldInt8",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))}},{key:"addFieldInt16",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))}},{key:"addFieldInt32",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))}},{key:"addFieldInt64",value:function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))}},{key:"addFieldFloat32",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))}},{key:"addFieldFloat64",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))}},{key:"addFieldOffset",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))}},{key:"addFieldStruct",value:function(e,t,n){t!=n&&(this.nested(t),this.slot(e))}},{key:"nested",value:function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}},{key:"notNested",value:function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}},{key:"slot",value:function(e){null!==this.vtable&&(this.vtable[e]=this.offset())}},{key:"offset",value:function(){return this.bb.capacity()-this.space}},{key:"addOffset",value:function(e){this.prep(4,0),this.writeInt32(this.offset()-e+4)}},{key:"startObject",value:function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()}},{key:"endObject",value:function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var r=2*(n+2);this.addInt16(r);var i=0,a=this.space;e:for(t=0;t<this.vtables.length;t++){var o=this.bb.capacity()-this.vtables[t];if(r==this.bb.readInt16(o)){for(var u=2;u<r;u+=2)if(this.bb.readInt16(a+u)!=this.bb.readInt16(o+u))continue e;i=this.vtables[t];break}}return i?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,i-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}},{key:"finish",value:function(e,t,n){var r=n?4:0;if(t){var i=t;if(this.prep(this.minalign,8+r),4!=i.length)throw new Error("FlatBuffers: file identifier must be length 4");for(var a=3;a>=0;a--)this.writeInt8(i.charCodeAt(a))}this.prep(this.minalign,4+r),this.addOffset(e),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}},{key:"finishSizePrefixed",value:function(e,t){this.finish(e,t,!0)}},{key:"requiredField",value:function(e,t){var n=this.bb.capacity()-e,r=n-this.bb.readInt32(n);if(!(0!=this.bb.readInt16(r+t)))throw new Error("FlatBuffers: field "+t+" must be set")}},{key:"startVector",value:function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(4,e*t),this.prep(n,e*t)}},{key:"endVector",value:function(){return this.writeInt32(this.vector_num_elems),this.offset()}},{key:"createSharedString",value:function(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);var t=this.createString(e);return this.string_maps.set(e,t),t}},{key:"createString",value:function(e){if(!e)return 0;var t;if(e instanceof Uint8Array)t=e;else{t=[];for(var n=0;n<e.length;){var r=void 0,i=e.charCodeAt(n++);if(i<55296||i>=56320)r=i;else r=(i<<10)+e.charCodeAt(n++)+-56613888;r<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var a=0,o=this.space,u=this.bb.bytes();a<t.length;a++)u[o++]=t[a];return this.endVector()}},{key:"createLong",value:function(e,t){return Rb.create(e,t)}},{key:"createObjectOffset",value:function(e){return null===e?0:"string"===typeof e?this.createString(e):e.pack(this)}},{key:"createObjectOffsetList",value:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(null===r)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");t.push(this.createObjectOffset(r))}return t}},{key:"createStructOffsetList",value:function(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()}}],[{key:"growByteBuffer",value:function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,r=Yb.allocate(n);return r.setPosition(n-t),r.bytes().set(e.bytes(),n-t),r}}]),e}(),Gb=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"key",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"value",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}}],[{key:"getRootAsKeyValue",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsKeyValue",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startKeyValue",value:function(e){e.startObject(2)}},{key:"addKey",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addValue",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"endKeyValue",value:function(e){return e.endObject()}},{key:"createKeyValue",value:function(t,n,r){return e.startKeyValue(t),e.addKey(t,n),e.addValue(t,r),e.endKeyValue(t)}}]),e}();!function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"}(Vb||(Vb={})),(Hb=Ub||(Ub={}))[Hb.Little=0]="Little",Hb[Hb.Big=1]="Big",(Zb=Wb||(Wb={}))[Zb.DenseArray=0]="DenseArray";var qb,Xb=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"bitWidth",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}},{key:"isSigned",value:function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}}],[{key:"getRootAsInt",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsInt",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startInt",value:function(e){e.startObject(2)}},{key:"addBitWidth",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"addIsSigned",value:function(e,t){e.addFieldInt8(1,+t,0)}},{key:"endInt",value:function(e){return e.endObject()}},{key:"createInt",value:function(t,n,r){return e.startInt(t),e.addBitWidth(t,n),e.addIsSigned(t,r),e.endInt(t)}}]),e}(),Qb=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"id",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"indexType",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new Xb).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}},{key:"isOrdered",value:function(){var e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}},{key:"dictionaryKind",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Wb.DenseArray}}],[{key:"getRootAsDictionaryEncoding",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsDictionaryEncoding",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startDictionaryEncoding",value:function(e){e.startObject(4)}},{key:"addId",value:function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}},{key:"addIndexType",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addIsOrdered",value:function(e,t){e.addFieldInt8(2,+t,0)}},{key:"addDictionaryKind",value:function(e,t){e.addFieldInt16(3,t,Wb.DenseArray)}},{key:"endDictionaryEncoding",value:function(e){return e.endObject()}}]),e}(),Kb=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsBinary",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsBinary",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startBinary",value:function(e){e.startObject(0)}},{key:"endBinary",value:function(e){return e.endObject()}},{key:"createBinary",value:function(t){return e.startBinary(t),e.endBinary(t)}}]),e}(),Jb=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsBool",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsBool",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startBool",value:function(e){e.startObject(0)}},{key:"endBool",value:function(e){return e.endObject()}},{key:"createBool",value:function(t){return e.startBool(t),e.endBool(t)}}]),e}();!function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"}(qb||(qb={}));var eg,tg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):qb.MILLISECOND}}],[{key:"getRootAsDate",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsDate",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startDate",value:function(e){e.startObject(1)}},{key:"addUnit",value:function(e,t){e.addFieldInt16(0,t,qb.MILLISECOND)}},{key:"endDate",value:function(e){return e.endObject()}},{key:"createDate",value:function(t,n){return e.startDate(t),e.addUnit(t,n),e.endDate(t)}}]),e}(),ng=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"precision",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}},{key:"scale",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}},{key:"bitWidth",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}}],[{key:"getRootAsDecimal",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsDecimal",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startDecimal",value:function(e){e.startObject(3)}},{key:"addPrecision",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"addScale",value:function(e,t){e.addFieldInt32(1,t,0)}},{key:"addBitWidth",value:function(e,t){e.addFieldInt32(2,t,128)}},{key:"endDecimal",value:function(e){return e.endObject()}},{key:"createDecimal",value:function(t,n,r,i){return e.startDecimal(t),e.addPrecision(t,n),e.addScale(t,r),e.addBitWidth(t,i),e.endDecimal(t)}}]),e}();!function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"}(eg||(eg={}));var rg,ig=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"byteWidth",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}}],[{key:"getRootAsFixedSizeBinary",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsFixedSizeBinary",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startFixedSizeBinary",value:function(e){e.startObject(1)}},{key:"addByteWidth",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"endFixedSizeBinary",value:function(e){return e.endObject()}},{key:"createFixedSizeBinary",value:function(t,n){return e.startFixedSizeBinary(t),e.addByteWidth(t,n),e.endFixedSizeBinary(t)}}]),e}(),ag=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"listSize",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}}],[{key:"getRootAsFixedSizeList",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsFixedSizeList",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startFixedSizeList",value:function(e){e.startObject(1)}},{key:"addListSize",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"endFixedSizeList",value:function(e){return e.endObject()}},{key:"createFixedSizeList",value:function(t,n){return e.startFixedSizeList(t),e.addListSize(t,n),e.endFixedSizeList(t)}}]),e}();!function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"}(rg||(rg={}));var og,ug=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"precision",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):rg.HALF}}],[{key:"getRootAsFloatingPoint",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsFloatingPoint",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startFloatingPoint",value:function(e){e.startObject(1)}},{key:"addPrecision",value:function(e,t){e.addFieldInt16(0,t,rg.HALF)}},{key:"endFloatingPoint",value:function(e){return e.endObject()}},{key:"createFloatingPoint",value:function(t,n){return e.startFloatingPoint(t),e.addPrecision(t,n),e.endFloatingPoint(t)}}]),e}();!function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(og||(og={}));var sg,lg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):og.YEAR_MONTH}}],[{key:"getRootAsInterval",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsInterval",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startInterval",value:function(e){e.startObject(1)}},{key:"addUnit",value:function(e,t){e.addFieldInt16(0,t,og.YEAR_MONTH)}},{key:"endInterval",value:function(e){return e.endObject()}},{key:"createInterval",value:function(t,n){return e.startInterval(t),e.addUnit(t,n),e.endInterval(t)}}]),e}(),cg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsList",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsList",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startList",value:function(e){e.startObject(0)}},{key:"endList",value:function(e){return e.endObject()}},{key:"createList",value:function(t){return e.startList(t),e.endList(t)}}]),e}(),fg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"keysSorted",value:function(){var e=this.bb.__offset(this.bb_pos,4);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}}],[{key:"getRootAsMap",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsMap",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startMap",value:function(e){e.startObject(1)}},{key:"addKeysSorted",value:function(e,t){e.addFieldInt8(0,+t,0)}},{key:"endMap",value:function(e){return e.endObject()}},{key:"createMap",value:function(t,n){return e.startMap(t),e.addKeysSorted(t,n),e.endMap(t)}}]),e}(),dg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsNull",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsNull",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startNull",value:function(e){e.startObject(0)}},{key:"endNull",value:function(e){return e.endObject()}},{key:"createNull",value:function(t){return e.startNull(t),e.endNull(t)}}]),e}(),hg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsStruct_",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsStruct_",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startStruct_",value:function(e){e.startObject(0)}},{key:"endStruct_",value:function(e){return e.endObject()}},{key:"createStruct_",value:function(t){return e.startStruct_(t),e.endStruct_(t)}}]),e}(),pg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eg.MILLISECOND}},{key:"bitWidth",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}}],[{key:"getRootAsTime",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsTime",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startTime",value:function(e){e.startObject(2)}},{key:"addUnit",value:function(e,t){e.addFieldInt16(0,t,eg.MILLISECOND)}},{key:"addBitWidth",value:function(e,t){e.addFieldInt32(1,t,32)}},{key:"endTime",value:function(e){return e.endObject()}},{key:"createTime",value:function(t,n,r){return e.startTime(t),e.addUnit(t,n),e.addBitWidth(t,r),e.endTime(t)}}]),e}(),vg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eg.SECOND}},{key:"timezone",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}}],[{key:"getRootAsTimestamp",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsTimestamp",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startTimestamp",value:function(e){e.startObject(2)}},{key:"addUnit",value:function(e,t){e.addFieldInt16(0,t,eg.SECOND)}},{key:"addTimezone",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"endTimestamp",value:function(e){return e.endObject()}},{key:"createTimestamp",value:function(t,n,r){return e.startTimestamp(t),e.addUnit(t,n),e.addTimezone(t,r),e.endTimestamp(t)}}]),e}();!function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"}(sg||(sg={}));var mg,yg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"mode",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):sg.Sparse}},{key:"typeIds",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}},{key:"typeIdsLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"typeIdsArray",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}}],[{key:"getRootAsUnion",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsUnion",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startUnion",value:function(e){e.startObject(2)}},{key:"addMode",value:function(e,t){e.addFieldInt16(0,t,sg.Sparse)}},{key:"addTypeIds",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"createTypeIdsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}},{key:"startTypeIdsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endUnion",value:function(e){return e.endObject()}},{key:"createUnion",value:function(t,n,r){return e.startUnion(t),e.addMode(t,n),e.addTypeIds(t,r),e.endUnion(t)}}]),e}(),bg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsUtf8",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsUtf8",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startUtf8",value:function(e){e.startObject(0)}},{key:"endUtf8",value:function(e){return e.endObject()}},{key:"createUtf8",value:function(t){return e.startUtf8(t),e.endUtf8(t)}}]),e}();!function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"}(mg||(mg={}));var gg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"name",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"nullable",value:function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}},{key:"typeType",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):mg.NONE}},{key:"type",value:function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}},{key:"dictionary",value:function(e){var t=this.bb.__offset(this.bb_pos,12);return t?(e||new Qb).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}},{key:"children",value:function(t,n){var r=this.bb.__offset(this.bb_pos,14);return r?(n||new e).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"childrenLength",value:function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"customMetadata",value:function(e,t){var n=this.bb.__offset(this.bb_pos,16);return n?(t||new Gb).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}},{key:"customMetadataLength",value:function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsField",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsField",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startField",value:function(e){e.startObject(7)}},{key:"addName",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addNullable",value:function(e,t){e.addFieldInt8(1,+t,0)}},{key:"addTypeType",value:function(e,t){e.addFieldInt8(2,t,mg.NONE)}},{key:"addType",value:function(e,t){e.addFieldOffset(3,t,0)}},{key:"addDictionary",value:function(e,t){e.addFieldOffset(4,t,0)}},{key:"addChildren",value:function(e,t){e.addFieldOffset(5,t,0)}},{key:"createChildrenVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startChildrenVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addCustomMetadata",value:function(e,t){e.addFieldOffset(6,t,0)}},{key:"createCustomMetadataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startCustomMetadataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endField",value:function(e){return e.endObject()}}]),e}(),_g=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"endianness",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ub.Little}},{key:"fields",value:function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new gg).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}},{key:"fieldsLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"customMetadata",value:function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new Gb).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}},{key:"customMetadataLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"features",value:function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}},{key:"featuresLength",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsSchema",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsSchema",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startSchema",value:function(e){e.startObject(4)}},{key:"addEndianness",value:function(e,t){e.addFieldInt16(0,t,Ub.Little)}},{key:"addFields",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"createFieldsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startFieldsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addCustomMetadata",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"createCustomMetadataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startCustomMetadataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addFeatures",value:function(e,t){e.addFieldOffset(3,t,0)}},{key:"createFeaturesVector",value:function(e,t){e.startVector(8,t.length,8);for(var n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}},{key:"startFeaturesVector",value:function(e,t){e.startVector(8,t,8)}},{key:"endSchema",value:function(e){return e.endObject()}},{key:"finishSchemaBuffer",value:function(e,t){e.finish(t)}},{key:"finishSizePrefixedSchemaBuffer",value:function(e,t){e.finish(t,void 0,!0)}},{key:"createSchema",value:function(t,n,r,i,a){return e.startSchema(t),e.addEndianness(t,n),e.addFields(t,r),e.addCustomMetadata(t,i),e.addFeatures(t,a),e.endSchema(t)}}]),e}(),wg=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"version",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Vb.V1}},{key:"schema",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new _g).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}},{key:"dictionaries",value:function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new Nb).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}},{key:"dictionariesLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"recordBatches",value:function(e,t){var n=this.bb.__offset(this.bb_pos,10);return n?(t||new Nb).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}},{key:"recordBatchesLength",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"customMetadata",value:function(e,t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new Gb).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}},{key:"customMetadataLength",value:function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsFooter",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsFooter",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startFooter",value:function(e){e.startObject(5)}},{key:"addVersion",value:function(e,t){e.addFieldInt16(0,t,Vb.V1)}},{key:"addSchema",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addDictionaries",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"startDictionariesVector",value:function(e,t){e.startVector(24,t,8)}},{key:"addRecordBatches",value:function(e,t){e.addFieldOffset(3,t,0)}},{key:"startRecordBatchesVector",value:function(e,t){e.startVector(24,t,8)}},{key:"addCustomMetadata",value:function(e,t){e.addFieldOffset(4,t,0)}},{key:"createCustomMetadataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startCustomMetadataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endFooter",value:function(e){return e.endObject()}},{key:"finishFooterBuffer",value:function(e,t){e.finish(t)}},{key:"finishSizePrefixedFooterBuffer",value:function(e,t){e.finish(t,void 0,!0)}}]),e}(),xg=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;b(this,t),this.fields=e||[],this.metadata=n||new Map,r||(r=Og(e)),this.dictionaries=r}return _(t,[{key:Symbol.toStringTag,get:function(){return"Schema"}},{key:"names",get:function(){return this.fields.map((function(e){return e.name}))}},{key:"toString",value:function(){return"Schema<{ ".concat(this.fields.map((function(e,t){return"".concat(t,": ").concat(e)})).join(", ")," }>")}},{key:"select",value:function(e){var n=new Set(e);return new t(this.fields.filter((function(e){return n.has(e.name)})),this.metadata)}},{key:"selectAt",value:function(e){var n=this,r=e.map((function(e){return n.fields[e]})).filter(Boolean);return new t(r,this.metadata)}},{key:"assign",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0]instanceof t?n[0]:Array.isArray(n[0])?new t(n[0]):new t(n),a=be(this.fields),o=Sg(Sg(new Map,this.metadata),i.metadata),u=i.fields.filter((function(e){var t=a.findIndex((function(t){return t.name===e.name}));return!~t||(a[t]=e.clone({metadata:Sg(Sg(new Map,a[t].metadata),e.metadata)}))&&!1})),s=Og(u,new Map);return new t([].concat(be(a),be(u)),o,new Map([].concat(be(this.dictionaries),be(s))))}}]),t}();xg.prototype.fields=null,xg.prototype.metadata=null,xg.prototype.dictionaries=null;var kg=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;b(this,t),this.name=e,this.type=n,this.nullable=r,this.metadata=i||new Map}return _(t,[{key:"typeId",get:function(){return this.type.typeId}},{key:Symbol.toStringTag,get:function(){return"Field"}},{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.type)}},{key:"clone",value:function(){for(var e,n,r,i,a,o,u,s,c,f,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];var v=h[0],m=h[1],y=h[2],b=h[3];return h[0]&&"object"===typeof h[0]?(v=void 0===(u=(o=h[0]).name)?this.name:u,m=void 0===(s=o.type)?this.type:s,y=void 0===(c=o.nullable)?this.nullable:c,b=void 0===(f=o.metadata)?this.metadata:f):(v=void 0===(n=(e=l(h,4))[0])?this.name:n,m=void 0===(r=e[1])?this.type:r,y=void 0===(i=e[2])?this.nullable:i,b=void 0===(a=e[3])?this.metadata:a),t.new(v,m,y,b)}}],[{key:"new",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],u=n[3];return n[0]&&"object"===typeof n[0]&&(i=n[0].name,void 0===a&&(a=n[0].type),void 0===o&&(o=n[0].nullable),void 0===u&&(u=n[0].metadata)),new t("".concat(i),a,o,u)}}]),t}();function Sg(e,t){return new Map([].concat(be(e||new Map),be(t||new Map)))}function Og(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=-1,r=e.length;++n<r;){var i=e[n],a=i.type;if(Vv.isDictionary(a))if(t.has(a.id)){if(t.get(a.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else t.set(a.id,a.dictionary);a.children&&a.children.length>0&&Og(a.children,t)}return t}kg.prototype.type=null,kg.prototype.name=null,kg.prototype.nullable=null,kg.prototype.metadata=null;var Ag=Rb,Eg=$b,Ig=Yb,Cg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wp.V4,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;b(this,e),this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}return _(e,[{key:"numRecordBatches",get:function(){return this._recordBatches.length}},{key:"numDictionaries",get:function(){return this._dictionaryBatches.length}},{key:"recordBatches",value:Xr().mark((function e(){var t,n,r;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=-1,r=this.numRecordBatches;case 1:if(!(++n<r)){e.next=7;break}if(!(t=this.getRecordBatch(n))){e.next=5;break}return e.next=5,t;case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"dictionaryBatches",value:Xr().mark((function e(){var t,n,r;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=-1,r=this.numDictionaries;case 1:if(!(++n<r)){e.next=7;break}if(!(t=this.getDictionaryBatch(n))){e.next=5;break}return e.next=5,t;case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"getRecordBatch",value:function(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}},{key:"getDictionaryBatch",value:function(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}],[{key:"decode",value:function(e){e=new Ig(Mp(e));var t=wg.getRootAsFooter(e),n=xg.decode(t.schema());return new Tg(n,t)}},{key:"encode",value:function(e){var t=new Eg,n=xg.encode(t,e.schema);wg.startRecordBatchesVector(t,e.numRecordBatches);var r,i=Qr(be(e.recordBatches()).slice().reverse());try{for(i.s();!(r=i.n()).done;){var a=r.value;Mg.encode(t,a)}}catch(Lk){i.e(Lk)}finally{i.f()}var o=t.endVector();wg.startDictionariesVector(t,e.numDictionaries);var u,s=Qr(be(e.dictionaryBatches()).slice().reverse());try{for(s.s();!(u=s.n()).done;){var l=u.value;Mg.encode(t,l)}}catch(Lk){s.e(Lk)}finally{s.f()}var c=t.endVector();return wg.startFooter(t),wg.addSchema(t,n),wg.addVersion(t,Wp.V4),wg.addRecordBatches(t,o),wg.addDictionaries(t,c),wg.finishFooterBuffer(t,wg.endFooter(t)),t.asUint8Array()}}]),e}(),Tg=function(e){x(n,e);var t=Gr(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r.version()))._footer=r,i}return _(n,[{key:"numRecordBatches",get:function(){return this._footer.recordBatchesLength()}},{key:"numDictionaries",get:function(){return this._footer.dictionariesLength()}},{key:"getRecordBatch",value:function(e){if(e>=0&&e<this.numRecordBatches){var t=this._footer.recordBatches(e);if(t)return Mg.decode(t)}return null}},{key:"getDictionaryBatch",value:function(e){if(e>=0&&e<this.numDictionaries){var t=this._footer.dictionaries(e);if(t)return Mg.decode(t)}return null}}]),n}(Cg),Mg=function(){function e(t,n,r){b(this,e),this.metaDataLength=t,this.offset="number"===typeof r?r:r.low,this.bodyLength="number"===typeof n?n:n.low}return _(e,null,[{key:"decode",value:function(t){return new e(t.metaDataLength(),t.bodyLength(),t.offset())}},{key:"encode",value:function(e,t){var n=t.metaDataLength,r=new Ag(t.offset,0),i=new Ag(t.bodyLength,0);return Nb.createBlock(e,r,n,i)}}]),e}(),Dg=Object.freeze({done:!0,value:void 0}),jg=function(){function e(t){b(this,e),this._json=t}return _(e,[{key:"schema",get:function(){return this._json.schema}},{key:"batches",get:function(){return this._json.batches||[]}},{key:"dictionaries",get:function(){return this._json.dictionaries||[]}}]),e}(),zg=function(){function e(){b(this,e)}return _(e,[{key:"tee",value:function(){return this._getDOMStream().tee()}},{key:"pipe",value:function(e,t){return this._getNodeStream().pipe(e,t)}},{key:"pipeTo",value:function(e,t){return this._getDOMStream().pipeTo(e,t)}},{key:"pipeThrough",value:function(e,t){return this._getDOMStream().pipeThrough(e,t)}},{key:"_getDOMStream",value:function(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}},{key:"_getNodeStream",value:function(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}]),e}(),Ng=function(e,t){x(r,e);var n=Gr(r);function r(){var e;return b(this,r),(e=n.call(this))._values=[],e.resolvers=[],e._closedPromise=new Promise((function(t){return e._closedPromiseResolve=t})),e}return _(r,[{key:"closed",get:function(){return this._closedPromise}},{key:"cancel",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.return(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"write",value:function(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}},{key:"abort",value:function(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}},{key:"close",value:function(){if(this._closedPromiseResolve){for(var e=this.resolvers;e.length>0;)e.shift().resolve(Dg);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}},{key:t,value:function(){return this}},{key:"toDOMStream",value:function(e){return Rp(this._closedPromiseResolve||this._error?this:this._values,e)}},{key:"toNodeStream",value:function(e){return Vp(this._closedPromiseResolve||this._error?this:this._values,e)}},{key:"throw",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.abort(e);case 2:return t.abrupt("return",Dg);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"return",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function e(){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:return e.abrupt("return",Dg);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"read",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next(e,"read");case 2:return t.abrupt("return",t.sent.value);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"peek",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next(e,"peek");case 2:return t.abrupt("return",t.sent.value);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"next",value:function(){var e=this;return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((function(t,n){e.resolvers.push({resolve:t,reject:n})})):Promise.resolve(Dg)}},{key:"_ensureOpen",value:function(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}]),r}(zg,Symbol.asyncIterator),Pg=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"write",value:function(e){if((e=Mp(e)).byteLength>0)return Bt(gt(n.prototype),"write",this).call(this,e)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?ap(this.toUint8Array(!0)):this.toUint8Array(!1).then(ap)}},{key:"toUint8Array",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?Ip(this._values)[0]:Kh(e,void 0,void 0,Xr().mark((function e(){var t,n,r,i,a,o,u;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=0,e.prev=2,a=rp(this);case 4:return e.next=6,a.next();case 6:if((o=e.sent).done){e.next=13;break}u=o.value,r.push(u),i+=u.byteLength;case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),t={error:e.t0};case 18:if(e.prev=18,e.prev=19,!o||o.done||!(n=a.return)){e.next=23;break}return e.next=23,n.call(a);case 23:if(e.prev=23,!t){e.next=26;break}throw t.error;case 26:return e.finish(23);case 27:return e.finish(18);case 28:return e.abrupt("return",Ip(r,i)[0]);case 29:case"end":return e.stop()}}),e,this,[[2,15,18,28],[19,,23,27]])})))}}]),n}(Ng),Fg=function(e){function t(e){b(this,t),e&&(this.source=new Bg(Pp(e)))}return _(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(e){return this.source.next(e)}},{key:"throw",value:function(e){return this.source.throw(e)}},{key:"return",value:function(e){return this.source.return(e)}},{key:"peek",value:function(e){return this.source.peek(e)}},{key:"read",value:function(e){return this.source.read(e)}}]),t}(),Lg=function(e){function t(e){b(this,t),e instanceof t?this.source=e.source:e instanceof Pg?this.source=new Rg(Fp(e)):Op(e)?this.source=new Rg(Bp(e)):Sp(e)?this.source=new Rg(Lp(e)):xp(e)?this.source=new Rg(Lp(e.body)):yp(e)?this.source=new Rg(Pp(e)):(mp(e)||bp(e))&&(this.source=new Rg(Fp(e)))}return _(t,[{key:Symbol.asyncIterator,value:function(){return this}},{key:"next",value:function(e){return this.source.next(e)}},{key:"throw",value:function(e){return this.source.throw(e)}},{key:"return",value:function(e){return this.source.return(e)}},{key:"closed",get:function(){return this.source.closed}},{key:"cancel",value:function(e){return this.source.cancel(e)}},{key:"peek",value:function(e){return this.source.peek(e)}},{key:"read",value:function(e){return this.source.read(e)}}]),t}(),Bg=function(){function e(t){b(this,e),this.source=t}return _(e,[{key:"cancel",value:function(e){this.return(e)}},{key:"peek",value:function(e){return this.next(e,"peek").value}},{key:"read",value:function(e){return this.next(e,"read").value}},{key:"next",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:t,size:e})}},{key:"throw",value:function(e){return Object.create(this.source.throw&&this.source.throw(e)||Dg)}},{key:"return",value:function(e){return Object.create(this.source.return&&this.source.return(e)||Dg)}}]),e}(),Rg=function(){function e(t){var n=this;b(this,e),this.source=t,this._closedPromise=new Promise((function(e){return n._closedPromiseResolve=e}))}return _(e,[{key:"cancel",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.return(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"closed",get:function(){return this._closedPromise}},{key:"read",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next(e,"read");case 2:return t.abrupt("return",t.sent.value);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"peek",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next(e,"peek");case 2:return t.abrupt("return",t.sent.value);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"next",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return Kh(this,void 0,void 0,Xr().mark((function n(){return Xr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.source.next({cmd:t,size:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"throw",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t1=this.source.throw,!t.t1){t.next=5;break}return t.next=4,this.source.throw(e);case 4:t.t1=t.sent;case 5:if(t.t0=t.t1,t.t0){t.next=8;break}t.t0=Dg;case 8:return n=t.t0,this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,t.abrupt("return",Object.create(n));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"return",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t1=this.source.return,!t.t1){t.next=5;break}return t.next=4,this.source.return(e);case 4:t.t1=t.sent;case 5:if(t.t0=t.t1,t.t0){t.next=8;break}t.t0=Dg;case 8:return n=t.t0,this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,t.abrupt("return",Object.create(n));case 12:case"end":return t.stop()}}),t,this)})))}}]),e}(),Vg=function(e){x(n,e);var t=Gr(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).position=0,i.buffer=Mp(e),i.size="undefined"===typeof r?i.buffer.byteLength:r,i}return _(n,[{key:"readInt32",value:function(e){var t=this.readAt(e,4),n=t.buffer,r=t.byteOffset;return new DataView(n,r).getInt32(0,!0)}},{key:"seek",value:function(e){return this.position=Math.min(e,this.size),e<this.size}},{key:"read",value:function(e){var t=this.buffer,n=this.size,r=this.position;return t&&r<n?("number"!==typeof e&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(n,r+Math.min(n-r,e)),t.subarray(r,this.position)):null}},{key:"readAt",value:function(e,t){var n=this.buffer,r=Math.min(this.size,e+t);return n?n.subarray(e,r):new Uint8Array(t)}},{key:"close",value:function(){this.buffer&&(this.buffer=null)}},{key:"throw",value:function(e){return this.close(),{done:!0,value:e}}},{key:"return",value:function(e){return this.close(),{done:!0,value:e}}}]),n}(Fg),Ug=function(e){x(n,e);var t=Gr(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).position=0,i._handle=e,"number"===typeof r?i.size=r:i._pending=Kh(yt(i),void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.stat();case 2:this.size=t.sent.size,delete this._pending;case 4:case"end":return t.stop()}}),t,this)}))),i}return _(n,[{key:"readInt32",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n,r,i;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readAt(e,4);case 2:return n=t.sent,r=n.buffer,i=n.byteOffset,t.abrupt("return",new DataView(r,i).getInt32(0,!0));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"seek",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._pending,!t.t0){t.next=4;break}return t.next=4,this._pending;case 4:return this.position=Math.min(e,this.size),t.abrupt("return",e<this.size);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"read",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n,r,i,a,o,u,s,l,c;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._pending,!t.t0){t.next=4;break}return t.next=4,this._pending;case 4:if(n=this._handle,r=this.size,i=this.position,!(n&&i<r)){t.next=18;break}"number"!==typeof e&&(e=Number.POSITIVE_INFINITY),a=i,o=0,u=0,s=Math.min(r,a+Math.min(r-a,e)),l=new Uint8Array(Math.max(0,(this.position=s)-a));case 10:if(!((a+=u)<s&&(o+=u)<l.byteLength)){t.next=17;break}return t.next=13,n.read(l,o,l.byteLength-o,a);case 13:c=t.sent,u=c.bytesRead,t.next=10;break;case 17:return t.abrupt("return",l);case 18:return t.abrupt("return",null);case 19:case"end":return t.stop()}}),t,this)})))}},{key:"readAt",value:function(e,t){return Kh(this,void 0,void 0,Xr().mark((function n(){var r,i,a,o;return Xr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this._pending,!n.t0){n.next=4;break}return n.next=4,this._pending;case 4:if(r=this._handle,i=this.size,!(r&&e+t<i)){n.next=11;break}return a=Math.min(i,e+t),o=new Uint8Array(a-e),n.next=10,r.read(o,0,t,e);case 10:return n.abrupt("return",n.sent.buffer);case 11:return n.abrupt("return",new Uint8Array(t));case 12:case"end":return n.stop()}}),n,this)})))}},{key:"close",value:function(){return Kh(this,void 0,void 0,Xr().mark((function e(){var t;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._handle,this._handle=null,e.t0=t,!e.t0){e.next=6;break}return e.next=6,t.close();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"throw",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.close();case 2:return t.abrupt("return",{done:!0,value:e});case 3:case"end":return t.stop()}}),t,this)})))}},{key:"return",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.close();case 2:return t.abrupt("return",{done:!0,value:e});case 3:case"end":return t.stop()}}),t,this)})))}}]),n}(Lg);function Hg(e){return e<0&&(e=4294967295+e+1),"0x".concat(e.toString(16))}var Wg=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],Zg=function(){function e(t){b(this,e),this.buffer=t}return _(e,[{key:"high",value:function(){return this.buffer[1]}},{key:"low",value:function(){return this.buffer[0]}},{key:"_times",value:function(e){var t=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),n=new Uint32Array([e.buffer[1]>>>16,65535&e.buffer[1],e.buffer[0]>>>16,65535&e.buffer[0]]),r=t[3]*n[3];this.buffer[0]=65535&r;var i=r>>>16;return i+=r=t[2]*n[3],i+=r=t[3]*n[2]>>>0,this.buffer[0]+=i<<16,this.buffer[1]=i>>>0<r?65536:0,this.buffer[1]+=i>>>16,this.buffer[1]+=t[1]*n[3]+t[2]*n[2]+t[3]*n[1],this.buffer[1]+=t[0]*n[3]+t[1]*n[2]+t[2]*n[1]+t[3]*n[0]<<16,this}},{key:"_plus",value:function(e){var t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}},{key:"lessThan",value:function(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}},{key:"equals",value:function(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}},{key:"greaterThan",value:function(e){return e.lessThan(this)}},{key:"hex",value:function(){return"".concat(Hg(this.buffer[1])," ").concat(Hg(this.buffer[0]))}}]),e}(),Yg=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"times",value:function(e){return this._times(e),this}},{key:"plus",value:function(e){return this._plus(e),this}}],[{key:"from",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString("string"===typeof e?e:e.toString(),t)}},{key:"fromNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString(e.toString(),t)}},{key:"fromString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2),r=e.length,i=new n(t),a=0;a<r;){var o=8<r-a?8:r-a,u=new n(new Uint32Array([Number.parseInt(e.slice(a,a+o),10),0])),s=new n(new Uint32Array([Wg[o],0]));i.times(s),i.plus(u),a+=o}return i}},{key:"convertArray",value:function(e){for(var t=new Uint32Array(2*e.length),r=-1,i=e.length;++r<i;)n.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}},{key:"multiply",value:function(e,t){return new n(new Uint32Array(e.buffer)).times(t)}},{key:"add",value:function(e,t){return new n(new Uint32Array(e.buffer)).plus(t)}}]),n}(Zg),$g=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"negate",value:function(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}},{key:"times",value:function(e){return this._times(e),this}},{key:"plus",value:function(e){return this._plus(e),this}},{key:"lessThan",value:function(e){var t=this.buffer[1]<<0,n=e.buffer[1]<<0;return t<n||t===n&&this.buffer[0]<e.buffer[0]}}],[{key:"from",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString("string"===typeof e?e:e.toString(),t)}},{key:"fromNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString(e.toString(),t)}},{key:"fromString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2),r=e.startsWith("-"),i=e.length,a=new n(t),o=r?1:0;o<i;){var u=8<i-o?8:i-o,s=new n(new Uint32Array([Number.parseInt(e.slice(o,o+u),10),0])),l=new n(new Uint32Array([Wg[u],0]));a.times(l),a.plus(s),o+=u}return r?a.negate():a}},{key:"convertArray",value:function(e){for(var t=new Uint32Array(2*e.length),r=-1,i=e.length;++r<i;)n.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}},{key:"multiply",value:function(e,t){return new n(new Uint32Array(e.buffer)).times(t)}},{key:"add",value:function(e,t){return new n(new Uint32Array(e.buffer)).plus(t)}}]),n}(Zg),Gg=function(){function e(t){b(this,e),this.buffer=t}return _(e,[{key:"high",value:function(){return new $g(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}},{key:"low",value:function(){return new $g(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}},{key:"negate",value:function(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}},{key:"times",value:function(e){var t=new Yg(new Uint32Array([this.buffer[3],0])),n=new Yg(new Uint32Array([this.buffer[2],0])),r=new Yg(new Uint32Array([this.buffer[1],0])),i=new Yg(new Uint32Array([this.buffer[0],0])),a=new Yg(new Uint32Array([e.buffer[3],0])),o=new Yg(new Uint32Array([e.buffer[2],0])),u=new Yg(new Uint32Array([e.buffer[1],0])),s=new Yg(new Uint32Array([e.buffer[0],0])),l=Yg.multiply(i,s);this.buffer[0]=l.low();var c=new Yg(new Uint32Array([l.high(),0]));return l=Yg.multiply(r,s),c.plus(l),l=Yg.multiply(i,u),c.plus(l),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(l)?1:0,this.buffer[2]=c.high(),new Yg(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Yg.multiply(n,s)).plus(Yg.multiply(r,u)).plus(Yg.multiply(i,o)),this.buffer[3]+=Yg.multiply(t,s).plus(Yg.multiply(n,u)).plus(Yg.multiply(r,o)).plus(Yg.multiply(i,a)).low(),this}},{key:"plus",value:function(e){var t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}},{key:"hex",value:function(){return"".concat(Hg(this.buffer[3])," ").concat(Hg(this.buffer[2])," ").concat(Hg(this.buffer[1])," ").concat(Hg(this.buffer[0]))}}],[{key:"multiply",value:function(t,n){return new e(new Uint32Array(t.buffer)).times(n)}},{key:"add",value:function(t,n){return new e(new Uint32Array(t.buffer)).plus(n)}},{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return e.fromString("string"===typeof t?t:t.toString(),n)}},{key:"fromNumber",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return e.fromString(t.toString(),n)}},{key:"fromString",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4),r=t.startsWith("-"),i=t.length,a=new e(n),o=r?1:0;o<i;){var u=8<i-o?8:i-o,s=new e(new Uint32Array([Number.parseInt(t.slice(o,o+u),10),0,0,0])),l=new e(new Uint32Array([Wg[u],0,0,0]));a.times(l),a.plus(s),o+=u}return r?a.negate():a}},{key:"convertArray",value:function(t){for(var n=new Uint32Array(4*t.length),r=-1,i=t.length;++r<i;)e.from(t[r],new Uint32Array(n.buffer,n.byteOffset+16*r,4));return n}}]),e}(),qg=function(e){x(n,e);var t=Gr(n);function n(e,r,i,a){var o;return b(this,n),(o=t.call(this)).nodesIndex=-1,o.buffersIndex=-1,o.bytes=e,o.nodes=r,o.buffers=i,o.dictionaries=a,o}return _(n,[{key:"visit",value:function(e){return Bt(gt(n.prototype),"visit",this).call(this,e instanceof kg?e.type:e)}},{key:"visitNull",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length;return Gy({type:e,length:n})}},{key:"visitBool",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitFloat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitUtf8",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}},{key:"visitBinary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}},{key:"visitFixedSizeBinary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}},{key:"visitStruct",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}},{key:"visitUnion",value:function(e){return e.mode===Yp.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}},{key:"visitDenseUnion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}},{key:"visitSparseUnion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}},{key:"visitDictionary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}},{key:"visitInterval",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitFixedSizeList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}},{key:"visitMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return Gy({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}},{key:"nextFieldNode",value:function(){return this.nodes[++this.nodesIndex]}},{key:"nextBufferRange",value:function(){return this.buffers[++this.buffersIndex]}},{key:"readNullBitmap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return t>0&&this.readData(e,n)||new Uint8Array(0)}},{key:"readOffsets",value:function(e,t){return this.readData(e,t)}},{key:"readTypeIds",value:function(e,t){return this.readData(e,t)}},{key:"readData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange(),n=t.length,r=t.offset;return this.bytes.subarray(r,r+n)}},{key:"readDictionary",value:function(e){return this.dictionaries.get(e.id)}}]),n}(_m),Xg=function(e){x(n,e);var t=Gr(n);function n(e,r,i,a){var o;return b(this,n),(o=t.call(this,new Uint8Array(0),r,i,a)).sources=e,o}return _(n,[{key:"readNullBitmap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange(),r=n.offset;return t<=0?new Uint8Array(0):Uy(this.sources[r])}},{key:"readOffsets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange(),n=t.offset;return Cp(Uint8Array,Cp(Int32Array,this.sources[n]))}},{key:"readTypeIds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange(),n=t.offset;return Cp(Uint8Array,Cp(e.ArrayType,this.sources[n]))}},{key:"readData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange(),n=t.offset,r=this.sources;return Vv.isTimestamp(e)||(Vv.isInt(e)||Vv.isTime(e))&&64===e.bitWidth||Vv.isDate(e)&&e.unit===Xp.MILLISECOND?Cp(Uint8Array,$g.convertArray(r[n])):Vv.isDecimal(e)?Cp(Uint8Array,Gg.convertArray(r[n])):Vv.isBinary(e)||Vv.isFixedSizeBinary(e)?Qg(r[n]):Vv.isBool(e)?Uy(r[n]):Vv.isUtf8(e)?up(r[n].join("")):Cp(Uint8Array,Cp(e.ArrayType,r[n].map((function(e){return+e}))))}}]),n}(qg);function Qg(e){for(var t=e.join(""),n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r>>1]=Number.parseInt(t.slice(r,r+2),16);return n}var Kg=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._values=new Ab(new Uint8Array(0)),r}return _(n,[{key:"byteLength",get:function(){var e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}},{key:"setValue",value:function(e,t){return Bt(gt(n.prototype),"setValue",this).call(this,e,Mp(t))}},{key:"_flushPending",value:function(e,t){var n,r=this._offsets,i=this._values.reserve(t).buffer,a=0,o=Qr(e);try{for(o.s();!(n=o.n()).done;){var u=l(n.value,2),s=u[0],c=u[1];if(void 0===c)r.set(s,0);else{var f=c.length;i.set(c,a),r.set(s,f),a+=f}}}catch(Lk){o.e(Lk)}finally{o.f()}}}]),n}(zb),Jg=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._values=new Ib,r}return _(n,[{key:"setValue",value:function(e,t){this._values.set(e,+t)}}]),n}(Tb),e_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(jb);e_.prototype._setValue=Lm;var t_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(e_);t_.prototype._setValue=Nm;var n_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(e_);n_.prototype._setValue=Pm;var r_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(jb);r_.prototype._setValue=qm;var i_=function(e){x(n,e);var t=Gr(n);function n(e){var r,i=e.type,a=e.nullValues,o=e.dictionaryHashFunction;return b(this,n),(r=t.call(this,{type:new bm(i.dictionary,i.indices,i.id,i.isOrdered)}))._nulls=null,r._dictionaryOffset=0,r._keysToIndices=Object.create(null),r.indices=nw({type:r.type.indices,nullValues:a}),r.dictionary=nw({type:r.type.dictionary,nullValues:null}),"function"===typeof o&&(r.valueToKey=o),r}return _(n,[{key:"values",get:function(){return this.indices.values}},{key:"nullCount",get:function(){return this.indices.nullCount}},{key:"nullBitmap",get:function(){return this.indices.nullBitmap}},{key:"byteLength",get:function(){return this.indices.byteLength+this.dictionary.byteLength}},{key:"reservedLength",get:function(){return this.indices.reservedLength+this.dictionary.reservedLength}},{key:"reservedByteLength",get:function(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}},{key:"isValid",value:function(e){return this.indices.isValid(e)}},{key:"setValid",value:function(e,t){var n=this.indices;return t=n.setValid(e,t),this.length=n.length,t}},{key:"setValue",value:function(e,t){var n=this._keysToIndices,r=this.valueToKey(t),i=n[r];return void 0===i&&(n[r]=i=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,i)}},{key:"flush",value:function(){var e=this.type,t=this._dictionary,n=this.dictionary.toVector(),r=this.indices.flush().clone(e);return r.dictionary=t?t.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=r.dictionary,this.clear(),r}},{key:"finish",value:function(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),Bt(gt(n.prototype),"finish",this).call(this)}},{key:"clear",value:function(){return this.indices.clear(),this.dictionary.clear(),Bt(gt(n.prototype),"clear",this).call(this)}},{key:"valueToKey",value:function(e){return"string"===typeof e?e:"".concat(e)}}]),n}(Tb),a_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(jb);a_.prototype._setValue=Fm;var o_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"setValue",value:function(e,t){for(var n=l(this.children,1)[0],r=e*this.stride,i=-1,a=t.length;++i<a;)n.set(r+i,t[i])}},{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");var n=this.children.push(e);return this.type=new pm(this.type.listSize,new kg(t,e.type,!0)),n}}]),n}(Tb),u_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"setValue",value:function(e,t){this._values.set(e,t)}}]),n}(jb),s_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"setValue",value:function(e,t){Bt(gt(n.prototype),"setValue",this).call(this,e,Em(t))}}]),n}(u_),l_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(u_),c_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(u_),f_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(jb);f_.prototype._setValue=Km;var d_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(f_);d_.prototype._setValue=Jm;var h_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(f_);h_.prototype._setValue=ey;var p_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"setValue",value:function(e,t){this._values.set(e,t)}}]),n}(jb),v_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(p_),m_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(p_),y_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(p_),b_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(p_),g_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(p_),__=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(p_),w_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(p_),x_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(p_),k_=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._offsets=new Cb,r}return _(n,[{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new cm(new kg(t,e.type,!0)),this.numChildren-1}},{key:"_flushPending",value:function(e){var t,n=this._offsets,r=l(this.children,1)[0],i=Qr(e);try{for(i.s();!(t=i.n()).done;){var a=l(t.value,2),o=a[0],u=a[1];if("undefined"===typeof u)n.set(o,0);else for(var s=u.length,c=n.set(o,s).buffer[o],f=-1;++f<s;)r.set(c+f,u[f])}}catch(Lk){i.e(Lk)}finally{i.f()}}}]),n}(zb),S_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"set",value:function(e,t){return Bt(gt(n.prototype),"set",this).call(this,e,t)}},{key:"setValue",value:function(e,t){var n=t instanceof Map?t:new Map(Object.entries(t)),r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.size),this._pendingLength+=n.size,r.set(e,n)}},{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.numChildren);if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new vm(new kg(t,e.type,!0),this.type.keysSorted),this.numChildren-1}},{key:"_flushPending",value:function(e){var t,n=this._offsets,r=l(this.children,1)[0],i=Qr(e);try{for(i.s();!(t=i.n()).done;){var a=l(t.value,2),o=a[0],u=a[1];if(void 0===u)n.set(o,0);else{var s,c=n.set(o,u.size).buffer,f=c[o],d=c[o+1],h=Qr(u.entries());try{for(h.s();!(s=h.n()).done;){var p=s.value;if(r.set(f,p),++f>=d)break}}catch(Lk){h.e(Lk)}finally{h.f()}}}}catch(Lk){i.e(Lk)}finally{i.f()}}}]),n}(zb),O_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"setValue",value:function(e,t){}},{key:"setValid",value:function(e,t){return this.length=Math.max(e+1,this.length),t}}]),n}(Tb),A_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"setValue",value:function(e,t){var n=this.children,r=this.type;switch(Array.isArray(t)||t.constructor){case!0:return r.children.forEach((function(r,i){return n[i].set(e,t[i])}));case Map:return r.children.forEach((function(r,i){return n[i].set(e,t.get(r.name))}));default:return r.children.forEach((function(r,i){return n[i].set(e,t[r.name])}))}}},{key:"setValid",value:function(e,t){return Bt(gt(n.prototype),"setValid",this).call(this,e,t)||this.children.forEach((function(n){return n.setValid(e,t)})),t}},{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.numChildren),n=this.children.push(e);return this.type=new fm([].concat(be(this.type.children),[new kg(t,e.type,!0)])),n}}]),n}(Tb),E_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(jb);E_.prototype._setValue=Hm;var I_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(E_);I_.prototype._setValue=Bm;var C_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(E_);C_.prototype._setValue=Rm;var T_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(E_);T_.prototype._setValue=Vm;var M_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(E_);M_.prototype._setValue=Um;var D_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(jb);D_.prototype._setValue=Gm;var j_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(D_);j_.prototype._setValue=Wm;var z_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(D_);z_.prototype._setValue=Zm;var N_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(D_);N_.prototype._setValue=Ym;var P_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(D_);P_.prototype._setValue=$m;var F_=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._typeIds=new Eb(new Int8Array(0),1),"function"===typeof e.valueToChildTypeId&&(r._valueToChildTypeId=e.valueToChildTypeId),r}return _(n,[{key:"typeIdToChildIndex",get:function(){return this.type.typeIdToChildIndex}},{key:"append",value:function(e,t){return this.set(this.length,e,t)}},{key:"set",value:function(e,t,n){return void 0===n&&(n=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,n),this}},{key:"setValue",value:function(e,t,n){this._typeIds.set(e,n);var r=this.type.typeIdToChildIndex[n],i=this.children[r];null===i||void 0===i||i.set(e,t)}},{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(this.children.length),n=this.children.push(e),r=this.type,i=r.children,a=r.mode,o=r.typeIds,u=[].concat(be(i),[new kg(t,e.type)]);return this.type=new dm(a,[].concat(be(o),[n]),u),n}},{key:"_valueToChildTypeId",value:function(e,t,n){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}]),n}(Tb),L_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n)}(F_),B_=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._offsets=new Eb(new Int32Array(0)),r}return _(n,[{key:"setValue",value:function(e,t,n){var r=this._typeIds.set(e,n).buffer[e],i=this.getChildAt(this.type.typeIdToChildIndex[r]),a=this._offsets.set(e,i.length).buffer[e];null===i||void 0===i||i.set(a,t)}}]),n}(F_),R_=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._values=new Ab(new Uint8Array(0)),r}return _(n,[{key:"byteLength",get:function(){var e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}},{key:"setValue",value:function(e,t){return Bt(gt(n.prototype),"setValue",this).call(this,e,up(t))}},{key:"_flushPending",value:function(e,t){}}]),n}(zb);R_.prototype._flushPending=Kg.prototype._flushPending;var V_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"visitNull",value:function(){return O_}},{key:"visitBool",value:function(){return Jg}},{key:"visitInt",value:function(){return p_}},{key:"visitInt8",value:function(){return v_}},{key:"visitInt16",value:function(){return m_}},{key:"visitInt32",value:function(){return y_}},{key:"visitInt64",value:function(){return b_}},{key:"visitUint8",value:function(){return g_}},{key:"visitUint16",value:function(){return __}},{key:"visitUint32",value:function(){return w_}},{key:"visitUint64",value:function(){return x_}},{key:"visitFloat",value:function(){return u_}},{key:"visitFloat16",value:function(){return s_}},{key:"visitFloat32",value:function(){return l_}},{key:"visitFloat64",value:function(){return c_}},{key:"visitUtf8",value:function(){return R_}},{key:"visitBinary",value:function(){return Kg}},{key:"visitFixedSizeBinary",value:function(){return a_}},{key:"visitDate",value:function(){return e_}},{key:"visitDateDay",value:function(){return t_}},{key:"visitDateMillisecond",value:function(){return n_}},{key:"visitTimestamp",value:function(){return E_}},{key:"visitTimestampSecond",value:function(){return I_}},{key:"visitTimestampMillisecond",value:function(){return C_}},{key:"visitTimestampMicrosecond",value:function(){return T_}},{key:"visitTimestampNanosecond",value:function(){return M_}},{key:"visitTime",value:function(){return D_}},{key:"visitTimeSecond",value:function(){return j_}},{key:"visitTimeMillisecond",value:function(){return z_}},{key:"visitTimeMicrosecond",value:function(){return N_}},{key:"visitTimeNanosecond",value:function(){return P_}},{key:"visitDecimal",value:function(){return r_}},{key:"visitList",value:function(){return k_}},{key:"visitStruct",value:function(){return A_}},{key:"visitUnion",value:function(){return F_}},{key:"visitDenseUnion",value:function(){return B_}},{key:"visitSparseUnion",value:function(){return L_}},{key:"visitDictionary",value:function(){return i_}},{key:"visitInterval",value:function(){return f_}},{key:"visitIntervalDayTime",value:function(){return d_}},{key:"visitIntervalYearMonth",value:function(){return h_}},{key:"visitFixedSizeList",value:function(){return o_}},{key:"visitMap",value:function(){return S_}}]),n}(_m),U_=new V_,H_=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"compareSchemas",value:function(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}},{key:"compareManyFields",value:function(e,t){var n=this;return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,r){return n.compareFields(e,t[r])}))}},{key:"compareFields",value:function(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}}]),n}(_m);function W_(e,t){return t instanceof e.constructor}function Z_(e,t){return e===t||W_(e,t)}function Y_(e,t){return e===t||W_(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function $_(e,t){return e===t||W_(e,t)&&e.precision===t.precision}function G_(e,t){return e===t||W_(e,t)&&e.unit===t.unit}function q_(e,t){return e===t||W_(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function X_(e,t){return e===t||W_(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function Q_(e,t){return e===t||W_(e,t)&&e.mode===t.mode&&e.typeIds.every((function(e,n){return e===t.typeIds[n]}))&&ew.compareManyFields(e.children,t.children)}function K_(e,t){return e===t||W_(e,t)&&e.unit===t.unit}H_.prototype.visitNull=Z_,H_.prototype.visitBool=Z_,H_.prototype.visitInt=Y_,H_.prototype.visitInt8=Y_,H_.prototype.visitInt16=Y_,H_.prototype.visitInt32=Y_,H_.prototype.visitInt64=Y_,H_.prototype.visitUint8=Y_,H_.prototype.visitUint16=Y_,H_.prototype.visitUint32=Y_,H_.prototype.visitUint64=Y_,H_.prototype.visitFloat=$_,H_.prototype.visitFloat16=$_,H_.prototype.visitFloat32=$_,H_.prototype.visitFloat64=$_,H_.prototype.visitUtf8=Z_,H_.prototype.visitBinary=Z_,H_.prototype.visitFixedSizeBinary=function(e,t){return e===t||W_(e,t)&&e.byteWidth===t.byteWidth},H_.prototype.visitDate=G_,H_.prototype.visitDateDay=G_,H_.prototype.visitDateMillisecond=G_,H_.prototype.visitTimestamp=q_,H_.prototype.visitTimestampSecond=q_,H_.prototype.visitTimestampMillisecond=q_,H_.prototype.visitTimestampMicrosecond=q_,H_.prototype.visitTimestampNanosecond=q_,H_.prototype.visitTime=X_,H_.prototype.visitTimeSecond=X_,H_.prototype.visitTimeMillisecond=X_,H_.prototype.visitTimeMicrosecond=X_,H_.prototype.visitTimeNanosecond=X_,H_.prototype.visitDecimal=Z_,H_.prototype.visitList=function(e,t){return e===t||W_(e,t)&&e.children.length===t.children.length&&ew.compareManyFields(e.children,t.children)},H_.prototype.visitStruct=function(e,t){return e===t||W_(e,t)&&e.children.length===t.children.length&&ew.compareManyFields(e.children,t.children)},H_.prototype.visitUnion=Q_,H_.prototype.visitDenseUnion=Q_,H_.prototype.visitSparseUnion=Q_,H_.prototype.visitDictionary=function(e,t){return e===t||W_(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&ew.visit(e.indices,t.indices)&&ew.visit(e.dictionary,t.dictionary)},H_.prototype.visitInterval=K_,H_.prototype.visitIntervalDayTime=K_,H_.prototype.visitIntervalYearMonth=K_,H_.prototype.visitFixedSizeList=function(e,t){return e===t||W_(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&ew.compareManyFields(e.children,t.children)},H_.prototype.visitMap=function(e,t){return e===t||W_(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&ew.compareManyFields(e.children,t.children)};var J_,ew=new H_;function tw(e,t){return ew.compareSchemas(e,t)}function nw(e){var t=e.type,n=new(U_.getVisitFn(t)())(e);if(t.children&&t.children.length>0){var r,i=e.children||[],a={nullValues:e.nullValues},o=Array.isArray(i)?function(e,t){return i[t]||a}:function(e){var t=e.name;return i[t]||a},u=Qr(t.children.entries());try{for(u.s();!(r=u.n()).done;){var s=l(r.value,2),c=s[0],f=s[1],d=f.type,h=o(f,c);n.children.push(nw(Object.assign(Object.assign({},h),{type:d})))}}catch(Lk){u.e(Lk)}finally{u.f()}}return n}function rw(e,t){if(e instanceof Yy||e instanceof _b||e.type instanceof Vv||ArrayBuffer.isView(e))return xb(e);var n=be(function(e){var t=e.queueingStrategy,n=void 0===t?"count":t,r=e.highWaterMark,i=void 0===r?"bytes"!==n?Number.POSITIVE_INFINITY:Math.pow(2,14):r,a="bytes"!==n?"length":"byteLength";return Xr().mark((function t(n){var r,o,u,s,l;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0,o=nw(e),u=Qr(n),t.prev=3,u.s();case 5:if((s=u.n()).done){t.next=14;break}if(l=s.value,!(o.append(l)[a]>=i)){t.next=12;break}if(t.t0=++r,!t.t0){t.next=12;break}return t.next=12,o.toVector();case 12:t.next=5;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(3),u.e(t.t1);case 19:return t.prev=19,u.f(),t.finish(19);case 22:if(!(o.finish().length>0||0===r)){t.next=25;break}return t.next=25,o.toVector();case 25:case"end":return t.stop()}}),t,null,[[3,16,19,22]])}))}({type:null!==t&&void 0!==t?t:iw(e),nullValues:[null]})(e)),r=1===n.length?n[0]:n.reduce((function(e,t){return e.concat(t)}));return Vv.isDictionary(r.type)?r.memoize():r}function iw(e){if(0===e.length)return new Uv;var t,n=0,r=0,i=0,a=0,o=0,u=0,s=0,l=0,c=Qr(e);try{for(c.s();!(t=c.n()).done;){var f=t.value;if(null!=f){switch(typeof f){case"bigint":++u;continue;case"boolean":++s;continue;case"number":++a;continue;case"string":++o;continue;case"object":Array.isArray(f)?++r:"[object Date]"===Object.prototype.toString.call(f)?++l:++i;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}++n}}catch(Lk){c.e(Lk)}finally{c.f()}if(a+n===e.length)return new em;if(o+n===e.length)return new bm(new nm,new Yv);if(u+n===e.length)return new $v;if(s+n===e.length)return new rm;if(l+n===e.length)return new om;if(r+n===e.length){var d=e,h=iw(d[d.findIndex((function(e){return null!=e}))]);if(d.every((function(e){return null==e||(t=h,n=iw(e),ew.visit(t,n));var t,n})))return new cm(new kg("",h,!0))}else if(i+n===e.length){var p,v=new Map,m=Qr(e);try{for(m.s();!(p=m.n()).done;)for(var y=p.value,b=0,g=Object.keys(y);b<g.length;b++){var _=g[b];v.has(_)||null==y[_]||v.set(_,new kg(_,iw([y[_]]),!0))}}catch(Lk){m.e(Lk)}finally{m.f()}return new fm(be(v.values()))}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected")}function aw(e,t){return function(e,t){var n,r=be(e.fields),i=[],a={numBatches:t.reduce((function(e,t){return Math.max(e,t.length)}),0)},o=0,u=0,s=-1,l=t.length,c=[];for(;a.numBatches-- >0;){for(u=Number.POSITIVE_INFINITY,s=-1;++s<l;)c[s]=n=t[s].shift(),u=Math.min(u,n?n.length:u);Number.isFinite(u)&&(c=ow(r,u,c,t,a),u>0&&(i[o++]=Gy({type:new fm(r),length:u,nullCount:0,children:c.slice()})))}return[e=e.assign(r),i.map((function(t){return new lw(e,t)}))]}(e,t.map((function(e){return e.data.concat()})))}function ow(e,t,n,r,i){for(var a,o=(t+63&-64)>>3,u=-1,s=r.length;++u<s;){var l=n[u],c=null===l||void 0===l?void 0:l.length;if(c>=t)c===t?n[u]=l:(n[u]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[u].unshift(l.slice(t,c-t))));else{var f=e[u];e[u]=f.clone({nullable:!0}),n[u]=null!==(a=null===l||void 0===l?void 0:l._changeLengthAndBackfillNullBitmap(t))&&void 0!==a?a:Gy({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var uw,sw=function(e){function t(){var e,n,r,i;b(this,t);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(0===o.length)return this.batches=[],this.schema=new xg([]),this._offsets=[0],this;o[0]instanceof xg&&(r=o.shift()),o[o.length-1]instanceof Uint32Array&&(i=o.pop());var s=function e(n){if(n){if(n instanceof lw)return[n];if(n instanceof t)return n.batches;if(n instanceof Yy){if(n.type instanceof fm)return[new lw(new xg(n.type.children),n)]}else{if(Array.isArray(n))return n.flatMap((function(t){return e(t)}));if("function"===typeof n[Symbol.iterator])return be(n).flatMap((function(t){return e(t)}));if("object"===typeof n){var r=Object.keys(n),i=r.map((function(e){return new _b([n[e]])})),a=new xg(r.map((function(e,t){return new kg(String(e),i[t].type)}))),o=l(aw(a,i),2)[1];return 0===o.length?[new lw(n)]:o}}}return[]},c=o.flatMap((function(e){return s(e)}));if(!((r=null!==(n=null!==r&&void 0!==r?r:null===(e=c[0])||void 0===e?void 0:e.schema)&&void 0!==n?n:new xg([]))instanceof xg))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");var f,d=Qr(c);try{for(d.s();!(f=d.n()).done;){var h=f.value;if(!(h instanceof lw))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!tw(r,h.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}}catch(Lk){d.e(Lk)}finally{d.f()}this.schema=r,this.batches=c,this._offsets=null!==i&&void 0!==i?i:Qy(this.data)}return _(t,[{key:"data",get:function(){return this.batches.map((function(e){return e.data}))}},{key:"numCols",get:function(){return this.schema.fields.length}},{key:"numRows",get:function(){return this.data.reduce((function(e,t){return e+t.length}),0)}},{key:"nullCount",get:function(){return-1===this._nullCount&&(this._nullCount=Xy(this.data)),this._nullCount}},{key:"isValid",value:function(e){return!1}},{key:"get",value:function(e){return null}},{key:"set",value:function(e,t){}},{key:"indexOf",value:function(e,t){return-1}},{key:"getByteLength",value:function(e){return 0}},{key:Symbol.iterator,value:function(){return this.batches.length>0?fb.visit(new _b(this.data)):new Array(0)[Symbol.iterator]()}},{key:"toArray",value:function(){return be(this)}},{key:"toString",value:function(){return"[\n  ".concat(this.toArray().join(",\n  "),"\n]")}},{key:"concat",value:function(){for(var e=this.schema,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=this.data.concat(r.flatMap((function(e){return e.data})));return new t(e,a.map((function(t){return new lw(e,t)})))}},{key:"slice",value:function(e,n){var r=this.schema,i=l(Ny({length:this.numRows},e,n),2);e=i[0],n=i[1];var a=Ky(this.data,this._offsets,e,n);return new t(r,a.map((function(e){return new lw(r,e)})))}},{key:"getChild",value:function(e){return this.getChildAt(this.schema.fields.findIndex((function(t){return t.name===e})))}},{key:"getChildAt",value:function(e){if(e>-1&&e<this.schema.fields.length){var t=this.data.map((function(t){return t.children[e]}));if(0===t.length){var n=Gy({type:this.schema.fields[e].type,length:0,nullCount:0});t.push(n._changeLengthAndBackfillNullBitmap(this.numRows))}return new _b(t)}return null}},{key:"setChild",value:function(e,t){var n;return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((function(t){return t.name===e})),t)}},{key:"setChildAt",value:function(e,n){var r=this,i=this.schema,a=be(this.batches);if(e>-1&&e<this.numCols){n||(n=new _b([Gy({type:new Uv,length:this.numRows})]));var o=i.fields.slice(),u=o[e].clone({type:n.type}),s=this.schema.fields.map((function(e,t){return r.getChildAt(t)})),c=[u,n];o[e]=c[0],s[e]=c[1];var f=l(aw(i,s),2);i=f[0],a=f[1]}return new t(i,a)}},{key:"select",value:function(e){var t=this.schema.fields.reduce((function(e,t,n){return e.set(t.name,n)}),new Map);return this.selectAt(e.map((function(e){return t.get(e)})).filter((function(e){return e>-1})))}},{key:"selectAt",value:function(e){return new t(this.schema.selectAt(e),this.batches.map((function(t){return t.selectAt(e)})))}},{key:"assign",value:function(e){var n=this,r=this.schema.fields,i=e.schema.fields.reduce((function(e,t,n){var i=l(e,2),a=i[0],o=i[1],u=r.findIndex((function(e){return e.name===t.name}));return~u?o[u]=n:a.push(n),e}),[[],[]]),a=l(i,2),o=a[0],u=a[1],s=this.schema.assign(e.schema),c=[].concat(be(r.map((function(e,t){return[t,u[t]]})).map((function(t){var r=l(t,2),i=r[0],a=r[1];return void 0===a?n.getChildAt(i):e.getChildAt(a)}))),be(o.map((function(t){return e.getChildAt(t)})))).filter(Boolean);return Zr(t,be(aw(s,c)))}}]),t}();J_=Symbol.toStringTag,sw[J_]=function(e){return e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=tb(eb),e.get=tb(Cy.getVisitFn(iv.Struct)),e.set=nb(ty.getVisitFn(iv.Struct)),e.indexOf=rb(ub.getVisitFn(iv.Struct)),e.getByteLength=tb(yb.getVisitFn(iv.Struct)),"Table"}(sw.prototype);var lw=function(e){function t(){b(this,t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];switch(n.length){case 2:if(this.schema=n[0],!(this.schema instanceof xg))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");var i=n[1];if(this.data=void 0===i?Gy({nullCount:0,type:new fm(this.schema.fields),children:this.schema.fields.map((function(e){return Gy({type:e.type,nullCount:0})}))}):i,!(this.data instanceof Yy))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");var a=cw(this.schema,this.data.children),o=l(a,2);this.schema=o[0],this.data=o[1];break;case 1:var u=n[0],s=Object.keys(u).reduce((function(e,t,n){return e.children[n]=u[t],e.length=Math.max(e.length,u[t].length),e.fields[n]=kg.new({name:t,type:u[t].type,nullable:!0}),e}),{length:0,fields:new Array,children:new Array}),c=s.fields,f=s.children,d=s.length,h=new xg(c),p=Gy({type:new fm(c),length:d,children:f,nullCount:0}),v=cw(h,p.children,d),m=l(v,2);this.schema=m[0],this.data=m[1];break;default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}return _(t,[{key:"dictionaries",get:function(){return this._dictionaries||(this._dictionaries=fw(this.schema.fields,this.data.children))}},{key:"numCols",get:function(){return this.schema.fields.length}},{key:"numRows",get:function(){return this.data.length}},{key:"nullCount",get:function(){return this.data.nullCount}},{key:"isValid",value:function(e){return this.data.getValid(e)}},{key:"get",value:function(e){return Cy.visit(this.data,e)}},{key:"set",value:function(e,t){return ty.visit(this.data,e,t)}},{key:"indexOf",value:function(e,t){return ub.visit(this.data,e,t)}},{key:"getByteLength",value:function(e){return yb.visit(this.data,e)}},{key:Symbol.iterator,value:function(){return fb.visit(new _b([this.data]))}},{key:"toArray",value:function(){return be(this)}},{key:"concat",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sw(this.schema,[this].concat(t))}},{key:"slice",value:function(e,n){var r=l(new _b([this.data]).slice(e,n).data,1)[0];return new t(this.schema,r)}},{key:"getChild",value:function(e){var t;return this.getChildAt(null===(t=this.schema.fields)||void 0===t?void 0:t.findIndex((function(t){return t.name===e})))}},{key:"getChildAt",value:function(e){return e>-1&&e<this.schema.fields.length?new _b([this.data.children[e]]):null}},{key:"setChild",value:function(e,t){var n;return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((function(t){return t.name===e})),t)}},{key:"setChildAt",value:function(e,n){var r=this.schema,i=this.data;if(e>-1&&e<this.numCols){n||(n=new _b([Gy({type:new Uv,length:this.numRows})]));var a=r.fields.slice(),o=i.children.slice(),u=[a[e].clone({type:n.type}),n.data[0]];a[e]=u[0],o[e]=u[1],r=new xg(a,new Map(this.schema.metadata)),i=Gy({type:new fm(a),children:o})}return new t(r,i)}},{key:"select",value:function(e){var n,r=this,i=this.schema.select(e),a=new fm(i.fields),o=[],u=Qr(e);try{var s=function(){var e=n.value,t=r.schema.fields.findIndex((function(t){return t.name===e}));~t&&(o[t]=r.data.children[t])};for(u.s();!(n=u.n()).done;)s()}catch(Lk){u.e(Lk)}finally{u.f()}return new t(i,Gy({type:a,length:this.numRows,children:o}))}},{key:"selectAt",value:function(e){var n=this,r=this.schema.selectAt(e),i=e.map((function(e){return n.data.children[e]})).filter(Boolean);return new t(r,Gy({type:new fm(r.fields),length:this.numRows,children:i}))}}]),t}();function cw(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.reduce((function(e,t){return Math.max(e,t.length)}),0),a=be(e.fields),o=be(t),u=(i+63&-64)>>3,s=Qr(e.fields.entries());try{for(s.s();!(r=s.n()).done;){var c=l(r.value,2),f=c[0],d=c[1],h=t[f];h&&h.length===i||(a[f]=d.clone({nullable:!0}),o[f]=null!==(n=null===h||void 0===h?void 0:h._changeLengthAndBackfillNullBitmap(i))&&void 0!==n?n:Gy({type:d.type,length:i,nullCount:i,nullBitmap:new Uint8Array(u)}))}}catch(Lk){s.e(Lk)}finally{s.f()}return[e.assign(a),Gy({type:new fm(a),length:i,children:o})]}function fw(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=-1,i=e.length;++r<i;){var a=e[r],o=a.type,u=t[r];if(Vv.isDictionary(o))if(n.has(o.id)){if(n.get(o.id)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else u.dictionary&&n.set(o.id,u.dictionary);o.children&&o.children.length>0&&fw(o.children,u.children,n)}return n}uw=Symbol.toStringTag,lw[uw]=function(e){return e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"}(lw.prototype);var dw,hw,pw,vw,mw=function(e){x(n,e);var t=Gr(n);function n(e){b(this,n);var r=e.fields.map((function(e){return Gy({type:e.type})})),i=Gy({type:new fm(e.fields),nullCount:0,children:r});return t.call(this,e,i)}return _(n)}(lw);(hw=dw||(dw={}))[hw.BUFFER=0]="BUFFER",(vw=pw||(pw={}))[vw.LZ4_FRAME=0]="LZ4_FRAME",vw[vw.ZSTD=1]="ZSTD";var yw,bw=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"codec",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):pw.LZ4_FRAME}},{key:"method",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):dw.BUFFER}}],[{key:"getRootAsBodyCompression",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsBodyCompression",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startBodyCompression",value:function(e){e.startObject(2)}},{key:"addCodec",value:function(e,t){e.addFieldInt8(0,t,pw.LZ4_FRAME)}},{key:"addMethod",value:function(e,t){e.addFieldInt8(1,t,dw.BUFFER)}},{key:"endBodyCompression",value:function(e){return e.endObject()}},{key:"createBodyCompression",value:function(t,n,r){return e.startBodyCompression(t),e.addCodec(t,n),e.addMethod(t,r),e.endBodyCompression(t)}}]),e}(),gw=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"offset",value:function(){return this.bb.readInt64(this.bb_pos)}},{key:"length",value:function(){return this.bb.readInt64(this.bb_pos+8)}}],[{key:"sizeOf",value:function(){return 16}},{key:"createBuffer",value:function(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()}}]),e}(),_w=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"length",value:function(){return this.bb.readInt64(this.bb_pos)}},{key:"nullCount",value:function(){return this.bb.readInt64(this.bb_pos+8)}}],[{key:"sizeOf",value:function(){return 16}},{key:"createFieldNode",value:function(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()}}]),e}(),ww=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"length",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"nodes",value:function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new _w).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null}},{key:"nodesLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"buffers",value:function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new gw).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null}},{key:"buffersLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"compression",value:function(e){var t=this.bb.__offset(this.bb_pos,10);return t?(e||new bw).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}}],[{key:"getRootAsRecordBatch",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsRecordBatch",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startRecordBatch",value:function(e){e.startObject(4)}},{key:"addLength",value:function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}},{key:"addNodes",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"startNodesVector",value:function(e,t){e.startVector(16,t,8)}},{key:"addBuffers",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"startBuffersVector",value:function(e,t){e.startVector(16,t,8)}},{key:"addCompression",value:function(e,t){e.addFieldOffset(3,t,0)}},{key:"endRecordBatch",value:function(e){return e.endObject()}}]),e}(),xw=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"id",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"data",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new ww).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}},{key:"isDelta",value:function(){var e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}}],[{key:"getRootAsDictionaryBatch",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsDictionaryBatch",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startDictionaryBatch",value:function(e){e.startObject(3)}},{key:"addId",value:function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}},{key:"addData",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addIsDelta",value:function(e,t){e.addFieldInt8(2,+t,0)}},{key:"endDictionaryBatch",value:function(e){return e.endObject()}}]),e}();!function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"}(yw||(yw={}));var kw=function(){function e(){b(this,e),this.bb=null,this.bb_pos=0}return _(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"version",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Vb.V1}},{key:"headerType",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):yw.NONE}},{key:"header",value:function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}},{key:"bodyLength",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"customMetadata",value:function(e,t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new Gb).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}},{key:"customMetadataLength",value:function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsMessage",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsMessage",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startMessage",value:function(e){e.startObject(5)}},{key:"addVersion",value:function(e,t){e.addFieldInt16(0,t,Vb.V1)}},{key:"addHeaderType",value:function(e,t){e.addFieldInt8(1,t,yw.NONE)}},{key:"addHeader",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"addBodyLength",value:function(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}},{key:"addCustomMetadata",value:function(e,t){e.addFieldOffset(4,t,0)}},{key:"createCustomMetadataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startCustomMetadataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endMessage",value:function(e){return e.endObject()}},{key:"finishMessageBuffer",value:function(e,t){e.finish(t)}},{key:"finishSizePrefixedMessageBuffer",value:function(e,t){e.finish(t,void 0,!0)}},{key:"createMessage",value:function(t,n,r,i,a,o){return e.startMessage(t),e.addVersion(t,n),e.addHeaderType(t,r),e.addHeader(t,i),e.addBodyLength(t,a),e.addCustomMetadata(t,o),e.endMessage(t)}}]),e}(),Sw=Rb,Ow=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"visit",value:function(e,t){return null==e||null==t?void 0:Bt(gt(n.prototype),"visit",this).call(this,e,t)}},{key:"visitNull",value:function(e,t){return dg.startNull(t),dg.endNull(t)}},{key:"visitInt",value:function(e,t){return Xb.startInt(t),Xb.addBitWidth(t,e.bitWidth),Xb.addIsSigned(t,e.isSigned),Xb.endInt(t)}},{key:"visitFloat",value:function(e,t){return ug.startFloatingPoint(t),ug.addPrecision(t,e.precision),ug.endFloatingPoint(t)}},{key:"visitBinary",value:function(e,t){return Kb.startBinary(t),Kb.endBinary(t)}},{key:"visitBool",value:function(e,t){return Jb.startBool(t),Jb.endBool(t)}},{key:"visitUtf8",value:function(e,t){return bg.startUtf8(t),bg.endUtf8(t)}},{key:"visitDecimal",value:function(e,t){return ng.startDecimal(t),ng.addScale(t,e.scale),ng.addPrecision(t,e.precision),ng.addBitWidth(t,e.bitWidth),ng.endDecimal(t)}},{key:"visitDate",value:function(e,t){return tg.startDate(t),tg.addUnit(t,e.unit),tg.endDate(t)}},{key:"visitTime",value:function(e,t){return pg.startTime(t),pg.addUnit(t,e.unit),pg.addBitWidth(t,e.bitWidth),pg.endTime(t)}},{key:"visitTimestamp",value:function(e,t){var n=e.timezone&&t.createString(e.timezone)||void 0;return vg.startTimestamp(t),vg.addUnit(t,e.unit),void 0!==n&&vg.addTimezone(t,n),vg.endTimestamp(t)}},{key:"visitInterval",value:function(e,t){return lg.startInterval(t),lg.addUnit(t,e.unit),lg.endInterval(t)}},{key:"visitList",value:function(e,t){return cg.startList(t),cg.endList(t)}},{key:"visitStruct",value:function(e,t){return hg.startStruct_(t),hg.endStruct_(t)}},{key:"visitUnion",value:function(e,t){yg.startTypeIdsVector(t,e.typeIds.length);var n=yg.createTypeIdsVector(t,e.typeIds);return yg.startUnion(t),yg.addMode(t,e.mode),yg.addTypeIds(t,n),yg.endUnion(t)}},{key:"visitDictionary",value:function(e,t){var n=this.visit(e.indices,t);return Qb.startDictionaryEncoding(t),Qb.addId(t,new Sw(e.id,0)),Qb.addIsOrdered(t,e.isOrdered),void 0!==n&&Qb.addIndexType(t,n),Qb.endDictionaryEncoding(t)}},{key:"visitFixedSizeBinary",value:function(e,t){return ig.startFixedSizeBinary(t),ig.addByteWidth(t,e.byteWidth),ig.endFixedSizeBinary(t)}},{key:"visitFixedSizeList",value:function(e,t){return ag.startFixedSizeList(t),ag.addListSize(t,e.listSize),ag.endFixedSizeList(t)}},{key:"visitMap",value:function(e,t){return fg.startMap(t),fg.addKeysSorted(t,e.keysSorted),fg.endMap(t)}}]),n}(_m),Aw=new Ow;function Ew(e){return new Bw(e.count,Tw(e.columns),Mw(e.columns))}function Iw(e,t){return(e.fields||[]).filter(Boolean).map((function(e){return kg.fromJSON(e,t)}))}function Cw(e,t){return(e.children||[]).filter(Boolean).map((function(e){return kg.fromJSON(e,t)}))}function Tw(e){return(e||[]).reduce((function(e,t){return[].concat(be(e),[new Uw(t.count,(n=t.VALIDITY,(n||[]).reduce((function(e,t){return e+ +(0===t)}),0)))],be(Tw(t.children)));var n}),[])}function Mw(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=-1,r=(e||[]).length;++n<r;){var i=e[n];i.VALIDITY&&t.push(new Vw(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new Vw(t.length,i.TYPE.length)),i.OFFSET&&t.push(new Vw(t.length,i.OFFSET.length)),i.DATA&&t.push(new Vw(t.length,i.DATA.length)),t=Mw(i.children,t)}return t}function Dw(e){return new Map(Object.entries(e||{}))}function jw(e){return new Hv(e.isSigned,e.bitWidth)}function zw(e,t){var n=e.type.name;switch(n){case"NONE":case"null":return new Uv;case"binary":return new tm;case"utf8":return new nm;case"bool":return new rm;case"list":return new cm((t||[])[0]);case"struct":case"struct_":return new fm(t||[])}switch(n){case"int":var r=e.type;return new Hv(r.isSigned,r.bitWidth);case"floatingpoint":var i=e.type;return new Kv(Gp[i.precision]);case"decimal":var a=e.type;return new im(a.scale,a.precision,a.bitWidth);case"date":var o=e.type;return new am(Xp[o.unit]);case"time":var u=e.type;return new um(Kp[u.unit],u.bitWidth);case"timestamp":var s=e.type;return new sm(Kp[s.unit],s.timezone);case"interval":var l=e.type;return new lm(ev[l.unit]);case"union":var c=e.type;return new dm(Yp[c.mode],c.typeIds||[],t||[]);case"fixedsizebinary":var f=e.type;return new hm(f.byteWidth);case"fixedsizelist":var d=e.type;return new pm(d.listSize,(t||[])[0]);case"map":var h=e.type;return new vm((t||[])[0],h.keysSorted)}throw new Error('Unrecognized type: "'.concat(n,'"'))}var Nw=Rb,Pw=$b,Fw=Yb,Lw=function(){function e(t,n,r,i){b(this,e),this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=function(){return i}),this._bodyLength="number"===typeof t?t:t.low}return _(e,[{key:"type",get:function(){return this.headerType}},{key:"version",get:function(){return this._version}},{key:"headerType",get:function(){return this._headerType}},{key:"bodyLength",get:function(){return this._bodyLength}},{key:"header",value:function(){return this._createHeader()}},{key:"isSchema",value:function(){return this.headerType===nv.Schema}},{key:"isRecordBatch",value:function(){return this.headerType===nv.RecordBatch}},{key:"isDictionaryBatch",value:function(){return this.headerType===nv.DictionaryBatch}}],[{key:"fromJSON",value:function(t,n){var r=new e(0,Wp.V4,n);return r._createHeader=function(e,t){return function(){switch(t){case nv.Schema:return xg.fromJSON(e);case nv.RecordBatch:return Bw.fromJSON(e);case nv.DictionaryBatch:return Rw.fromJSON(e)}throw new Error("Unrecognized Message type: { name: ".concat(nv[t],", type: ").concat(t," }"))}}(t,n),r}},{key:"decode",value:function(t){t=new Fw(Mp(t));var n=kw.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),a=n.headerType(),o=new e(r,i,a);return o._createHeader=function(e,t){return function(){switch(t){case nv.Schema:return xg.decode(e.header(new _g));case nv.RecordBatch:return Bw.decode(e.header(new ww),e.version());case nv.DictionaryBatch:return Rw.decode(e.header(new xw),e.version())}throw new Error("Unrecognized Message type: { name: ".concat(nv[t],", type: ").concat(t," }"))}}(n,a),o}},{key:"encode",value:function(e){var t=new Pw,n=-1;return e.isSchema()?n=xg.encode(t,e.header()):e.isRecordBatch()?n=Bw.encode(t,e.header()):e.isDictionaryBatch()&&(n=Rw.encode(t,e.header())),kw.startMessage(t),kw.addVersion(t,Wp.V4),kw.addHeader(t,n),kw.addHeaderType(t,e.headerType),kw.addBodyLength(t,new Nw(e.bodyLength,0)),kw.finishMessageBuffer(t,kw.endMessage(t)),t.asUint8Array()}},{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t instanceof xg)return new e(0,Wp.V4,nv.Schema,t);if(t instanceof Bw)return new e(n,Wp.V4,nv.RecordBatch,t);if(t instanceof Rw)return new e(n,Wp.V4,nv.DictionaryBatch,t);throw new Error("Unrecognized Message header: ".concat(t))}}]),e}(),Bw=function(){function e(t,n,r){b(this,e),this._nodes=n,this._buffers=r,this._length="number"===typeof t?t:t.low}return _(e,[{key:"nodes",get:function(){return this._nodes}},{key:"length",get:function(){return this._length}},{key:"buffers",get:function(){return this._buffers}}]),e}(),Rw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];b(this,e),this._data=t,this._isDelta=r,this._id="number"===typeof n?n:n.low}return _(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"isDelta",get:function(){return this._isDelta}},{key:"length",get:function(){return this.data.length}},{key:"nodes",get:function(){return this.data.nodes}},{key:"buffers",get:function(){return this.data.buffers}}]),e}(),Vw=_((function e(t,n){b(this,e),this.offset="number"===typeof t?t:t.low,this.length="number"===typeof n?n:n.low})),Uw=_((function e(t,n){b(this,e),this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof n?n:n.low}));function Hw(e){for(var t,n=[],r=-1,i=-1,a=e.nodesLength();++r<a;)(t=e.nodes(r))&&(n[++i]=Uw.decode(t));return n}function Ww(e,t){for(var n,r=[],i=-1,a=-1,o=e.buffersLength();++i<o;)(n=e.buffers(i))&&(t<Wp.V4&&(n.bb_pos+=8*(i+1)),r[++a]=Vw.decode(n));return r}function Zw(e,t){for(var n,r=[],i=-1,a=-1,o=e.fieldsLength();++i<o;)(n=e.fields(i))&&(r[++a]=kg.decode(n,t));return r}function Yw(e,t){for(var n,r=[],i=-1,a=-1,o=e.childrenLength();++i<o;)(n=e.children(i))&&(r[++a]=kg.decode(n,t));return r}function $w(e){var t=new Map;if(e)for(var n,r,i=-1,a=Math.trunc(e.customMetadataLength());++i<a;)(n=e.customMetadata(i))&&null!=(r=n.key())&&t.set(r,n.value());return t}function Gw(e){return new Hv(e.isSigned(),e.bitWidth())}function qw(e,t){var n=e.typeType();switch(n){case mg.NONE:case mg.Null:return new Uv;case mg.Binary:return new tm;case mg.Utf8:return new nm;case mg.Bool:return new rm;case mg.List:return new cm((t||[])[0]);case mg.Struct_:return new fm(t||[])}switch(n){case mg.Int:var r=e.type(new Xb);return new Hv(r.isSigned(),r.bitWidth());case mg.FloatingPoint:var i=e.type(new ug);return new Kv(i.precision());case mg.Decimal:var a=e.type(new ng);return new im(a.scale(),a.precision(),a.bitWidth());case mg.Date:var o=e.type(new tg);return new am(o.unit());case mg.Time:var u=e.type(new pg);return new um(u.unit(),u.bitWidth());case mg.Timestamp:var s=e.type(new vg);return new sm(s.unit(),s.timezone());case mg.Interval:var l=e.type(new lg);return new lm(l.unit());case mg.Union:var c=e.type(new yg);return new dm(c.mode(),c.typeIdsArray()||[],t||[]);case mg.FixedSizeBinary:var f=e.type(new ig);return new hm(f.byteWidth());case mg.FixedSizeList:var d=e.type(new ag);return new pm(d.listSize(),(t||[])[0]);case mg.Map:var h=e.type(new fg);return new vm((t||[])[0],h.keysSorted())}throw new Error('Unrecognized type: "'.concat(mg[n],'" (').concat(n,")"))}kg.encode=function(e,t){var n=-1,r=-1,i=-1,a=t.type,o=t.typeId;Vv.isDictionary(a)?(o=a.dictionary.typeId,i=Aw.visit(a,e),r=Aw.visit(a.dictionary,e)):r=Aw.visit(a,e);var u=(a.children||[]).map((function(t){return kg.encode(e,t)})),s=gg.createChildrenVector(e,u),c=t.metadata&&t.metadata.size>0?gg.createCustomMetadataVector(e,be(t.metadata).map((function(t){var n=l(t,2),r=n[0],i=n[1],a=e.createString("".concat(r)),o=e.createString("".concat(i));return Gb.startKeyValue(e),Gb.addKey(e,a),Gb.addValue(e,o),Gb.endKeyValue(e)}))):-1;t.name&&(n=e.createString(t.name));gg.startField(e),gg.addType(e,r),gg.addTypeType(e,o),gg.addChildren(e,s),gg.addNullable(e,!!t.nullable),-1!==n&&gg.addName(e,n);-1!==i&&gg.addDictionary(e,i);-1!==c&&gg.addCustomMetadata(e,c);return gg.endField(e)},kg.decode=function(e,t){var n,r,i,a,o,u;t&&(u=e.dictionary())?t.has(n=u.id().low)?(a=(a=u.indexType())?Gw(a):new Yv,o=new bm(t.get(n),a,n,u.isOrdered()),r=new kg(e.name(),o,e.nullable(),$w(e))):(a=(a=u.indexType())?Gw(a):new Yv,t.set(n,i=qw(e,Yw(e,t))),o=new bm(i,a,n,u.isOrdered()),r=new kg(e.name(),o,e.nullable(),$w(e))):(i=qw(e,Yw(e,t)),r=new kg(e.name(),i,e.nullable(),$w(e)));return r||null},kg.fromJSON=function(e,t){var n,r,i,a,o,u;return t&&(a=e.dictionary)?t.has(n=a.id)?(r=(r=a.indexType)?jw(r):new Yv,u=new bm(t.get(n),r,n,a.isOrdered),i=new kg(e.name,u,e.nullable,Dw(e.customMetadata))):(r=(r=a.indexType)?jw(r):new Yv,t.set(n,o=zw(e,Cw(e,t))),u=new bm(o,r,n,a.isOrdered),i=new kg(e.name,u,e.nullable,Dw(e.customMetadata))):(o=zw(e,Cw(e,t)),i=new kg(e.name,o,e.nullable,Dw(e.customMetadata))),i||null},xg.encode=function(e,t){var n=t.fields.map((function(t){return kg.encode(e,t)}));_g.startFieldsVector(e,n.length);var r=_g.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?_g.createCustomMetadataVector(e,be(t.metadata).map((function(t){var n=l(t,2),r=n[0],i=n[1],a=e.createString("".concat(r)),o=e.createString("".concat(i));return Gb.startKeyValue(e),Gb.addKey(e,a),Gb.addValue(e,o),Gb.endKeyValue(e)}))):-1;_g.startSchema(e),_g.addFields(e,r),_g.addEndianness(e,Xw?Ub.Little:Ub.Big),-1!==i&&_g.addCustomMetadata(e,i);return _g.endSchema(e)},xg.decode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=Zw(e,t);return new xg(n,$w(e),t)},xg.fromJSON=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new xg(Iw(e,t),Dw(e.customMetadata),t)},Bw.encode=function(e,t){var n=t.nodes||[],r=t.buffers||[];ww.startNodesVector(e,n.length);var i,a=Qr(n.slice().reverse());try{for(a.s();!(i=a.n()).done;){var o=i.value;Uw.encode(e,o)}}catch(Lk){a.e(Lk)}finally{a.f()}var u=e.endVector();ww.startBuffersVector(e,r.length);var s,l=Qr(r.slice().reverse());try{for(l.s();!(s=l.n()).done;){var c=s.value;Vw.encode(e,c)}}catch(Lk){l.e(Lk)}finally{l.f()}var f=e.endVector();return ww.startRecordBatch(e),ww.addLength(e,new Nw(t.length,0)),ww.addNodes(e,u),ww.addBuffers(e,f),ww.endRecordBatch(e)},Bw.decode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wp.V4;if(null!==e.compression())throw new Error("Record batch compression not implemented");return new Bw(e.length(),Hw(e),Ww(e,t))},Bw.fromJSON=Ew,Rw.encode=function(e,t){var n=Bw.encode(e,t.data);return xw.startDictionaryBatch(e),xw.addId(e,new Nw(t.id,0)),xw.addIsDelta(e,t.isDelta),xw.addData(e,n),xw.endDictionaryBatch(e)},Rw.decode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wp.V4;return new Rw(Bw.decode(e.data(),t),e.id(),e.isDelta())},Rw.fromJSON=function(e){return new Rw(Ew(e.data),e.id,e.isDelta)},Uw.encode=function(e,t){return _w.createFieldNode(e,new Nw(t.length,0),new Nw(t.nullCount,0))},Uw.decode=function(e){return new Uw(e.length(),e.nullCount())},Vw.encode=function(e,t){return gw.createBuffer(e,new Nw(t.offset,0),new Nw(t.length,0))},Vw.decode=function(e){return new Vw(e.offset(),e.length())};for(var Xw=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}(),Qw=function(e){return"Expected ".concat(nv[e]," Message in stream, but was null or length 0.")},Kw=function(e){return"Header pointer of flatbuffer-encoded ".concat(nv[e]," Message is null or length 0.")},Jw=function(e,t){return"Expected to read ".concat(e," metadata bytes, but only read ").concat(t,".")},ex=function(e,t){return"Expected to read ".concat(e," bytes for message body, but only read ").concat(t,".")},tx=function(e){function t(e){b(this,t),this.source=e instanceof Fg?e:new Fg(e)}return _(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e;return(e=this.readMetadataLength()).done||-1===e.value&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?Dg:e}},{key:"throw",value:function(e){return this.source.throw(e)}},{key:"return",value:function(e){return this.source.return(e)}},{key:"readMessage",value:function(e){var t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(Qw(e));return t.value}},{key:"readMessageBody",value:function(e){if(e<=0)return new Uint8Array(0);var t=Mp(this.source.read(e));if(t.byteLength<e)throw new Error(ex(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}},{key:"readSchema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=nv.Schema,n=this.readMessage(t),r=null===n||void 0===n?void 0:n.header();if(e&&!r)throw new Error(Kw(t));return r}},{key:"readMetadataLength",value:function(){var e=this.source.read(ix),t=e&&new Yb(e),n=(null===t||void 0===t?void 0:t.readInt32(0))||0;return{done:0===n,value:n}}},{key:"readMetadata",value:function(e){var t=this.source.read(e);if(!t)return Dg;if(t.byteLength<e)throw new Error(Jw(e,t.byteLength));return{done:!1,value:Lw.decode(t)}}}]),t}(),nx=function(e){function t(e,n){b(this,t),this.source=e instanceof Lg?e:wp(e)?new Ug(e,n):new Lg(e)}return _(t,[{key:Symbol.asyncIterator,value:function(){return this}},{key:"next",value:function(){return Kh(this,void 0,void 0,Xr().mark((function e(){var t;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readMetadataLength();case 2:if(!(t=e.sent).done){e.next=4;break}return e.abrupt("return",Dg);case 4:if(e.t0=-1===t.value,!e.t0){e.next=9;break}return e.next=8,this.readMetadataLength();case 8:e.t0=(t=e.sent).done;case 9:if(!e.t0){e.next=11;break}return e.abrupt("return",Dg);case 11:return e.next=13,this.readMetadata(t.value);case 13:if(!(t=e.sent).done){e.next=15;break}return e.abrupt("return",Dg);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,this)})))}},{key:"throw",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.source.throw(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"return",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.source.return(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"readMessage",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next();case 2:if(!(n=t.sent).done){t.next=4;break}return t.abrupt("return",null);case 4:if(null==e||n.value.headerType===e){t.next=6;break}throw new Error(Qw(e));case 6:return t.abrupt("return",n.value);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"readMessageBody",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e<=0)){t.next=2;break}return t.abrupt("return",new Uint8Array(0));case 2:return t.t0=Mp,t.next=5,this.source.read(e);case 5:if(t.t1=t.sent,!((n=(0,t.t0)(t.t1)).byteLength<e)){t.next=9;break}throw new Error(ex(e,n.byteLength));case 9:return t.abrupt("return",n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice());case 10:case"end":return t.stop()}}),t,this)})))}},{key:"readSchema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Kh(this,void 0,void 0,Xr().mark((function t(){var n,r,i;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=nv.Schema,t.next=3,this.readMessage(n);case 3:if(r=t.sent,i=null===r||void 0===r?void 0:r.header(),!e||i){t.next=7;break}throw new Error(Kw(n));case 7:return t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"readMetadataLength",value:function(){return Kh(this,void 0,void 0,Xr().mark((function e(){var t,n,r;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.source.read(ix);case 2:return t=e.sent,n=t&&new Yb(t),r=(null===n||void 0===n?void 0:n.readInt32(0))||0,e.abrupt("return",{done:0===r,value:r});case 6:case"end":return e.stop()}}),e,this)})))}},{key:"readMetadata",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.source.read(e);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",Dg);case 5:if(!(n.byteLength<e)){t.next=7;break}throw new Error(Jw(e,n.byteLength));case 7:return t.abrupt("return",{done:!1,value:Lw.decode(n)});case 8:case"end":return t.stop()}}),t,this)})))}}]),t}(),rx=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this,new Uint8Array(0)))._schema=!1,r._body=[],r._batchIndex=0,r._dictionaryIndex=0,r._json=e instanceof jg?e:new jg(e),r}return _(n,[{key:"next",value:function(){var e=this._json;if(!this._schema)return this._schema=!0,{done:!1,value:Lw.fromJSON(e.schema,nv.Schema)};if(this._dictionaryIndex<e.dictionaries.length){var t=e.dictionaries[this._dictionaryIndex++];return this._body=t.data.columns,{done:!1,value:Lw.fromJSON(t,nv.DictionaryBatch)}}if(this._batchIndex<e.batches.length){var n=e.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:Lw.fromJSON(n,nv.RecordBatch)}}return this._body=[],Dg}},{key:"readMessageBody",value:function(e){return function e(t){return(t||[]).reduce((function(t,n){return[].concat(be(t),be(n.VALIDITY&&[n.VALIDITY]||[]),be(n.TYPE&&[n.TYPE]||[]),be(n.OFFSET&&[n.OFFSET]||[]),be(n.DATA&&[n.DATA]||[]),be(e(n.children)))}),[])}(this._body)}},{key:"readMessage",value:function(e){var t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(Qw(e));return t.value}},{key:"readSchema",value:function(){var e=nv.Schema,t=this.readMessage(e),n=null===t||void 0===t?void 0:t.header();if(!t||!n)throw new Error(Kw(e));return n}}]),n}(tx),ix=4,ax="ARROW1",ox=new Uint8Array(ax.length),ux=0;ux<ax.length;ux+=1)ox[ux]=ax.codePointAt(ux);function sx(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=ox.length;++n<r;)if(ox[n]!==e[t+n])return!1;return!0}var lx=ox.length,cx=lx+ix,fx=2*lx+ix,dx=function(e,t,n){x(a,e);var r=Gr(a);function a(e){var t;return b(this,a),(t=r.call(this))._impl=e,t}return _(a,[{key:"closed",get:function(){return this._impl.closed}},{key:"schema",get:function(){return this._impl.schema}},{key:"autoDestroy",get:function(){return this._impl.autoDestroy}},{key:"dictionaries",get:function(){return this._impl.dictionaries}},{key:"numDictionaries",get:function(){return this._impl.numDictionaries}},{key:"numRecordBatches",get:function(){return this._impl.numRecordBatches}},{key:"footer",get:function(){return this._impl.isFile()?this._impl.footer:null}},{key:"isSync",value:function(){return this._impl.isSync()}},{key:"isAsync",value:function(){return this._impl.isAsync()}},{key:"isFile",value:function(){return this._impl.isFile()}},{key:"isStream",value:function(){return this._impl.isStream()}},{key:"next",value:function(){return this._impl.next()}},{key:"throw",value:function(e){return this._impl.throw(e)}},{key:"return",value:function(e){return this._impl.return(e)}},{key:"cancel",value:function(){return this._impl.cancel()}},{key:"reset",value:function(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}},{key:"open",value:function(e){var t=this,n=this._impl.open(e);return mp(n)?n.then((function(){return t})):this}},{key:"readRecordBatch",value:function(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}},{key:t,value:function(){return this._impl[Symbol.iterator]()}},{key:n,value:function(){return this._impl[Symbol.asyncIterator]()}},{key:"toDOMStream",value:function(){var e=this;return Rp(this.isSync()?(0,i.Z)({},Symbol.iterator,(function(){return e})):(0,i.Z)({},Symbol.asyncIterator,(function(){return e})))}},{key:"toNodeStream",value:function(){var e=this;return Vp(this.isSync()?(0,i.Z)({},Symbol.iterator,(function(){return e})):(0,i.Z)({},Symbol.asyncIterator,(function(){return e})),{objectMode:!0})}}],[{key:"throughNode",value:function(e){throw new Error('"throughNode" not available in this environment')}},{key:"throughDOM",value:function(e,t){throw new Error('"throughDOM" not available in this environment')}},{key:"from",value:function(e){var t=this;return e instanceof a?e:gp(e)?function(e){return new hx(new xx(e))}(e):wp(e)?function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n,r,i;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.stat();case 2:if(n=t.sent,r=n.size,i=new Ug(e,r),t.t0=r>=fx,!t.t0){t.next=12;break}return t.t1=sx,t.next=10,i.readAt(0,lx+7&-8);case 10:t.t2=t.sent,t.t0=(0,t.t1)(t.t2);case 12:if(!t.t0){t.next=14;break}return t.abrupt("return",new mx(new wx(i)));case 14:return t.abrupt("return",new px(new gx(i)));case 15:case"end":return t.stop()}}),t)})))}(e):mp(e)?Kh(t,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,e;case 3:return t.t1=t.sent,t.next=6,t.t0.from.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))):xp(e)||Sp(e)||Op(e)||bp(e)?function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.peek(lx+7&-8);case 2:if(!((n=t.sent)&&n.byteLength>=4)){t.next=18;break}if(sx(n)){t.next=8;break}t.t1=new px(new gx(e)),t.next=15;break;case 8:return t.t2=vx,t.t3=_x,t.next=12,e.read();case 12:t.t4=t.sent,t.t5=new t.t3(t.t4),t.t1=new t.t2(t.t5);case 15:t.t0=t.t1,t.next=19;break;case 18:t.t0=new px(new gx(function(){return tp(this,arguments,Xr().mark((function e(){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}()));case 19:return t.abrupt("return",t.t0);case 20:case"end":return t.stop()}}),t)})))}(new Lg(e)):function(e){var t=e.peek(lx+7&-8);return t&&t.byteLength>=4?sx(t)?new vx(new _x(e.read())):new hx(new bx(e)):new hx(new bx(Xr().mark((function e(){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))()))}(new Fg(e))}},{key:"readAll",value:function(e){return e instanceof a?e.isSync()?Sx(e):Ox(e):gp(e)||ArrayBuffer.isView(e)||yp(e)||_p(e)?Sx(e):Ox(e)}}]),a}(zg,Symbol.iterator,Symbol.asyncIterator),hx=function(e,t,n){x(i,e);var r=Gr(i);function i(e){var t;return b(this,i),(t=r.call(this,e))._impl=e,t}return _(i,[{key:"readAll",value:function(){return be(this)}},{key:t,value:function(){return this._impl[Symbol.iterator]()}},{key:n,value:function(){return tp(this,arguments,Xr().mark((function e(){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ep,e.delegateYield(np(rp(this[Symbol.iterator]())),"t1",2);case 2:return e.t2=e.t1,e.next=5,(0,e.t0)(e.t2);case 5:case"end":return e.stop()}}),e,this)})))}}]),i}(dx,Symbol.iterator,Symbol.asyncIterator),px=function(e,t,n){x(i,e);var r=Gr(i);function i(e){var t;return b(this,i),(t=r.call(this,e))._impl=e,t}return _(i,[{key:"readAll",value:function(){var e,t;return Kh(this,void 0,void 0,Xr().mark((function n(){var r,i,a,o;return Xr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=new Array,n.prev=1,i=rp(this);case 3:return n.next=5,i.next();case 5:if((a=n.sent).done){n.next=11;break}o=a.value,r.push(o);case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),e={error:n.t0};case 16:if(n.prev=16,n.prev=17,!a||a.done||!(t=i.return)){n.next=21;break}return n.next=21,t.call(i);case 21:if(n.prev=21,!e){n.next=24;break}throw e.error;case 24:return n.finish(21);case 25:return n.finish(16);case 26:return n.abrupt("return",r);case 27:case"end":return n.stop()}}),n,this,[[1,13,16,26],[17,,21,25]])})))}},{key:t,value:function(){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}},{key:n,value:function(){return this._impl[Symbol.asyncIterator]()}}]),i}(dx,Symbol.iterator,Symbol.asyncIterator),vx=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._impl=e,r}return _(n)}(hx),mx=function(e){x(n,e);var t=Gr(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._impl=e,r}return _(n)}(px),yx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;b(this,e),this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}return _(e,[{key:"numDictionaries",get:function(){return this._dictionaryIndex}},{key:"numRecordBatches",get:function(){return this._recordBatchIndex}},{key:"isSync",value:function(){return!1}},{key:"isAsync",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isStream",value:function(){return!1}},{key:"reset",value:function(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}},{key:"_loadRecordBatch",value:function(e,t){var n=this._loadVectors(e,t,this.schema.fields),r=Gy({type:new fm(this.schema.fields),length:e.length,children:n});return new lw(this.schema,r)}},{key:"_loadDictionaryBatch",value:function(e,t){var n=e.id,r=e.isDelta,i=this.dictionaries,a=this.schema,o=i.get(n);if(r||!o){var u=a.dictionaries.get(n),s=this._loadVectors(e.data,t,[u]);return(o&&r?o.concat(new _b(s)):new _b(s)).memoize()}return o.memoize()}},{key:"_loadVectors",value:function(e,t,n){return new qg(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)}}]),e}(),bx=function(e,t){x(r,e);var n=Gr(r);function r(e,t){var i;return b(this,r),(i=n.call(this,t))._reader=gp(e)?new rx(i._handle=e):new tx(i._handle=e),i}return _(r,[{key:"isSync",value:function(){return!0}},{key:"isStream",value:function(){return!0}},{key:t,value:function(){return this}},{key:"cancel",value:function(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}},{key:"open",value:function(e){return this.closed||(this.autoDestroy=kx(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}},{key:"throw",value:function(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):Dg}},{key:"return",value:function(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):Dg}},{key:"next",value:function(){if(this.closed)return Dg;for(var e,t=this._reader;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;var n=e.header(),r=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,r)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;var i=e.header(),a=t.readMessageBody(e.bodyLength),o=this._loadDictionaryBatch(i,a);this.dictionaries.set(i.id,o)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new mw(this.schema)}):this.return()}},{key:"_readNextMessageAndValidate",value:function(e){return this._reader.readMessage(e)}}]),r}(yx,Symbol.iterator),gx=function(e,t){x(r,e);var n=Gr(r);function r(e,t){var i;return b(this,r),(i=n.call(this,t))._reader=new nx(i._handle=e),i}return _(r,[{key:"isAsync",value:function(){return!0}},{key:"isStream",value:function(){return!0}},{key:t,value:function(){return this}},{key:"cancel",value:function(){return Kh(this,void 0,void 0,Xr().mark((function e(){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.closed||!(this.closed=!0)){e.next=5;break}return e.next=3,this.reset()._reader.return();case 3:this._reader=null,this.dictionaries=null;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"open",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.closed){t.next=10;break}if(this.autoDestroy=kx(this,e),t.t0=this.schema,t.t0){t.next=7;break}return t.next=6,this._reader.readSchema();case 6:t.t0=this.schema=t.sent;case 7:if(t.t0){t.next=10;break}return t.next=10,this.cancel();case 10:return t.abrupt("return",this);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"throw",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.closed||!this.autoDestroy||!(this.closed=!0)){t.next=4;break}return t.next=3,this.reset()._reader.throw(e);case 3:return t.abrupt("return",t.sent);case 4:return t.abrupt("return",Dg);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"return",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.closed||!this.autoDestroy||!(this.closed=!0)){t.next=4;break}return t.next=3,this.reset()._reader.return(e);case 3:return t.abrupt("return",t.sent);case 4:return t.abrupt("return",Dg);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"next",value:function(){return Kh(this,void 0,void 0,Xr().mark((function e(){var t,n,r,i,a,o,u,s;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.closed){e.next=2;break}return e.abrupt("return",Dg);case 2:n=this._reader;case 3:return e.next=5,this._readNextMessageAndValidate();case 5:if(!(t=e.sent)){e.next=31;break}if(!t.isSchema()){e.next=11;break}return e.next=9,this.reset(t.header());case 9:e.next=29;break;case 11:if(!t.isRecordBatch()){e.next=21;break}return this._recordBatchIndex++,r=t.header(),e.next=16,n.readMessageBody(t.bodyLength);case 16:return i=e.sent,a=this._loadRecordBatch(r,i),e.abrupt("return",{done:!1,value:a});case 21:if(!t.isDictionaryBatch()){e.next=29;break}return this._dictionaryIndex++,o=t.header(),e.next=26,n.readMessageBody(t.bodyLength);case 26:u=e.sent,s=this._loadDictionaryBatch(o,u),this.dictionaries.set(o.id,s);case 29:e.next=3;break;case 31:if(!this.schema||0!==this._recordBatchIndex){e.next=34;break}return this._recordBatchIndex++,e.abrupt("return",{done:!1,value:new mw(this.schema)});case 34:return e.next=36,this.return();case 36:return e.abrupt("return",e.sent);case 37:case"end":return e.stop()}}),e,this)})))}},{key:"_readNextMessageAndValidate",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._reader.readMessage(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}}]),r}(yx,Symbol.asyncIterator),_x=function(e){x(n,e);var t=Gr(n);function n(e,r){return b(this,n),t.call(this,e instanceof Vg?e:new Vg(e),r)}return _(n,[{key:"footer",get:function(){return this._footer}},{key:"numDictionaries",get:function(){return this._footer?this._footer.numDictionaries:0}},{key:"numRecordBatches",get:function(){return this._footer?this._footer.numRecordBatches:0}},{key:"isSync",value:function(){return!0}},{key:"isFile",value:function(){return!0}},{key:"open",value:function(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;var t,r=Qr(this._footer.dictionaryBatches());try{for(r.s();!(t=r.n()).done;){t.value&&this._readDictionaryBatch(this._dictionaryIndex++)}}catch(Lk){r.e(Lk)}finally{r.f()}}return Bt(gt(n.prototype),"open",this).call(this,e)}},{key:"readRecordBatch",value:function(e){var t;if(this.closed)return null;this._footer||this.open();var n=null===(t=this._footer)||void 0===t?void 0:t.getRecordBatch(e);if(n&&this._handle.seek(n.offset)){var r=this._reader.readMessage(nv.RecordBatch);if(null===r||void 0===r?void 0:r.isRecordBatch()){var i=r.header(),a=this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(i,a)}}return null}},{key:"_readDictionaryBatch",value:function(e){var t,n=null===(t=this._footer)||void 0===t?void 0:t.getDictionaryBatch(e);if(n&&this._handle.seek(n.offset)){var r=this._reader.readMessage(nv.DictionaryBatch);if(null===r||void 0===r?void 0:r.isDictionaryBatch()){var i=r.header(),a=this._reader.readMessageBody(r.bodyLength),o=this._loadDictionaryBatch(i,a);this.dictionaries.set(i.id,o)}}}},{key:"_readFooter",value:function(){var e=this._handle,t=e.size-cx,n=e.readInt32(t),r=e.readAt(t-n,n);return Cg.decode(r)}},{key:"_readNextMessageAndValidate",value:function(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){var n=null===(t=this._footer)||void 0===t?void 0:t.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(e)}return null}}]),n}(bx),wx=function(e){x(n,e);var t=Gr(n);function n(e){b(this,n);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o="number"!==typeof i[0]?i.shift():void 0,u=i[0]instanceof Map?i.shift():void 0;return t.call(this,e instanceof Ug?e:new Ug(e,o),u)}return _(n,[{key:"footer",get:function(){return this._footer}},{key:"numDictionaries",get:function(){return this._footer?this._footer.numDictionaries:0}},{key:"numRecordBatches",get:function(){return this._footer?this._footer.numRecordBatches:0}},{key:"isFile",value:function(){return!0}},{key:"isAsync",value:function(){return!0}},{key:"open",value:function(e){var t=this,r=Object.create(null,{open:{get:function(){return Bt(gt(n.prototype),"open",t)}}});return Kh(this,void 0,void 0,Xr().mark((function t(){var n,i,a;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.closed||this._footer){t.next=23;break}return t.next=3,this._readFooter();case 3:this.schema=(this._footer=t.sent).schema,n=Qr(this._footer.dictionaryBatches()),t.prev=5,n.s();case 7:if((i=n.n()).done){t.next=15;break}if(a=i.value,t.t0=a,!t.t0){t.next=13;break}return t.next=13,this._readDictionaryBatch(this._dictionaryIndex++);case 13:t.next=7;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(5),n.e(t.t1);case 20:return t.prev=20,n.f(),t.finish(20);case 23:return t.next=25,r.open.call(this,e);case 25:return t.abrupt("return",t.sent);case 26:case"end":return t.stop()}}),t,this,[[5,17,20,23]])})))}},{key:"readRecordBatch",value:function(e){var t;return Kh(this,void 0,void 0,Xr().mark((function n(){var r,i,a,o,u;return Xr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.closed){n.next=2;break}return n.abrupt("return",null);case 2:if(this._footer){n.next=5;break}return n.next=5,this.open();case 5:if(r=null===(t=this._footer)||void 0===t?void 0:t.getRecordBatch(e),n.t0=r,!n.t0){n.next=11;break}return n.next=10,this._handle.seek(r.offset);case 10:n.t0=n.sent;case 11:if(!n.t0){n.next=22;break}return n.next=14,this._reader.readMessage(nv.RecordBatch);case 14:if(!(null===(i=n.sent)||void 0===i?void 0:i.isRecordBatch())){n.next=22;break}return a=i.header(),n.next=19,this._reader.readMessageBody(i.bodyLength);case 19:return o=n.sent,u=this._loadRecordBatch(a,o),n.abrupt("return",u);case 22:return n.abrupt("return",null);case 23:case"end":return n.stop()}}),n,this)})))}},{key:"_readDictionaryBatch",value:function(e){var t;return Kh(this,void 0,void 0,Xr().mark((function n(){var r,i,a,o,u;return Xr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=null===(t=this._footer)||void 0===t?void 0:t.getDictionaryBatch(e),n.t0=r,!n.t0){n.next=6;break}return n.next=5,this._handle.seek(r.offset);case 5:n.t0=n.sent;case 6:if(!n.t0){n.next=17;break}return n.next=9,this._reader.readMessage(nv.DictionaryBatch);case 9:if(!(null===(i=n.sent)||void 0===i?void 0:i.isDictionaryBatch())){n.next=17;break}return a=i.header(),n.next=14,this._reader.readMessageBody(i.bodyLength);case 14:o=n.sent,u=this._loadDictionaryBatch(a,o),this.dictionaries.set(a.id,u);case 17:case"end":return n.stop()}}),n,this)})))}},{key:"_readFooter",value:function(){return Kh(this,void 0,void 0,Xr().mark((function e(){var t,n,r,i;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._handle,e.t0=t._pending,!e.t0){e.next=5;break}return e.next=5,t._pending;case 5:return n=t.size-cx,e.next=8,t.readInt32(n);case 8:return r=e.sent,e.next=11,t.readAt(n-r,r);case 11:return i=e.sent,e.abrupt("return",Cg.decode(i));case 13:case"end":return e.stop()}}),e,this)})))}},{key:"_readNextMessageAndValidate",value:function(e){return Kh(this,void 0,void 0,Xr().mark((function t(){var n;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._footer){t.next=3;break}return t.next=3,this.open();case 3:if(!(this._footer&&this._recordBatchIndex<this.numRecordBatches)){t.next=14;break}if(n=this._footer.getRecordBatch(this._recordBatchIndex),t.t0=n,!t.t0){t.next=10;break}return t.next=9,this._handle.seek(n.offset);case 9:t.t0=t.sent;case 10:if(!t.t0){t.next=14;break}return t.next=13,this._reader.readMessage(e);case 13:return t.abrupt("return",t.sent);case 14:return t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,this)})))}}]),n}(gx),xx=function(e){x(n,e);var t=Gr(n);function n(e,r){return b(this,n),t.call(this,e,r)}return _(n,[{key:"_loadVectors",value:function(e,t,n){return new Xg(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)}}]),n}(bx);function kx(e,t){return t&&"boolean"===typeof t.autoDestroy?t.autoDestroy:e.autoDestroy}function Sx(e){var t;return Xr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=dx.from(e),n.prev=1,t.open({autoDestroy:!1}).closed){n.next=6;break}case 3:return n.next=5,t;case 5:if(!t.reset().open().closed){n.next=3;break}case 6:return n.prev=6,t.cancel(),n.finish(6);case 9:case"end":return n.stop()}}),ni,null,[[1,,6,9]])}function Ox(e){return tp(this,arguments,Xr().mark((function t(){var n;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ep(dx.from(e));case 2:return n=t.sent,t.prev=3,t.next=6,ep(n.open({autoDestroy:!1}));case 6:if(t.sent.closed){t.next=14;break}case 7:return t.next=9,ep(n);case 9:return t.next=11,t.sent;case 11:return t.next=13,ep(n.reset().open());case 13:if(!t.sent.closed){t.next=7;break}case 14:return t.prev=14,t.next=17,ep(n.cancel());case 17:return t.finish(14);case 18:case"end":return t.stop()}}),t,null,[[3,,14,18]])})))}function Ax(e){var t=dx.from(e);return mp(t)?t.then((function(e){return Ax(e)})):t.isAsync()?t.readAll().then((function(e){return new sw(e)})):new sw(t.readAll())}var Ex=0,Ix=function(e){function t(e){if(b(this,t),ii(this,"max_ix",-1),ii(this,"key"),ii(this,"promise"),ii(this,"download_state"),ii(this,"_batch"),ii(this,"parent"),ii(this,"_table_buffer"),ii(this,"_children",[]),ii(this,"_highest_known_ix"),ii(this,"_min_ix"),ii(this,"_max_ix"),ii(this,"dataset"),ii(this,"_download"),ii(this,"__schema"),ii(this,"local_dictionary_lookups"),ii(this,"_extent"),ii(this,"numeric_id"),this.promise=Promise.resolve(),this.download_state="Unattempted",this.key=String(Math.random()),this.parent=null,this.dataset=e,void 0===e)throw new Error("No dataset provided");this.numeric_id=Ex++}return _(t,[{key:"children",get:function(){return this._children}},{key:"dictionary_lookups",get:function(){return this.dataset.dictionary_lookups}},{key:"download",value:function(){throw new Error("Not implemented")}},{key:"is_visible",value:function(e,t){if(void 0===this.min_ix)return!1;if(this.min_ix>e)return!1;if(void 0===t)return!0;var n=this.extent;return!(n.x[0]>t.x[1]||n.x[1]<t.x[0]||n.y[0]>t.y[1]||n.y[1]<t.y[0])}},{key:"points",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Xr().mark((function r(){var i,a,o,u,s,l,c,f,d,h,p,v;return Xr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=Qr(t),r.prev=1,i.s();case 3:if((a=i.n()).done){r.next=10;break}if(!Mx([(o=a.value).x,o.y],e)){r.next=8;break}return r.next=8,o;case 8:r.next=3;break;case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),i.e(r.t0);case 15:return r.prev=15,i.f(),r.finish(15);case 18:if(!1!==n){r.next=58;break}u=Qr(t.children),r.prev=20,u.s();case 22:if((s=u.n()).done){r.next=48;break}if((l=s.value).ready){r.next=26;break}return r.abrupt("continue",46);case 26:if(!e||l.is_visible(1e100,e)){r.next=28;break}return r.abrupt("continue",46);case 28:c=Qr(l.points(e,n)),r.prev=29,c.s();case 31:if((f=c.n()).done){r.next=38;break}if(!Mx([(d=f.value).x,d.y],e)){r.next=36;break}return r.next=36,d;case 36:r.next=31;break;case 38:r.next=43;break;case 40:r.prev=40,r.t1=r.catch(29),c.e(r.t1);case 43:return r.prev=43,c.f(),r.finish(43);case 46:r.next=22;break;case 48:r.next=53;break;case 50:r.prev=50,r.t2=r.catch(20),u.e(r.t2);case 53:return r.prev=53,u.f(),r.finish(53);case 56:r.next=69;break;case 58:h=(h=t.children.map((function(t){var r={t:t,iterator:t.points(e,n),next:void 0};return r.next=r.iterator.next(),r}))).filter((function(e){var t;return null==(t=null==e?void 0:e.next)?void 0:t.value}));case 60:if(!(h.length>0)){r.next=69;break}for(p=0,v=1;v<h.length;v++)h[v].next.value.ix<h[p].next.value.ix&&(p=v);return r.next=65,h[p].next.value;case 65:h[p].next=h[p].iterator.next(),h[p].next.done&&(h=h.splice(p,1)),r.next=60;break;case 69:case"end":return r.stop()}}),r,null,[[1,12,15,18],[20,50,53,56],[29,40,43,46]])}))()}},{key:"forEach",value:function(e){var t,n=Qr(this.points());try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==r&&e(r)}}catch(Lk){n.e(Lk)}finally{n.f()}}},{key:"highest_known_ix",get:function(){return this._highest_known_ix||-1},set:function(e){(void 0==this._highest_known_ix||this._highest_known_ix<e)&&(this._highest_known_ix=e,this.parent&&(this.parent.highest_known_ix=e))}},{key:"record_batch",get:function(){if(this._batch)return this._batch;if(this._table_buffer&&this._table_buffer.byteLength>0)return this._batch=Ax(this._table_buffer).batches[0];throw new Error("Attempted to access table on tile without table buffer.")}},{key:"min_ix",get:function(){return void 0!==this._min_ix?this._min_ix:this.parent?this.parent.max_ix+1:void 0}},{key:"schema",value:function(){var e=$r(Xr().mark((function e(){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.download();case 2:return e.abrupt("return",this._schema);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"extend_promise",value:function(e){return this.promise=this.promise.then((function(){return e()})),this.promise}},{key:"ready",get:function(){return void 0!==this._table_buffer&&this._table_buffer.byteLength>0}},{key:"_schema",get:function(){if(this.__schema)return this.__schema;var e,t=[],n=Qr(this.record_batch.schema.fields);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.name,a=r.type;if(5==(null==a?void 0:a.typeId)&&t.push({name:i,type:"string",extent:[]}),a&&a.dictionary&&t.push({name:i,type:"dictionary",keys:this.record_batch.getChild(i).data[0].dictionary.toArray(),extent:[-2047,this.record_batch.getChild(i).data[0].dictionary.length-2047]}),a&&8==a.typeId&&t.push({name:i,type:"date",extent:Ca(this.record_batch.getChild(i).data[0].values)}),10===(null==a?void 0:a.typeId))return[10,100];a&&3==a.typeId&&t.push({name:i,type:"float",extent:Ca(this.record_batch.getChild(i).data[0].values)})}}catch(Lk){n.e(Lk)}finally{n.f()}return this.__schema=t,t}},{key:"yielder",value:Xr().mark((function e(){var t,n,r;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Qr(this.record_batch),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=10;break}if(!(r=n.value)){e.next=8;break}return e.next=8,r;case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,12,15,18]])}))},{key:"extent",get:function(){return this._extent?this._extent:{x:[Number.MIN_VALUE,Number.MAX_VALUE],y:[Number.MIN_VALUE,Number.MAX_VALUE]}}},{key:e,value:function(){return this.yielder()}},{key:"root_extent",get:function(){return null===this.parent?{x:[Number.MIN_VALUE,Number.MAX_VALUE],y:[Number.MIN_VALUE,Number.MAX_VALUE]}:this.parent.root_extent}}]),t}(Symbol.iterator),Cx=function(e){x(n,e);var t=Gr(n);function n(e,r,i,a,o){var u;b(this,n),u=t.call(this,a),ii(yt(u),"url"),ii(yt(u),"bearer_token",""),ii(yt(u),"key"),ii(yt(u),"_children",[]),ii(yt(u),"codes"),ii(yt(u),"_already_called",!1),ii(yt(u),"child_locations",[]),u.url=e,void 0!=o&&"bearer_token"in o&&(u.bearer_token=o.bearer_token),u.parent=i,u.key=r;var s=l(r.split("/").map((function(e){return Number.parseInt(e)})),3),c=s[0],f=s[1],d=s[2];return u.codes=[c,f,d],u.class=this instanceof n?this.constructor:void 0,u}return _(n,[{key:"extent",get:function(){return this._extent?this._extent:this.theoretical_extent}},{key:"download_to_depth",value:function(){var e=$r(Xr().mark((function e(t){var n;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.download();case 2:return n=[],this.max_ix<t&&(n=this.children.map((function(e){return e.download_to_depth(t)}))),e.abrupt("return",Promise.all(n));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"download",value:function(){var e=$r(Xr().mark((function e(){var t,n,r=this;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._download){e.next=2;break}return e.abrupt("return",this._download);case 2:if(!this._already_called){e.next=4;break}throw"Illegally attempting to download twice";case 4:return this._already_called=!0,t="".concat(this.url,"/").concat(this.key,".feather"),this.download_state="In progress",this.bearer_token&&(t=t.replace("/public","")),n=this.bearer_token?{method:"GET",headers:{Authorization:"Bearer "+this.bearer_token}}:void 0,this._download=fetch(t,n).then(function(){var e=$r(Xr().mark((function e(t){var n,i,a,o,u;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:if(n=e.sent,r.download_state="Complete",r._table_buffer=n,r._batch=Ax(n).batches[0],i=r._batch.schema.metadata,(a=i.get("extent"))&&(r._extent=JSON.parse(a)),(o=i.get("children"))&&(r.child_locations=JSON.parse(o)),null!==(u=r._batch.getChild("ix"))){e.next=14;break}throw"No ix column in table";case 14:r._min_ix=Number(u.get(0)),r.max_ix=Number(u.get(u.length-1)),r.highest_known_ix=r.max_ix;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw console.log(e),r.download_state="Failed",console.error("Error: Remote Tile at ".concat(r.url,"/").concat(r.key,".feather not found.\n\n        ")),e})),e.abrupt("return",this._download);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"children",get:function(){if("Complete"!==this.download_state)return[];if(this._children.length<this.child_locations.length){var e,t=Qr(this.child_locations);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._children.push(new this.class(this.url,n,this,this.dataset,{bearer_token:this.bearer_token}))}}catch(Lk){t.e(Lk)}finally{t.f()}}return this._children}},{key:"theoretical_extent",get:function(){var e=this.dataset.extent,t=l(this.codes,3),n=t[0],r=t[1],i=t[2],a=(e.x[1]-e.x[0])/Math.pow(2,n),o=(e.y[1]-e.y[0])/Math.pow(2,n);return{x:[e.x[0]+r*a,e.x[0]+(r+1)*a],y:[e.y[0]+i*o,e.y[0]+(i+1)*o]}}}]),n}(Ix),Tx=function(e){x(n,e);var t=Gr(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;b(this,n),o=t.call(this,r),ii(yt(o),"batch_num"),ii(yt(o),"full_tab"),o.full_tab=e,o._batch=e.batches[i],o.download_state="Complete",o.batch_num=i,o._extent={x:Ca(o._batch.getChild("x")),y:Ca(o._batch.getChild("y"))},o.parent=u;var s=o._batch.get(o._batch.numRows-1);if(null===s)throw"No rows in table";o.max_ix=Number(s.ix),o.highest_known_ix=Number(o.max_ix);var l=o._batch.get(0);if(null===l)throw"No rows in table";return o._min_ix=Number(l.ix),o.highest_known_ix=Number(o.max_ix),o.create_children(),o}return _(n,[{key:"create_children",value:function(){for(var e=4*this.batch_num;++e<=4*this.batch_num+4;)e<this.full_tab.batches.length&&this._children.push(new n(this.full_tab,this.dataset,e,this.plot,this))}},{key:"download",value:function(){return Promise.resolve(this._batch)}},{key:"ready",get:function(){return!0}}]),n}(Ix);function Mx(e,t){return void 0===t||e[0]<t.x[1]&&e[0]>t.x[0]&&e[1]<t.y[1]&&e[1]>t.y[0]}function Dx(){}var jx=function(){function e(t){b(this,e),ii(this,"transformations",{}),ii(this,"plot"),ii(this,"extents",{}),this.plot=t}return _(e,[{key:"highest_known_ix",get:function(){return this.root_tile.highest_known_ix}},{key:"domain",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e6;return this.extents[e]||(this.extents[e]=Ca(this.points(void 0,t),(function(t){return t[e]}))),this.extents[e]}},{key:"points",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e99;return Xr().mark((function r(){var i,a,o,u,s;return Xr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=[t.root_tile];case 1:if(!(a=i.shift())){r.next=24;break}if("Complete"!=a.download_state||void 0!==e&&!a.is_visible(n,e)){r.next=22;break}o=Qr(a),r.prev=4,o.s();case 6:if((u=o.n()).done){r.next=13;break}if(!(Mx([(s=u.value).x,s.y],e)&&s.ix<=n)){r.next=11;break}return r.next=11,s;case 11:r.next=6;break;case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(4),o.e(r.t0);case 18:return r.prev=18,o.f(),r.finish(18);case 21:i.push.apply(i,be(a.children));case 22:r.next=1;break;case 24:case"end":return r.stop()}}),r,null,[[4,15,18,21]])}))()}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return this.visit((function(t){n.push(e(t))}),t),n}},{key:"visit",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},i=[this.root_tile],a=[];t=i.shift();)n?a.push(t):e(t),r(t)&&"Complete"==t.download_state&&i.push.apply(i,be(t.children));if(n)for(;t=a.pop();)e(t)}},{key:"schema",value:function(){var e=$r(Xr().mark((function e(){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready;case 2:return e.abrupt("return",this.root_tile.record_batch.schema);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add_sparse_identifiers",value:function(e,t){this.transformations[e]=function(n){for(var r,i=n.key,a=n.record_batch.numRows,o=new Float32Array(a),u=null!=(r=t.values[i])?r:[],s=0,c=Object.entries(u);s<c.length;s++){var f=l(c[s],2),d=f[0],h=f[1];o[Number.parseInt(d)]=h}return Lx(n.record_batch,e,o)}}},{key:"add_label_identifiers",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_id";if(this.transformations[t])throw new Error("Can't overwrite existing transformation for ".concat(t));this.transformations[t]=function(r){return Bx(r.record_batch,e,t,n)}}},{key:"findPoint",value:function(e){var t=[];return this.visit((function(n){if(n.ready&&n.record_batch&&n.min_ix<=e&&n.max_ix>=e){var r=Ia(be(n.record_batch.getChild("ix").data[0].values),e),i=n.record_batch.get(r);i.ix===e&&t.push(i)}})),t}}],[{key:"from_quadfeather",value:function(e,t,n){return new Nx(e,t,n)}},{key:"from_arrow_table",value:function(e,t,n){return new zx(e,t,n)}}]),e}(),zx=function(e){x(n,e);var t=Gr(n);function n(e,r,i){var a;return b(this,n),a=t.call(this,i),ii(yt(a),"promise",Promise.resolve()),ii(yt(a),"root_tile"),a.root_tile=new Tx(e,yt(a),0,i),a}return _(n,[{key:"extent",get:function(){return this.root_tile.extent}},{key:"ready",get:function(){return Promise.resolve()}},{key:"download_most_needed_tiles",value:function(e,t,n){}}]),n}(jx),Nx=function(e){x(n,e);var t=Gr(n);function n(e,r,i){var a;return b(this,n),a=t.call(this,i),ii(yt(a),"_download_queue",new Set),ii(yt(a),"promise",new Promise(Dx)),ii(yt(a),"root_tile"),a.root_tile=new Cx(e,"0/0/0",null,yt(a),{}),a.promise=a.root_tile.promise,a}return _(n,[{key:"ready",get:function(){return this.root_tile.download()}},{key:"extent",get:function(){return this.root_tile.extent}},{key:"download_to_depth",value:function(){var e=$r(Xr().mark((function e(t){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.root_tile.download_to_depth(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"download_most_needed_tiles",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=this._download_queue;if(!(r.size>=n)){var i=[];this.visit(o),i.sort((function(e,t){return e[0]-t[0]}));for(var a=function(){var e=i.pop();if(void 0===e)throw new Error("Ran out of tiles unexpectedly");var n=l(e,3),a=n[0],o=n[1];n[2];if(o.min_ix&&o.min_ix>t||a<=0)return"continue";r.add(o.key),o.download().then((function(){return r.delete(o.key)})).catch((function(e){throw console.warn("Error on",o.key),r.delete(o.key),e}))};i.length>0&&r.size<n;)a()}function o(t){if(void 0===e)return 1/t.codes[0];if("Unattempted"===t.download_state){var n=Fx(t,e);i.push([n,t,e])}}}}]),n}(jx);function Px(e){return(e.x[1]-e.x[0])*(e.y[1]-e.y[0])}function Fx(e,t){var n=e.extent;if(n.x[0]>t.x[1]||n.x[1]<t.x[0]||n.y[0]>t.y[1]||n.y[1]<t.y[0])return 0;var r={x:[Ba([t.x[0],n.x[0]]),Ra([t.x[1],n.x[1]])],y:[Ba([t.y[0],n.y[0]]),Ra([t.y[1],n.y[1]])]},i=r.x,a=r.y,o=0;return i[0]>i[1]&&(o-=1),a[0]>a[1]&&(o-=2),o<0?o:Px(r)/Px(t)}function Lx(e,t,n){var r=new Set(be(e.schema.fields).map((function(e){return e.name})));if(r.has(t))throw new Error("Field ".concat(t," already exists in batch"));var i,a={},o=Qr(r);try{for(o.s();!(i=o.n()).done;){var u=i.value;a[u]=e.getChild(u).data[0]}}catch(Lk){o.e(Lk)}finally{o.f()}return a[t]=rw(n).data[0],new lw(a)}function Bx(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",i=new Set,a=function(){var e=u[o],t=[0,1,2,3].map((function(t){return e.charCodeAt(t)||""})).join("");i.add(t)},o=0,u=Object.keys(t);o<u.length;o++)a();var s=new Float32Array(e.numRows),l=e.getChild(r);if(null===l)throw new Error("Field ".concat(r," not found in batch"));for(var c=l.data[0].valueOffsets,f=l.data[0].values,d=0;d<e.numRows;d++){var h=f.slice(c[d],c[d+1]),p=h.slice(0,4).join("");if(i.has(p)){var v=String.fromCharCode.apply(String,be(h));void 0!==t[v]&&(s[d]=t[v])}}return Lx(e,n,s)}var Rx={},Vx={exports:{}};!function(e,t){e.exports=function(){function e(e,n,i,a,o){t(e,n,i||0,a||e.length-1,o||r)}function t(e,r,i,a,o){for(;a>i;){if(a-i>600){var u=a-i+1,s=r-i+1,l=Math.log(u),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(u-c)/u)*(s-u/2<0?-1:1);t(e,r,Math.max(i,Math.floor(r-s*c/u+f)),Math.min(a,Math.floor(r+(u-s)*c/u+f)),o)}var d=e[r],h=i,p=a;for(n(e,i,r),o(e[a],d)>0&&n(e,i,a);h<p;){for(n(e,h,p),h++,p--;o(e[h],d)<0;)h++;for(;o(e[p],d)>0;)p--}0===o(e[i],d)?n(e,i,p):n(e,++p,a),p<=r&&(i=p+1),r<=p&&(a=p-1)}}function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t){return e<t?-1:e>t?1:0}return e}()}(Vx),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Vx.exports,n=[],r=function(e){return n.push(e)},i=function e(t){t&&(r(t),s(t)||t.children.forEach(e))},a=function(e){var t=n.pop();return t?(t.children=e,t.height=1,t.leaf=!0,t.minX=1/0,t.minY=1/0,t.minZ=1/0,t.maxX=-1/0,t.maxY=-1/0,t.maxZ=-1/0):t={children:e,height:1,leaf:!0,minX:1/0,minY:1/0,minZ:1/0,maxX:-1/0,maxY:-1/0,maxZ:-1/0},t},o=[],u=function(e,t){var n=o.pop();return n?(n.dist=e,n.node=t):n={dist:e,node:t},n},s=function(e){return e.leaf},l=function(e,t){return e.leaf},c=function(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1},f=function(e){d(e,0,e.children.length,e)},d=function(e,t,n,r){var i=r;i?(i.minX=1/0,i.minY=1/0,i.minZ=1/0,i.maxX=-1/0,i.maxY=-1/0,i.maxZ=-1/0):i=a([]);for(var o=t,u=void 0;o<n;o++)u=e.children[o],h(i,u);return i},h=function(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.minZ=Math.min(e.minZ,t.minZ),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e.maxZ=Math.max(e.maxZ,t.maxZ),e},p=function(e){return(e.maxX-e.minX)*(e.maxY-e.minY)*(e.maxZ-e.minZ)},v=function(e){return e.maxX-e.minX+(e.maxY-e.minY)+(e.maxZ-e.minZ)},m=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.min(e.minZ,t.minZ);return(Math.max(e.maxX,t.maxX)-n)*(Math.max(e.maxY,t.maxY)-r)*(Math.max(e.maxZ,t.maxZ)-i)},y=function(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.max(e.minZ,t.minZ),a=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY),u=Math.min(e.maxZ,t.maxZ);return Math.max(0,a-n)*Math.max(0,o-r)*Math.max(0,u-i)},b=function(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&e.minZ<=t.minZ&&t.maxX<=e.maxX&&t.maxY<=e.maxY&&t.maxZ<=e.maxZ};e.intersects=function(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.minZ<=e.maxZ&&t.maxX>=e.minX&&t.maxY>=e.minY&&t.maxZ>=e.minZ},e.boxRayIntersects=function(e,t,n,r,i,a,o){var u=(e.minX-t)*i,s=(e.maxX-t)*i,l=(e.minY-n)*a,c=(e.maxY-n)*a,f=(e.minZ-r)*o,d=(e.maxZ-r)*o,h=Math.min(f,d),p=Math.max(f,d),v=Math.min(l,c),m=Math.max(l,c),y=Math.min(u,s),b=Math.max(u,s),g=Math.max(0,y,v,h);return Math.min(b,m,p)>=g?g:1/0};var g=function(e,n,r,i,a){for(var o,u=[n,r];u.length;)(r=u.pop())-(n=u.pop())<=i||(o=n+Math.ceil((r-n)/i/2)*i,t(e,o,n,r,a),u.push(n,o,o,r))},_=function(e,t){return e.minX-t.minX},w=function(e,t){return e.minY-t.minY},x=function(e,t){return e.minZ-t.minZ},k=function(){function t(e){void 0===e&&(e=16),this.maxEntries=Math.max(e,8),this.minEntries=Math.max(4,Math.ceil(.4*this.maxEntries)),this.clear()}return t.alloc=function(){return this.pool.pop()||new this},t.free=function(e){e.clear(),this.pool.push(e)},t.prototype.search=function(t){var n=this.data,r=[];if(!e.intersects(t,n))return r;for(var i=[];n;){for(var a=0,o=n.children.length;a<o;a++){var u=n.children[a];e.intersects(t,u)&&(l(n)?r.push(u):b(t,u)?this._all(u,r):i.push(u))}n=i.pop()}return r},t.prototype.collides=function(t){var n=this.data;if(!e.intersects(t,n))return!1;for(var r=[];n;){for(var i=0,a=n.children.length;i<a;i++){var o=n.children[i];if(e.intersects(t,o)){if(l(n)||b(t,o))return!0;r.push(o)}}n=r.pop()}return!1},t.prototype.raycastInv=function(t,n,r,i,a,s,c){void 0===c&&(c=1/0);var f=this.data;if(i===1/0&&a===1/0&&s===1/0)return u(1/0,void 0);if(e.boxRayIntersects(f,t,n,r,i,a,s)===1/0)return u(1/0,void 0);for(var d,h=[u(0,f)],p=function(e,t){var n=h[e];h[e]=h[t],h[t]=n},v=function(){var e=h[0],t=h.length-1;h[0]=h[t],h.length=t;for(var n=0;;){var r=n<<1|1;if(r>=t)break;var i=r+1;if(i<t&&h[i].dist<h[r].dist&&(r=i),h[n].dist<h[r].dist)break;p(n,r),n=r}return function(e){o.push(e)}(e),e.node},m=function(e,t){var n=h.length;for(h.push(u(e,t));n>0;){var r=n-1>>1;if(h[r].dist<=h[n].dist)break;p(n,r),n=r}},y=c;h.length&&h[0].dist<y;)for(var b=0,g=(f=v()).children.length;b<g;b++){var _=f.children[b],w=e.boxRayIntersects(_,t,n,r,i,a,s);if(l(f)){if(w<y){if(0===w)return u(w,_);y=w,d=_}}else m(w,_)}return u(y<c?y:1/0,d)},t.prototype.raycast=function(e,t,n,r,i,a,o){return void 0===o&&(o=1/0),this.raycastInv(e,t,n,1/r,1/i,1/a,o)},t.prototype.all=function(){return this._all(this.data,[])},t.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this.minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this.build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this.splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},t.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},t.prototype.clear=function(){return this.data&&i(this.data),this.data=a([]),this},t.prototype.remove=function(e,t){if(!e)return this;for(var n,r,i=this.data,a=0,o=!1,u=[],l=[];i||u.length;){if(i||(i=u.pop(),a=l.pop(),r=u[u.length-1],o=!0),s(i)&&-1!==(n=c(e,i.children,t)))return i.children.splice(n,1),u.push(i),this.condense(u),this;o||s(i)||!b(i,e)?r?(a++,i=r.children[a],o=!1):i=void 0:(u.push(i),l.push(a),a=0,r=i,i=i.children[0])}return this},t.prototype.toJSON=function(){return this.data},t.prototype.fromJSON=function(e){return i(this.data),this.data=e,this},t.prototype.build=function(e,t,n,r){var i,o=n-t+1,u=this.maxEntries;if(o<=u)return i=a(e.slice(t,n+1)),f(i),i;r||(r=Math.ceil(Math.log(o)/Math.log(u)),u=Math.ceil(o/Math.pow(u,r-1))),(i=a([])).leaf=!1,i.height=r;var s=Math.ceil(o/u),l=s*Math.ceil(Math.pow(u,2/3)),c=s*Math.ceil(Math.pow(u,1/3));g(e,t,n,c,_);for(var d=t;d<=n;d+=c){var h=Math.min(d+c-1,n);g(e,d,h,l,w);for(var p=d;p<=h;p+=l){var v=Math.min(p+l-1,h);g(e,p,v,s,x);for(var m=p;m<=v;m+=s){var y=Math.min(m+s-1,v);i.children.push(this.build(e,m,y,r-1))}}}return f(i),i},t.prototype._all=function(e,t){for(var n=[];e;)s(e)?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},t.prototype.chooseSubtree=function(e,t,n,r){for(var i,a,o;r.push(t),!s(t)&&r.length-1!==n;){i=a=1/0;for(var u=0,l=t.children.length;u<l;u++){var c=t.children[u],f=p(c),d=m(e,c)-f;d<a?(a=d,i=f<i?f:i,o=c):d===a&&f<i&&(i=f,o=c)}t=o||t.children[0]}return t},t.prototype.split=function(e,t){var n=e[t],r=n.children.length,i=this.minEntries;this.chooseSplitAxis(n,i,r);var o=this.chooseSplitIndex(n,i,r),u=a(n.children.splice(o,n.children.length-o));u.height=n.height,u.leaf=n.leaf,f(n),f(u),t?e[t-1].children.push(u):this.splitRoot(n,u)},t.prototype.splitRoot=function(e,t){this.data=a([e,t]),this.data.height=e.height+1,this.data.leaf=!1,f(this.data)},t.prototype.chooseSplitIndex=function(e,t,n){for(var r,i=1/0,a=1/0,o=t;o<=n-t;o++){var u=d(e,0,o),s=d(e,o,n),l=y(u,s),c=p(u)+p(s);l<i?(i=l,r=o,a=c<a?c:a):l===i&&c<a&&(a=c,r=o)}return r},t.prototype.chooseSplitAxis=function(e,t,n){var r=this.allDistMargin(e,t,n,_),i=this.allDistMargin(e,t,n,w),a=this.allDistMargin(e,t,n,x);r<i&&r<a?e.children.sort(_):i<r&&i<a&&e.children.sort(w)},t.prototype.allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=d(e,0,t),a=d(e,n-t,n),o=v(i)+v(a),u=t;u<n-t;u++){var s=e.children[u];h(i,s),o+=v(i)}for(u=n-t-1;u>=t;u--){s=e.children[u];h(a,s),o+=v(a)}return o},t.prototype.adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)h(t[r],e)},t.prototype.condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?((n=e[t-1].children).splice(n.indexOf(e[t]),1),r(e[t])):this.clear():f(e[t])},t.prototype._insert=function(e,t,n){var r=[],i=this.chooseSubtree(e,this.data,t,r);for(i.children.push(e),h(i,e);t>=0&&r[t].children.length>this.maxEntries;)this.split(r,t),t--;this.adjustParentBBoxes(e,r,t)},t.pool=[],t}();e.RBush3D=k}(Rx);var Ux=function(e){x(n,e);var t=Gr(n);function n(e,r){var i;return b(this,n),i=t.call(this,r.div.node(),r._root,r),ii(yt(i),"layers",[]),ii(yt(i),"ctx"),ii(yt(i),"tree"),ii(yt(i),"timer"),ii(yt(i),"label_key"),i.canvas=r.elements[2].selectAll("canvas").node(),i.tree=new Wx(.5,[1,1e6],i.ctx),i.tree.accessor=function(e,t){var n=r._zoom.scales();return[n.x(e),n.y(t)]},i.bind_zoom(r._renderer.zoom),i.ctx=i.canvas.getContext("2d"),i}return _(n,[{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e6;this.timer&&this.timer.stop(),this.timer=Fu((function(){e.render(),(t-=1)<=0&&e.stop()}))}},{key:"stop",value:function(){this.timer&&(this.timer.stop(),this.ctx.clearRect(0,0,4096,4096),this.timer=void 0)}},{key:"update",value:function(e,t,n,r){this.tree=new Wx(.5,[.1,1e6],this.ctx),this.label_key=t;var i,a=Qr(e.features);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=o.properties,s=o.geometry;if("Point"===s.type){var l=18,c="";void 0!==u[n]&&null!==u[n]&&(l*=u[n]),void 0!==u[t]&&null!==u[t]&&(c=u[t]);var f={x:s.coordinates[0],y:s.coordinates[1],text:c,height:l};this.tree.insert_point(f)}}}catch(Lk){a.e(Lk)}finally{a.f()}console.log(this.tree.insertion_log)}},{key:"render",value:function(){var e=this.ctx,t=this.zoom.scales(),n=t.x_,r=t.y_,i=this.zoom.transform,a=this.width,o=this.height;e.clearRect(0,0,a,o),e.textAlign="center",e.textBaseline="middle",e.globalAlpha=1,i.k;var u=this.zoom.current_corners(),s=this.tree.search({minX:u.x[0],minY:u.y[0],minZ:i.k,maxX:u.x[1],maxY:u.y[1],maxZ:i.k});e.clearRect(0,0,4096,4096);var l,c=this.scatterplot.dim("color"),f=Qr(s);try{for(f.s();!(l=f.n()).done;){var d=l.value.data;e.font="".concat(d.height,"pt verdana");var h=n(d.x),p=r(d.y);e.globalAlpha=1,e.fillStyle="white",c.field===this.label_key?e.shadowColor=c.scale(d.text):e.shadowColor="black",e.shadowBlur=19,e.lineWidth=3,e.strokeText(d.text,h,p),e.shadowBlur=0,e.lineWidth=4,e.fillStyle="white",e.fillText(d.text,h,p)}}catch(Lk){f.e(Lk)}finally{f.f()}}}]),n}(Sf);function Hx(e,t){if(t.font="".concat(e.height,"pt verdana"),""===e.text)return null;var n=t.measureText(e.text),r=n.actualBoundingBoxLeft,i=n.actualBoundingBoxRight,a=n.actualBoundingBoxAscent,o=n.actualBoundingBoxDescent;return(Number.isNaN(r)||void 0===r)&&(r=0,i=n.width,a=e.height,o=0),{pixel_height:a-o,pixel_width:r+i}}var Wx=function(e){x(n,e);var t=Gr(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[.1,1e3],a=arguments.length>2?arguments[2]:void 0;return b(this,n),e=t.call(this),ii(yt(e),"scale_factor"),ii(yt(e),"mindepth"),ii(yt(e),"maxdepth"),ii(yt(e),"context"),ii(yt(e),"insertion_log",[]),ii(yt(e),"_accessor",(function(e){return[e.x,e.y]})),e.scale_factor=r,e.mindepth=i[0],e.maxdepth=i[1],e.context=a,window.dtree=yt(e),e}return _(n,[{key:"max_collision_depth",value:function(e,t){var n=l(this._accessor(e),2),r=n[0],i=n[1],a=l(this._accessor(t),2),o=a[0],u=a[1],s=Math.abs(r-o),c=(e.pixel_width+t.pixel_width)/8/s,f=Math.abs(i-u),d=(t.pixel_height+t.pixel_height)/8/f;return Math.min(c,d)}},{key:"accessor",get:function(){return this._accessor},set:function(e){this._accessor=e}},{key:"to3d",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=this.accessor(e),i=l(r,2),a=i[0],u=i[1],s=e.pixel_height,c=e.pixel_width,f={minX:a-c/t/2,maxX:a+c/t/2,minY:u-s/t/2,maxY:u+s/t/2,minZ:t,maxZ:n||this.maxdepth,data:o({},e)};if(isNaN(a)||isNaN(u))throw"Missing position"+JSON.stringify(e);if(isNaN(c))throw"Missing Aspect Ratio"+JSON.stringify(e);return f}},{key:"insert_point",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;void 0===e.pixel_width?(console.log("Starting to insert",e.text,"from",n),t=o(o({},e),Hx(e,this.context))):t=e;var r=this.to3d(t,n,this.maxdepth);this.collides(r)?this.insert_after_collisions(r):n<=this.mindepth?(console.log("inserting ",r),this.insertion_log.push(r.maxX,r.minX,r.minZ,r.data.text),this.insert(r)):this.insert_point(e,n/2)}},{key:"insert_after_collisions",value:function(e){var t,n=-1;console.log("Inserting",e.data.text);var r,i=Qr(this.search(e));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=this.max_collision_depth(e.data,a.data);console.log(a.data.text," blocks ",e.data.text," until ",o),o>n&&(n=o,t=a)}}catch(Lk){i.e(Lk)}finally{i.f()}if(t&&n<this.maxdepth){console.log(t.data.text," used to blocks ",e.data.text," until ",n);var u=t.data,s=t.minZ,l=t.maxZ;if(s<n){this.remove(t),console.log("SPLITTING",u.text,"at ",n);var c=this.to3d(u,s,n);this.insert(c);var f=this.to3d(u,n,l);this.insert(f)}var d=this.to3d(e.data,n,this.maxdepth);console.log("INSERTING",d),this.insert(d)}}}]),n}(Rx.RBush3D),Zx=[{id:"canvas-2d-background",nodetype:"canvas"},{id:"webgl-canvas",nodetype:"canvas"},{id:"canvas-2d",nodetype:"canvas"},{id:"deepscatter-svg",nodetype:"svg"}],Yx=function(){function e(t,n,r){b(this,e),ii(this,"_renderer"),ii(this,"width"),ii(this,"height"),ii(this,"_root"),ii(this,"elements"),ii(this,"secondary_renderers",{}),ii(this,"div"),ii(this,"bound"),ii(this,"_zoom"),ii(this,"plot_queue",Promise.resolve(0)),ii(this,"prefs"),ii(this,"ready"),ii(this,"click_handler"),ii(this,"tooltip_handler"),this.bound=!1,void 0!==t&&this.bind(t,n,r),this.width=n,this.height=r,this.ready=new Promise((function(){})),this.click_handler=new Gx(this),this.tooltip_handler=new qx(this),this.prefs={zoom_balance:.35,duration:2e3,max_points:100,encoding:{},point_size:1,alpha:40}}return _(e,[{key:"bind",value:function(e,t,n){if(this.div=_a(e).selectAll("div.deepscatter_container").data([1]).join("div").attr("class","deepscatter_container").style("position","absolute"),this.div.empty())throw console.error(e),"Must pass a valid div selector";this.elements=[];var r,i=Qr(Zx);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=this.div.append("div").attr("id","container-for-".concat(a.id)).style("position","absolute").style("top",0).style("left",0).style("pointer-events","deepscatter-svg"===a.id?"auto":"none");o.append(a.nodetype).attr("id",a.id).attr("width",t||window.innerWidth).attr("height",n||window.innerHeight),this.elements.push(o)}}catch(Lk){i.e(Lk)}finally{i.f()}this.bound=!0}},{key:"add_identifier_column",value:function(e,t,n){var r=Array.isArray(t)?Object.fromEntries(t.map((function(e){return[e,1]}))):t;this._root.add_label_identifiers(r,e,n)}},{key:"add_labels_from_url",value:function(){var e=$r(Xr().mark((function e(t,n,r,i){var a;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 2:a=e.sent,this.add_labels(a,n,r,i);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"add_labels",value:function(e,t,n,r){var i=new Ux(this.div,this);i.update(e,n,r),this.secondary_renderers[t]=i,this.secondary_renderers[t].start()}},{key:"reinitialize",value:function(){var e=$r(Xr().mark((function e(){var t,n,r;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(t=this.prefs).source_url){e.next=5;break}this._root=jx.from_quadfeather(t.source_url,t,this),e.next=10;break;case 5:if(void 0===t.arrow_table){e.next=9;break}this._root=jx.from_arrow_table(t.arrow_table,t,this),e.next=10;break;case 9:throw new Error("No source_url or arrow_table specified");case 10:return e.next=12,this._root.ready;case 12:return this._renderer=new qh("#container-for-webgl-canvas",this._root,this),this._zoom=new df("#deepscatter-svg",this.prefs,this),this._zoom.attach_tiles(this._root),this._zoom.attach_renderer("regl",this._renderer),this._zoom.initialize_zoom(),n=_a("#container-for-canvas-2d-background").select("canvas"),(r=n.node().getContext("2d")).fillStyle=t.background_color||"rgba(133, 133, 111, .8)",r.fillRect(0,0,2*window.innerWidth,2*window.innerHeight),this._renderer.initialize(),this.ready=this._root.promise,e.abrupt("return",this.ready);case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"visualize_tiles",value:function(){var e=this,t=e.elements[2].selectAll("canvas").node().getContext("2d");t.clearRect(0,0,1e4,1e4);var n=e._zoom.scales(),r=n.x_,i=n.y_;t.strokeStyle="#888888";var a,o=e._root.map((function(e){return e})),u=Qr(Ha(13));try{var s=function(){var e=a.value;setTimeout((function(){var n,a=Qr(o);try{for(a.s();!(n=a.n()).done;){var u=n.value;if(u.codes[0]==e&&u.extent){var s=l(u.extent.x.map((function(e){return r(e)})),2),c=s[0],f=s[1],d=l(u.extent.y.map((function(e){return i(e)})),2),h=d[0],p=d[1],v=u.codes[0];t.lineWidth=8/Math.sqrt(v),t.globalAlpha=.33,t.strokeRect(c,h,f-c,p-h),"Unattempted"!==u.download_state&&t.fillRect(c,h,f-c,p-h),t.globalAlpha=1}}}catch(Lk){a.e(Lk)}finally{a.f()}}),400*e)};for(u.s();!(a=u.n()).done;)s()}catch(Lk){u.e(Lk)}finally{u.f()}setTimeout((function(){return t.clearRect(0,0,1e4,1e4)}),6800)}},{key:"make_big_png",value:function(){var e=$r(Xr().mark((function e(){var t,n,r,i,a,o,u,s,l,c,f,d,h=this,p=arguments;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:3,n=p.length>1&&void 0!==p[1]?p[1]:1e7,r=p.length>2&&void 0!==p[2]?p[2]:100,e.next=5,this._root.download_to_depth(n);case 5:i=this._renderer,a=i.width,o=i.height,this.plotAPI({duration:0}),(u=document.createElement("canvas")).setAttribute("width",(t*a).toString()),u.setAttribute("height",(t*o).toString()),s=u.getContext("2d"),l=this._zoom.current_corners(),this._zoom.transform.k,c=(l.x[1]-l.x[0])/t,f=(l.y[1]-l.y[0])/t,d=new Promise((function(e,n){for(var i=function(n){for(var i=function(i){setTimeout((function(){h._zoom.zoom_to_bbox({x:[l.x[0]+c*n,l.x[0]+c*(n+1)],y:[l.y[0]+f*i,l.y[0]+f*(i+1)]},r/5,1),setTimeout((function(){h._renderer.fbos.colorpicker.use((function(){h._renderer.render_all(h._renderer.props);var e=h._renderer.regl.read(0,0,a,o);console.log(n,i,Za(e));for(var t=o/2|0,r=4*a,u=new Uint8Array(4*a),l=0;l<t;++l){var c=l*r,f=(o-l-1)*r;u.set(e.subarray(c,c+r)),e.copyWithin(c,f,f+r),e.set(u,f)}var d=new ImageData(new Uint8ClampedArray(e),a);s.putImageData(d,a*n,o*i)})),n==t-1&&i===t-1&&e()}),r/2)}),n*r*t+i*r)},u=0;u<t;u++)i(u)},u=0;u<t;u++)i(u)})),d.then((function(){var e=u.toDataURL(),t=document.createElement("a");t.href=e,t.style="position:fixed;top:40vh;left:40vw;z-index:999;",t.download="deepscatter",t.click(),t.remove()}));case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e,t,n;null==(t=null==(e=this._renderer)?void 0:e.regl)||t.destroy(),null==(n=this.div)||n.node().parentElement.replaceChildren()}},{key:"update_prefs",value:function(e){if(this.prefs.encoding&&e.encoding)for(var t=0,n=Object.keys(this.prefs.encoding);t<n.length;t++){var r=n[t];void 0!==e.encoding[r]&&(this.prefs.encoding[r]=e.encoding[r])}Ou(this.prefs,e)}},{key:"dim",value:function(e){return this._renderer.aes.dim(e).current}},{key:"tooltip_html",get:function(){return this.tooltip_handler.f},set:function(e){this.tooltip_handler.f=e}},{key:"click_function",get:function(){return this.click_handler.f},set:function(e){this.click_handler.f=e}},{key:"plotAPI",value:function(){var e=$r(Xr().mark((function e(t){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.encoding&&t.encoding.filter&&t.encoding.filter.domain)){e.next=2;break}throw new Error("Filtering is not supported in the API");case 2:return e.next=4,this.plot_queue;case 4:return this.plot_queue=this.unsafe_plotAPI(t),e.next=7,this.plot_queue;case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsafe_plotAPI",value:function(){var e=$r(Xr().mark((function e(t){var n,r,i=this;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.click_function&&(this.click_function=Function("datum",t.click_function)),t.tooltip_html&&(this.tooltip_html=Function("datum",t.tooltip_html)),this.update_prefs(t),void 0!==this._root){e.next=6;break}return e.next=6,this.reinitialize();case 6:return t.basemap_gleofeather&&(t.polygons=[{file:t.basemap_gleofeather}]),e.next=9,this._root.promise;case 9:this._renderer.render_props.apply_prefs(this.prefs),t.mutate&&this._root.apply_mutations(t.mutate),n=this.width,r=this.height,this.update_prefs(t),void 0!==t.zoom&&(null===t.zoom?(this._zoom.zoom_to(1,n/2,r/2),t.zoom=void 0):t.zoom.bbox&&this._zoom.zoom_to_bbox(t.zoom.bbox,t.duration)),this._renderer.most_recent_restart=Date.now(),this._renderer.aes.apply_encoding(t.encoding),this._renderer.apply_webgl_scale&&this._renderer.apply_webgl_scale(t),this._renderer.reglframe&&(this._renderer.reglframe.cancel(),this._renderer.reglframe=void 0),this._renderer.reglframe=this._renderer.regl.frame((function(){i._renderer.tick("Basic")})),this._zoom.restart_timer(6e4);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"root_table",value:function(){var e=$r(Xr().mark((function e(){return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._root){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",this._root.record_batch);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"query",get:function(){var e=JSON.parse(JSON.stringify(this.prefs));return e.zoom={bbox:this._renderer.zoom.current_corners()},e}},{key:"drawContours",value:function(e,t){var n,r=(t||_a("body")).select("#canvas-2d").node().getContext("2d"),i=Qr(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.fillStyle="rgba(25, 25, 29, 1)",r.fillRect(0,0,2*window.innerWidth,2*window.innerHeight),r.strokeStyle="#8a0303",r.fillStyle="rgba(30, 30, 34, 1)",r.lineWidth=Ba([.45,.25*Math.exp(Math.log(this._zoom.transform.k/2))]);var o=mu(_u().scale(this._zoom.transform.k).translate([this._zoom.transform.x,this._zoom.transform.y]),r);r.beginPath(),o(a),r.fill()}}catch(Lk){i.e(Lk)}finally{i.f()}}},{key:"contours",value:function(e){var t=this._renderer.calculate_contours(e),n=this._zoom.scales(),r=n.x,i=n.y,a=n.x_,o=n.y_;!function e(t){if(t){if(t.coordinates)return e(t.coordinates);if(0!==t.length){if(t[0].length>0)return t.map(e);t[0]=r(a.invert(t[0])),t[1]=i(o.invert(t[1]))}}}(t),this.drawContours(t)}}]),e}(),$x=function(){function e(t){b(this,e),ii(this,"_f"),ii(this,"string_rep"),ii(this,"plot"),this.string_rep="",this.plot=t}return _(e,[{key:"f",get:function(){return void 0===this._f?this.default:this._f},set:function(e){"string"===typeof e?this.string_rep!==e&&(this.string_rep=e,this._f=Function("datum",e)):this._f=e}}]),e}(),Gx=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"default",value:function(e){console.log(o({},e))}}]),n}($x),qx=function(e){x(n,e);var t=Gr(n);function n(){return b(this,n),t.apply(this,arguments)}return _(n,[{key:"default",value:function(e){var t="<dl>",n=new Set(["x","y","ix",null,"tile_key"]);console.log(o({},e));var r,i=Qr(e);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),u=a[0],s=a[1];n.has(u)||null!==s&&""!==s&&(t+=" <dt>".concat(u,"</dt>\n"),t+="   <dd>".concat(s,"<dd>\n"))}}catch(Lk){i.e(Lk)}finally{i.f()}return"".concat(t,"</dl>\n")}}]),n}($x),Xx=n(184),Qx=(0,t.createContext)({}),Kx=function(e){var t=e.field,n=e.min,r=e.max;return{field:t,op:"within",a:(r-n)/2,b:(r+n)/2}},Jx=function(e){var t=e.field,n=e.selectedValues;if(!n.length)return{};var r=n.map((function(e){return"".concat(t,' === "').concat(e,'"')})).join(" || ");return{field:t,lambda:"".concat(t," => ").concat(r)}},ek={position:"fixed",top:0,left:0,width:"100%",height:"100%"},tk=function(e){var n=e.plotRef,r=e.prefs,i=e.tooltipHTML,a=e.onClickDataPoint,o=e.labels,u=e.children,s=l((0,t.useState)(!1),2),c=s[0],f=s[1],d="deep-scatter-parent-element-id",h=(0,t.useRef)(null);(0,t.useEffect)((function(){if(h.current&&(null===n||void 0===n||!n.current)){var e=new Yx("#".concat(d));i&&(e.tooltip_html=i),n.current=e,window.plot=e,console.log("created scatter..."),n.current.plotAPI(r).finally((function(){console.log("... initial prefs set"),f(!0),a&&(e.click_function=a),e.add_labels(o.features,o.name,o.labelKey)}))}}),[d,n,h,r,i,a,o.features,o.name,o.labelKey]);var p=(0,t.useMemo)((function(){return{initialLoadComplete:c,plotRef:n}}),[c,n]);return(0,Xx.jsxs)(Qx.Provider,{value:p,children:[u,(0,Xx.jsx)("div",{style:ek,id:d,ref:h})]})},nk=function(e){var n=e.catagoricalEncoding,r=e.updateCatagoricalFilter,i=e.field,a=l((0,t.useState)([]),2),o=a[0],u=a[1],s=l((0,t.useState)(!1),2),c=s[0],f=s[1],d=(0,t.useContext)(Qx).plotRef,h=function(e){var t,n,r=e.field,i=e.plot;return(null===i||void 0===i||null===(t=i._renderer)||void 0===t||null===(n=t.aes)||void 0===n?void 0:n.dim(r).current.scale.domain())||[]}({field:n,plot:d.current}),p=function(e){var t,n,r=e.field,i=e.plot;return(null===i||void 0===i||null===(t=i._renderer)||void 0===t||null===(n=t.aes)||void 0===n?void 0:n.dim(r).current.scale.range())||[]}({field:n,plot:d.current}),v=h.map((function(e,t){return{label:(0,Xx.jsx)("div",{style:{color:p[t%p.length]},children:e}),value:e}}));return(0,Xx.jsxs)(Xx.Fragment,{children:[(0,Xx.jsx)("h2",{children:(0,Xx.jsx)("label",{htmlFor:"multi-select",children:"Filter to a genre (note: can only do 1 filter at a time currently)"})}),(0,Xx.jsx)(Hr,{isMulti:!0,options:v,placeholder:"Choose categories",value:o,onChange:function(e){u(e),r({field:i,selectedValues:e.map((function(e){return e.value}))})},menuIsOpen:c,onMenuOpen:function(){return f(!0)},onMenuClose:function(){return f(!1)}})]})},rk=function(e){var n=e.field,r=e.updateRangeFilter,i=e.lowerBound,a=e.upperBound,o=l((0,t.useState)(i),2),u=o[0],s=o[1],c=l((0,t.useState)(a),2),d=c[0],h=c[1];return(0,Xx.jsxs)(Xx.Fragment,{children:[(0,Xx.jsx)("h2",{children:"Slide either end to filter between 1958-2022"}),(0,Xx.jsx)(f(),{min:i,max:a,step:.01,minValue:u,maxValue:d,onInput:function(e){s(e.minValue),h(e.maxValue),r({field:n,min:e.minValue,max:e.maxValue})}})]})},ik=function(e){var n=e.rangeSliderProps,r=e.catagoricalField,i=e.catagoricalEncoding,a=e.updateCatagoricalFilter,u=(0,t.useContext)(Qx),s=u.initialLoadComplete,l=u.plotRef;return s?(0,Xx.jsxs)("div",{style:{position:"fixed",zIndex:1e8,width:350,padding:24},children:[(0,Xx.jsx)("button",{onClick:function(){var e,t,n,r;l.current&&(console.log("copied:",null===(e=l.current)||void 0===e||null===(t=e._zoom)||void 0===t?void 0:t.current_corners()),navigator.clipboard.writeText(JSON.stringify(null===(n=l.current)||void 0===n||null===(r=n._zoom)||void 0===r?void 0:r.current_corners())))},children:"Click me get current bbox"}),(0,Xx.jsx)(rk,o({},n)),(0,Xx.jsx)(nk,{field:r,catagoricalEncoding:i,updateCatagoricalFilter:a})]}):null},ak="chart_debut_date_normalized_0_to_1",ok="generic_genre",uk="color",sk="song_id",lk={source_url:"".concat(window.location.origin,"/").concat("lyric-viz","/").concat("deepscatter-tiles"),max_points:5e5,alpha:500,zoom_balance:.7,point_size:4,background_color:"#ffffff",duration:1e3,encoding:(0,i.Z)({x:{field:"x",transform:"literal"},y:{field:"y",transform:"literal"}},uk,{field:ok,domain:[-2047,2047],range:"set1"})},ck=function(e){return'\n    <div style="width: 400px; z-index: 99;">\n      <h4>'.concat(e.lyric_line,"</h4>\n      <div>").concat(e.song,"</div>\n      <div>").concat(e.performer,"</div>\n      <div>").concat(e.generic_genre,"</div>\n      <div>").concat(new Date(e.chart_debut).getFullYear(),"</div>\n    </div>\n")},fk=function(e){var t="https://www.youtube.com/results?search_query=".concat(e.song,"+by+").concat(e.performer).replace(" ","+"),n="coords: [".concat(e.x,", ").concat(e.y,'], nearestLyric: "').concat(e.lyric_line,'",');console.log(n),window.open(t,"_blank")};function dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dk(Object(n),!0).forEach((function(t){pk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(Lk){u=!0,i=Lk}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return mk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yk=function(e){return"string"===typeof e&&e.includes("px")},bk={position:"fixed",left:0,width:"100%",height:0,borderTop:"2px dashed black",zIndex:9999},gk={fontSize:"12px",fontFamily:"monospace",margin:0,padding:6},_k=function(e){var n=e.offset,r=function(e){return yk(e)?e:"".concat(100*e,"%")}(n);return t.createElement("div",{style:hk(hk({},bk),{},{top:r})},t.createElement("p",{style:gk},"trigger: ",n))},wk=function(e){var n=e.debug,r=e.children,i=e.offset,a=e.onStepEnter,o=e.onStepExit,u=e.onStepProgress,s=e.threshold,l=yk(i),c=vk((0,t.useState)(0),2),f=c[0],d=c[1],h=vk((0,t.useState)(null),2),p=h[0],v=h[1],m=function(e){d(e)},y=function(e){v(window.innerHeight)};t.useEffect((function(){if(l)return window.addEventListener("resize",y),function(){window.removeEventListener("resize",y)}}),[]);var b="undefined"!==typeof window?p||window.innerHeight:0,g=l?+i.replace("px","")/b:i,_=(0,t.useMemo)((function(){return function(e,t){for(var n=Math.ceil(t/e),r=[],i=1/n,a=0;a<=n;a+=1)r.push(a*i);return r}(s,b)}),[b]);return t.createElement(t.Fragment,null,n&&t.createElement(_k,{offset:i}),t.Children.map(r,(function(e,n){return t.cloneElement(e,{scrollamaId:"react-scrollama-".concat(n),offset:g,onStepEnter:a,onStepExit:o,onStepProgress:u,lastScrollTop:f,handleSetLastScrollTop:m,progressThreshold:_,innerHeight:b})})))};wk.defaultProps={onStepProgress:null,onStepEnter:function(){},onStepExit:function(){},threshold:4,offset:.3};var xk=new Map,kk=new WeakMap,Sk=0,Ok=void 0;function Ak(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return"".concat(t,"_").concat("root"===t?function(e){return e?(kk.has(e)||(Sk+=1,kk.set(e,Sk.toString())),kk.get(e)):"0"}(e.root):e[t])})).toString()}function Ek(e){var t=Ak(e),n=xk.get(t);if(!n){var r,i=new Map,a=new IntersectionObserver((function(t){t.forEach((function(t){var n,a=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=a),null==(n=i.get(t.target))||n.forEach((function(e){e(a,t)}))}))}),e);r=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:i},xk.set(t,n)}return n}function Ik(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ok;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var a=Ek(n),o=a.id,u=a.observer,s=a.elements,l=s.get(e)||[];return s.has(e)||s.set(e,l),l.push(t),u.observe(e),function(){l.splice(l.indexOf(t),1),0===l.length&&(s.delete(e),u.unobserve(e)),0===s.size&&(u.disconnect(),xk.delete(o))}}function Ck(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.threshold,r=e.delay,i=e.trackVisibility,a=e.rootMargin,o=e.root,u=e.triggerOnce,s=e.skip,c=e.initialInView,f=e.fallbackInView,d=e.onChange,h=t.useRef(),p=t.useRef(),v=t.useState({inView:!!c}),m=l(v,2),y=m[0],b=m[1];p.current=d;var g=t.useCallback((function(e){void 0!==h.current&&(h.current(),h.current=void 0),s||e&&(h.current=Ik(e,(function(e,t){b({inView:e,entry:t}),p.current&&p.current(e,t),t.isIntersecting&&u&&h.current&&(h.current(),h.current=void 0)}),{root:o,rootMargin:a,threshold:n,trackVisibility:i,delay:r},f))}),[Array.isArray(n)?n.toString():n,o,a,u,s,i,f,r]);t.useEffect((function(){h.current||!y.entry||u||s||b({inView:!!c})}));var _=[g,y.inView,y.entry];return _.ref=_[0],_.inView=_[1],_.entry=_[2],_}var Tk=function(e){var n=e.children,r=e.data,i=e.handleSetLastScrollTop,a=e.lastScrollTop,o=e.onStepEnter,u=e.onStepExit,s=e.onStepProgress,l=e.offset,c=e.scrollamaId,f=e.progressThreshold,d=e.innerHeight,h="undefined"!==typeof window?document.documentElement.scrollTop:0,p=a<h?"down":"up",v=function(e){return"-".concat(100*e,"% 0px -").concat(100-100*e,"% 0px")}(l),m=(0,t.useRef)(null),y=vk((0,t.useState)(!1),2),b=y[0],g=y[1],_=Ck({rootMargin:v,threshold:0}),w=_.ref,x=_.entry,k=Ck({rootMargin:(0,t.useMemo)((function(){return function(e,t,n,r){if(!n.current)return"0px";var i=n.current.offsetHeight/r;return"down"===e?"".concat(100*(i-t),"% 0px ").concat(100*t-100,"% 0px"):"-".concat(100*t,"% 0px ").concat(100*i-(100-100*t),"% 0px")}(p,l,m,d)}),[p,l,m,d]),threshold:f}),S=k.ref,O=k.entry,A=(0,t.useCallback)((function(e){m.current=e,w(e),S(e)}),[w,S]);return t.useEffect((function(){if(b){var e=O.target.getBoundingClientRect(),t=e.height,n=e.top,i=Math.min(1,Math.max(0,(window.innerHeight*l-n)/t));s&&s({progress:i,scrollamaId:c,data:r,element:O.target,entry:O,direction:p})}}),[O]),t.useEffect((function(){x&&!x.isIntersecting&&b?(u({element:x.target,scrollamaId:c,data:r,entry:x,direction:p}),g(!1),i(h)):x&&x.isIntersecting&&!b&&(g(!0),o({element:x.target,scrollamaId:c,data:r,entry:x,direction:p}),i(h))}),[x]),t.cloneElement(t.Children.only(n),{"data-react-scrollama-id":c,ref:A,entry:x})};Tk.defaultProps={onStepProgress:null,onStepEnter:function(){},onStepExit:function(){}};var Mk={overview:{x:[0,1],y:[0,1]},firstIssueFocus:{x:[.5074450273282145,.594718790487779],y:[.7049463248931738,.7728779733647674]},blingTown:{x:[.3588005036078645,.41581382528495037],y:[.49764345111427793,.5413608358870472]},feelingsFalls:{x:[.4575146597836081,.7486141162637061],y:[.2681981523384174,.4331366411850291]}},Dk={noFilters:{encoding:{filter:{},filter2:{},jitter_radius:{}}},xyEncodingNoFilters:{encoding:{x:{field:"x"},y:{field:"y"},filter:{},filter2:{},jitter_radius:{}}},justOneJiraIssue:{encoding:{filter:{field:sk,lambda:"".concat(sk," => ").concat(sk,' === "',"MDS-7",'"')}}},timeOnTheXAndGenreBinOnY:{encoding:{y:{field:"genre_position_band"},x:{field:ak},jitter_radius:{constant:.01,method:"uniform"},jitter_speed:{constant:0}}}},jk={welcomeToTheViz:{content:"Welcome to the map: each dot is 1 of 166,000 lyric lines, arranged by topic via sentence embedding. Click a dot to open that song in YouTube.",zoomTo:Mk.overview,prefsUpdate:Dk.xyEncodingNoFilters},blingTown:{content:"This is Bling Town: chains, watches, diamonds, gold, ice...",zoomTo:Mk.blingTown,prefsUpdate:Dk.xyEncodingNoFilters},zoomBackOut:{content:"... and we can animate these points into new arrangements as well... scroll on!",zoomTo:Mk.overview,prefsUpdate:Dk.xyEncodingNoFilters},timeOnTheXAndGenreBinOnY:{content:"There are other ways to view visualize the lyrics: here the the X-axis is time, genre is on the Y.",zoomTo:Mk.overview,prefsUpdate:Dk.timeOnTheXAndGenreBinOnY}},zk=function(e){return e.map((function(e,t){return o(o({},e),{},{index:t})}))}([jk.welcomeToTheViz,jk.blingTown,jk.zoomBackOut,jk.timeOnTheXAndGenreBinOnY]),Nk=function(e){var n=e.updatePlotOnStepChange,r=l((0,t.useState)(null),2),i=r[0],a=r[1],o=l((0,t.useState)(!1),2),u=o[0],s=o[1];return(0,Xx.jsxs)("div",{style:{float:"right",zIndex:1e4,width:300,position:"relative",paddingTop:u?"25vh":0,paddingBottom:u?"25vh":0,height:u?void 0:0},children:[(0,Xx.jsx)("div",{style:{position:"fixed",top:0},children:(0,Xx.jsxs)("button",{onClick:function(){return s(!u)},children:[(0,Xx.jsx)("b",{children:u?"Close":"Open"})," scrollytelling guided tour"]})}),(0,Xx.jsx)("div",{style:{visibility:u?"visible":"hidden"},children:(0,Xx.jsx)(wk,{offset:.5,onStepEnter:function(e){var t=e.data;a(t.index),n({storyStep:t})},children:zk.map((function(e,t){return(0,Xx.jsx)(Tk,{data:e,children:(0,Xx.jsx)("div",{style:{marginTop:"30vh",marginBottom:"30vh",opacity:i===t?1:.2,padding:10,fontSize:20,borderRadius:8,background:"blanchedalmond"},children:e.content})},t)}))})})]})},Pk={features:{type:"FeatureCollection",name:"lyric_viz_region_labels",features:[{type:"Feature",properties:{label:"Dream Island",nearestLyric:"Everything That I've been dreaming of"},geometry:{type:"Point",coordinates:[.5599439740180969,.2792370021343231]}}]},name:"lyric_viz_region_labels",labelKey:"label"};var Fk=function(){var e=(0,t.useRef)(),n={field:ak,updateRangeFilter:function(t){var n,r=t.field,i=t.min,a=t.max;null===e||void 0===e||null===(n=e.current)||void 0===n||n.plotAPI({encoding:{filter:Kx({field:r,min:i,max:a})}})},lowerBound:0,upperBound:1};return(0,Xx.jsx)(Xx.Fragment,{children:(0,Xx.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,Xx.jsxs)(tk,{plotRef:e,prefs:lk,tooltipHTML:ck,onClickDataPoint:fk,labels:Pk,children:[(0,Xx.jsx)(ik,{rangeSliderProps:n,catagoricalField:ok,catagoricalEncoding:uk,updateCatagoricalFilter:function(t){var n,r=t.field,i=t.selectedValues;null===e||void 0===e||null===(n=e.current)||void 0===n||n.plotAPI({encoding:{filter2:Jx({field:r,selectedValues:i})}})}}),(0,Xx.jsx)(Nk,{updatePlotOnStepChange:function(t){var n=t.storyStep,r=n.zoomTo,i=n.prefsUpdate;e.current&&(r||i)&&e.current.plotAPI(o({zoom:{bbox:r}},i))}})]})})})};r.createRoot(document.getElementById("root")).render((0,Xx.jsx)(Fk,{}))}()}();
//# sourceMappingURL=main.64ff1c93.js.map